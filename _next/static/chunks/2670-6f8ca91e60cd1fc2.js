"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2670],{23481:(e,s,a)=>{a.d(s,{W:()=>b});var t=a(95155),l=a(12115),r=a(97168),i=a(88145),n=a(69663),d=a(34964),c=a(99474),o=a(99840),m=a(40646),x=a(13717),u=a(14395),h=a(69074),v=a(14186),p=a(81497),j=a(94008),g=a(58885);function b(e){var s;let{task:a,isOpen:b,onClose:N,onStatusChange:f,onEdit:y,onAddComment:w}=e,[k,C]=(0,l.useState)("details"),[A,D]=(0,l.useState)("");if(!a)return null;let E=e=>{let s="★".repeat(e)+"☆".repeat(5-e);return"".concat(s," ").concat(10*e,"pt")};return(0,t.jsx)(o.lG,{open:b,onOpenChange:N,children:(0,t.jsxs)(o.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(o.c7,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(o.L3,{className:"font-semibold text-xl",children:a.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[a.evaluation&&(0,t.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800",children:E(a.evaluation.rating)}),"completed"===a.status&&(0,t.jsxs)(i.E,{className:"bg-blue-100 text-blue-800 border border-blue-200",children:[(0,t.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"完了"]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:y&&(0,t.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>y(a),children:[(0,t.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"編集"]})})]})}),(0,t.jsxs)(d.tU,{value:k,onValueChange:C,className:"mt-6",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(d.j7,{className:"flex w-max min-w-full bg-slate-100 p-1 rounded-lg",children:[(0,t.jsx)(d.Xi,{value:"details",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"詳細"}),(0,t.jsx)(d.Xi,{value:"evaluation",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"評価"}),(0,t.jsxs)(d.Xi,{value:"comments",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:["コメント (",(null===(s=a.comments)||void 0===s?void 0:s.length)||0,")"]}),(0,t.jsx)(d.Xi,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"ファイル (0)"}),(0,t.jsx)(d.Xi,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"活動履歴"})]})}),(0,t.jsx)(d.av,{value:"details",className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.project.color}}),(0,t.jsx)(u.A,{className:"w-4 h-4 text-slate-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-900",children:a.project.name})]}),a.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:"説明"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:a.description})]}),a.assignee&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:"担当者"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.eu,{className:"w-6 h-6",children:[(0,t.jsx)(n.BK,{src:a.assignee.avatar||"/placeholder.svg",alt:a.assignee.name}),(0,t.jsx)(n.q5,{className:"text-xs",children:a.assignee.name.charAt(0)})]}),(0,t.jsx)("span",{className:"text-sm text-slate-600",children:a.assignee.name})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.dueDate&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-slate-900 mb-2 flex items-center gap-1",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),"期限"]}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:(0,j.GP)(new Date(a.dueDate),"yyyy年M月d日 (E)",{locale:g.ja})})]}),a.completedAt&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-slate-900 mb-2 flex items-center gap-1",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),"完了日"]}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:(0,j.GP)(new Date(a.completedAt),"yyyy年M月d日 (E)",{locale:g.ja})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-slate-900 mb-2 flex items-center gap-1",children:[(0,t.jsx)(v.A,{className:"w-4 h-4"}),"作成日"]}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:(0,j.GP)(new Date(a.createdAt),"yyyy年M月d日 (E) HH:mm",{locale:g.ja})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-900 mb-2",children:"優先度"}),(0,t.jsx)(i.E,{className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-amber-100 text-amber-800 border border-amber-200";case"low":return"bg-emerald-100 text-emerald-800 border border-emerald-200";default:return"bg-slate-100 text-slate-800 border border-slate-200"}})(a.priority),variant:"outline",children:(e=>{switch(e){case"high":return"高";case"medium":default:return"中";case"low":return"低"}})(a.priority)})]})]})]})}),(0,t.jsx)(d.av,{value:"evaluation",className:"space-y-4",children:a.evaluation?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"評価情報"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800",children:E(a.evaluation.rating)}),(0,t.jsx)("span",{className:"text-sm text-slate-500",children:(0,j.GP)(new Date(a.evaluation.evaluatedAt),"M/d H:mm",{locale:g.ja})})]}),a.evaluation.comment&&(0,t.jsx)("div",{className:"bg-white rounded border border-slate-200 p-3",children:(0,t.jsx)("p",{className:"text-sm text-slate-700",children:a.evaluation.comment})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-slate-200",children:[(0,t.jsxs)(n.eu,{className:"w-6 h-6",children:[(0,t.jsx)(n.BK,{src:a.evaluation.evaluatedBy.avatar,alt:a.evaluation.evaluatedBy.name}),(0,t.jsx)(n.q5,{className:"text-xs",children:a.evaluation.evaluatedBy.name.charAt(0)})]}),(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:[a.evaluation.evaluatedBy.name," が評価"]})]})]})}):(0,t.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"まだ評価がありません"})}),(0,t.jsxs)(d.av,{value:"comments",className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:a.comments&&a.comments.length>0?a.comments.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)(n.eu,{className:"w-8 h-8",children:[(0,t.jsx)(n.BK,{src:e.author.avatar,alt:e.author.name}),(0,t.jsx)(n.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,j.GP)(new Date(e.createdAt),"M/d H:mm",{locale:g.ja})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:e.content})]})]},e.id)):(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"まだコメントがありません"})}),w&&(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c.T,{placeholder:"コメントを入力...",value:A,onChange:e=>D(e.target.value),maxLength:500,rows:3,className:"min-h-16"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[A.length,"/500文字"]}),(0,t.jsxs)(r.$,{onClick:()=>{A.trim()&&w&&(w(A),D(""))},disabled:!A.trim(),size:"sm",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"コメント投稿"]})]})]})})]}),(0,t.jsx)(d.av,{value:"files",className:"space-y-4",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"ファイルがここに表示されます"})}),(0,t.jsx)(d.av,{value:"activity",className:"space-y-4",children:(0,t.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"活動履歴がここに表示されます"})})]})]})})}},34964:(e,s,a)=>{a.d(s,{Xi:()=>d,av:()=>c,j7:()=>n,tU:()=>i});var t=a(95155);a(12115);var l=a(60704),r=a(53999);function i(e){let{className:s,...a}=e;return(0,t.jsx)(l.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...a})}function n(e){let{className:s,...a}=e;return(0,t.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...a})}},63776:(e,s,a)=>{a.d(s,{j:()=>c});var t=a(95155),l=a(97168),r=a(89852),i=a(82714),n=a(99474),d=a(99840);function c(e){let{isOpen:s,onClose:a,newTask:c,onNewTaskChange:o,onCreate:m}=e;return(0,t.jsx)(d.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(d.Cf,{className:"sm:max-w-[500px]",children:[(0,t.jsxs)(d.c7,{children:[(0,t.jsx)(d.L3,{children:"新しいタスクを作成"}),(0,t.jsx)(d.rr,{children:"タスクの詳細を入力してください。"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"title",children:"タスク名"}),(0,t.jsx)(r.p,{id:"title",value:c.title,onChange:e=>o({...c,title:e.target.value}),placeholder:"タスク名を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"description",children:"説明"}),(0,t.jsx)(n.T,{id:"description",value:c.description,onChange:e=>o({...c,description:e.target.value}),placeholder:"タスクの説明を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"priority",children:"優先度"}),(0,t.jsxs)("select",{id:"priority",value:c.priority,onChange:e=>o({...c,priority:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,t.jsx)("option",{value:"low",children:"低"}),(0,t.jsx)("option",{value:"medium",children:"中"}),(0,t.jsx)("option",{value:"high",children:"高"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"dueDate",children:"期限"}),(0,t.jsx)(r.p,{id:"dueDate",type:"date",value:c.dueDate,onChange:e=>o({...c,dueDate:e.target.value}),className:"border-slate-200 focus:border-slate-400"})]})]})]}),(0,t.jsxs)(d.Es,{children:[(0,t.jsx)(l.$,{type:"button",variant:"outline",onClick:a,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,t.jsx)(l.$,{type:"button",onClick:m,disabled:!c.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"作成"})]})]})})}},82714:(e,s,a)=>{a.d(s,{J:()=>i});var t=a(95155);a(12115);var l=a(40968),r=a(53999);function i(e){let{className:s,...a}=e;return(0,t.jsx)(l.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}},95139:(e,s,a)=>{a.d(s,{S:()=>n});var t=a(95155);a(12115);var l=a(76981),r=a(5196),i=a(53999);function n(e){let{className:s,...a}=e;return(0,t.jsx)(l.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...a,children:(0,t.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(r.A,{className:"size-3.5"})})})}},99474:(e,s,a)=>{a.d(s,{T:()=>r});var t=a(95155);a(12115);var l=a(53999);function r(e){let{className:s,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}}}]);