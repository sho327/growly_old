"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6708],{20864:(e,t,s)=>{s.d(t,{t:()=>m});var a=s(95155),l=s(12115),r=s(97168),i=s(89852),n=s(82714),c=s(99474),d=s(88145),o=s(34964),x=s(99840);function m(e){var t;let{task:s,isOpen:m,onClose:u,onUpdate:h}=e;if(!s)return null;let[v,p]=(0,l.useState)(s),[g,j]=(0,l.useState)("details");return(0,l.useEffect)(()=>{s&&p(s)},[s]),(0,a.jsx)(x.lG,{open:m,onOpenChange:u,children:(0,a.jsxs)(x.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(x.L3,{className:"font-semibold text-xl",children:v.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)(d.E,{className:(e=>{switch(e){case"todo":default:return"bg-slate-100 text-slate-800 border border-slate-200";case"in-progress":return"bg-emerald-100 text-emerald-800 border border-emerald-200";case"completed":return"bg-green-100 text-green-800 border border-green-200"}})(v.status),variant:"outline",children:(e=>{switch(e){case"todo":default:return"未着手";case"in-progress":return"進行中";case"completed":return"完了"}})(v.status)}),(0,a.jsx)(d.E,{className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-amber-100 text-amber-800 border border-amber-200";case"low":return"bg-emerald-100 text-emerald-800 border border-emerald-200";default:return"bg-slate-100 text-slate-800 border border-slate-200"}})(v.priority),variant:"outline",children:(e=>{switch(e){case"high":return"高";case"medium":default:return"中";case"low":return"低"}})(v.priority)})]})]})})}),(0,a.jsxs)(o.tU,{value:g,onValueChange:j,className:"mt-6",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(o.j7,{className:"flex w-max min-w-full bg-slate-100 p-1 rounded-lg",children:[(0,a.jsx)(o.Xi,{value:"details",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"詳細"}),(0,a.jsx)(o.Xi,{value:"evaluation",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"評価"}),(0,a.jsxs)(o.Xi,{value:"comments",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:["コメント (",(null===(t=v.comments)||void 0===t?void 0:t.length)||0,")"]}),(0,a.jsx)(o.Xi,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"ファイル (0)"}),(0,a.jsx)(o.Xi,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"活動履歴"})]})}),(0,a.jsx)(o.av,{value:"details",className:"space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"title",children:"タスク名"}),(0,a.jsx)(i.p,{id:"title",value:v.title,onChange:e=>p({...v,title:e.target.value}),placeholder:"タスク名を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"description",children:"説明"}),(0,a.jsx)(c.T,{id:"description",value:v.description,onChange:e=>p({...v,description:e.target.value}),placeholder:"タスクの説明を入力",className:"border-slate-200 focus:border-slate-400",rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"priority",children:"優先度"}),(0,a.jsxs)("select",{id:"priority",value:v.priority,onChange:e=>p({...v,priority:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"low",children:"低"}),(0,a.jsx)("option",{value:"medium",children:"中"}),(0,a.jsx)("option",{value:"high",children:"高"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"status",children:"ステータス"}),(0,a.jsxs)("select",{id:"status",value:v.status,onChange:e=>p({...v,status:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"todo",children:"未着手"}),(0,a.jsx)("option",{value:"in-progress",children:"進行中"}),(0,a.jsx)("option",{value:"completed",children:"完了"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"dueDate",children:"期限"}),(0,a.jsx)(i.p,{id:"dueDate",type:"date",value:v.dueDate||"",onChange:e=>p({...v,dueDate:e.target.value||null}),className:"border-slate-200 focus:border-slate-400"})]})]})}),(0,a.jsx)(o.av,{value:"evaluation",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"評価機能は別のダイアログで管理されます"})}),(0,a.jsx)(o.av,{value:"comments",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"コメント機能は別のダイアログで管理されます"})}),(0,a.jsx)(o.av,{value:"files",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"ファイル機能は別のダイアログで管理されます"})}),(0,a.jsx)(o.av,{value:"activity",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"活動履歴機能は別のダイアログで管理されます"})})]}),(0,a.jsxs)(x.Es,{className:"mt-6",children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:u,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,a.jsx)(r.$,{type:"button",onClick:()=>{h(v)},disabled:!v.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"更新"})]})]})})}},64965:(e,t,s)=>{s.d(t,{$:()=>h});var a=s(95155),l=s(12115),r=s(38564),i=s(81497),n=s(97168),c=s(82714),d=s(99474),o=s(88145),x=s(99840),m=s(75512),u=s(58885);function h(e){var t,s,h,v;let{isOpen:p,onClose:g,task:j,onEvaluate:b}=e,[N,f]=(0,l.useState)((null==j?void 0:null===(s=j.evaluation)||void 0===s?void 0:null===(t=s.points)||void 0===t?void 0:t.toString())||""),[w,y]=(0,l.useState)((null==j?void 0:null===(h=j.evaluation)||void 0===h?void 0:h.rating)||0),[C,k]=(0,l.useState)((null==j?void 0:null===(v=j.evaluation)||void 0===v?void 0:v.comment)||""),[E,S]=(0,l.useState)(0),J=()=>{var e,t,s,a;f((null==j?void 0:null===(t=j.evaluation)||void 0===t?void 0:null===(e=t.points)||void 0===e?void 0:e.toString())||""),y((null==j?void 0:null===(s=j.evaluation)||void 0===s?void 0:s.rating)||0),k((null==j?void 0:null===(a=j.evaluation)||void 0===a?void 0:a.comment)||""),S(0),g()};return(0,a.jsx)(x.lG,{open:p,onOpenChange:J,children:(0,a.jsxs)(x.Cf,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(x.c7,{children:[(0,a.jsxs)(x.L3,{className:"text-lg leading-none font-semibold flex items-center gap-2",children:[(0,a.jsx)(r.A,{className:"h-5 w-5 text-yellow-500"}),"タスクを評価"]}),(0,a.jsx)(x.rr,{className:"text-sm",children:"完了したタスクの品質や貢献度を評価してください。評価はチームメンバーのモチベーション向上に役立ちます。"})]}),(0,a.jsxs)("div",{className:"space-y-6 py-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:j.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[j.evaluation&&(0,a.jsx)(o.E,{className:"bg-green-100 text-green-800",children:(e=>{let t="★".repeat(e)+"☆".repeat(5-e);return"".concat(t," ").concat(10*e,"pt")})(j.evaluation.rating)}),j.completedAt&&(0,a.jsxs)(o.E,{variant:"outline",children:["完了日: ",(0,m.GP)(new Date(j.completedAt),"yyyy/M/d",{locale:u.ja})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c.J,{className:"flex items-center gap-2 text-base font-medium",children:"評価 (必須)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>y(e),onMouseEnter:()=>S(e),onMouseLeave:()=>S(0),className:"p-1 hover:scale-110 transition-transform",children:(0,a.jsx)(r.A,{className:"h-8 w-8 transition-colors ".concat((E||w)>=e?"text-yellow-400 fill-current":"text-gray-300")})},e))}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-yellow-600",children:[w,"/5"]})]}),w>0&&(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(e=>{switch(e){case 1:return"改善が必要";case 2:return"期待以下";case 3:return"期待通り";case 4:return"期待以上";case 5:return"素晴らしい！期待を上回る品質です";default:return""}})(w)})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(c.J,{htmlFor:"comment",className:"select-none text-base font-medium flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),"コメント (任意)"]}),(0,a.jsx)(d.T,{id:"comment",placeholder:"具体的なフィードバックや改善提案があれば記入してください...",value:C,onChange:e=>k(e.target.value),maxLength:500,className:"min-h-[100px]"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground text-right",children:[C.length,"/500文字"]})]})]}),(0,a.jsxs)(x.Es,{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[(0,a.jsx)(n.$,{type:"button",variant:"outline",onClick:J,className:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",children:"キャンセル"}),(0,a.jsxs)(n.$,{type:"button",onClick:()=>{N&&0!==w&&(b({points:parseInt(N),rating:w,comment:C}),g())},disabled:!N||0===w,className:"bg-yellow-500 hover:bg-yellow-600 text-primary-foreground shadow-xs",children:[(0,a.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"評価を送信"]})]})]})})}}}]);