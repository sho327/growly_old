"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6708],{20864:(e,t,a)=>{a.d(t,{t:()=>x});var s=a(95155),l=a(12115),r=a(97168),n=a(89852),i=a(82714),o=a(99474),d=a(88145),c=a(34964),u=a(99840);function x(e){var t;let{task:a,isOpen:x,onClose:m,onUpdate:v}=e;if(!a)return null;let[h,g]=(0,l.useState)(a),[p,f]=(0,l.useState)("details");return(0,l.useEffect)(()=>{a&&g(a)},[a]),(0,s.jsx)(u.lG,{open:x,onOpenChange:m,children:(0,s.jsxs)(u.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)(u.c7,{children:(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(u.L3,{className:"font-semibold text-xl",children:h.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(d.E,{className:(e=>{switch(e){case"todo":default:return"bg-slate-100 text-slate-800 border border-slate-200";case"in-progress":return"bg-emerald-100 text-emerald-800 border border-emerald-200";case"completed":return"bg-green-100 text-green-800 border border-green-200"}})(h.status),variant:"outline",children:(e=>{switch(e){case"todo":default:return"未着手";case"in-progress":return"進行中";case"completed":return"完了"}})(h.status)}),(0,s.jsx)(d.E,{className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-amber-100 text-amber-800 border border-amber-200";case"low":return"bg-emerald-100 text-emerald-800 border border-emerald-200";default:return"bg-slate-100 text-slate-800 border border-slate-200"}})(h.priority),variant:"outline",children:(e=>{switch(e){case"high":return"高";case"medium":default:return"中";case"low":return"低"}})(h.priority)})]})]})})}),(0,s.jsxs)(c.tU,{value:p,onValueChange:f,className:"mt-6",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(c.j7,{className:"flex w-max min-w-full bg-slate-100 p-1 rounded-lg",children:[(0,s.jsx)(c.Xi,{value:"details",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"詳細"}),(0,s.jsx)(c.Xi,{value:"evaluation",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"評価"}),(0,s.jsxs)(c.Xi,{value:"comments",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:["コメント (",(null===(t=h.comments)||void 0===t?void 0:t.length)||0,")"]}),(0,s.jsx)(c.Xi,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"ファイル (0)"}),(0,s.jsx)(c.Xi,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"活動履歴"})]})}),(0,s.jsx)(c.av,{value:"details",className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"title",children:"タスク名"}),(0,s.jsx)(n.p,{id:"title",value:h.title,onChange:e=>g({...h,title:e.target.value}),placeholder:"タスク名を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"description",children:"説明"}),(0,s.jsx)(o.T,{id:"description",value:h.description,onChange:e=>g({...h,description:e.target.value}),placeholder:"タスクの説明を入力",className:"border-slate-200 focus:border-slate-400",rows:4})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"priority",children:"優先度"}),(0,s.jsxs)("select",{id:"priority",value:h.priority,onChange:e=>g({...h,priority:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,s.jsx)("option",{value:"low",children:"低"}),(0,s.jsx)("option",{value:"medium",children:"中"}),(0,s.jsx)("option",{value:"high",children:"高"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"status",children:"ステータス"}),(0,s.jsxs)("select",{id:"status",value:h.status,onChange:e=>g({...h,status:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,s.jsx)("option",{value:"todo",children:"未着手"}),(0,s.jsx)("option",{value:"in-progress",children:"進行中"}),(0,s.jsx)("option",{value:"completed",children:"完了"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"dueDate",children:"期限"}),(0,s.jsx)(n.p,{id:"dueDate",type:"date",value:h.dueDate||"",onChange:e=>g({...h,dueDate:e.target.value||null}),className:"border-slate-200 focus:border-slate-400"})]})]})}),(0,s.jsx)(c.av,{value:"evaluation",className:"space-y-4",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"評価機能は別のダイアログで管理されます"})}),(0,s.jsx)(c.av,{value:"comments",className:"space-y-4",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"コメント機能は別のダイアログで管理されます"})}),(0,s.jsx)(c.av,{value:"files",className:"space-y-4",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"ファイル機能は別のダイアログで管理されます"})}),(0,s.jsx)(c.av,{value:"activity",className:"space-y-4",children:(0,s.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"活動履歴機能は別のダイアログで管理されます"})})]}),(0,s.jsxs)(u.Es,{className:"mt-6",children:[(0,s.jsx)(r.$,{type:"button",variant:"outline",onClick:m,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,s.jsx)(r.$,{type:"button",onClick:()=>{v(h)},disabled:!h.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"更新"})]})]})})}},34964:(e,t,a)=>{a.d(t,{Xi:()=>o,av:()=>d,j7:()=>i,tU:()=>n});var s=a(95155);a(12115);var l=a(60704),r=a(53999);function n(e){let{className:t,...a}=e;return(0,s.jsx)(l.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...a})}},64965:(e,t,a)=>{a.d(t,{$:()=>v});var s=a(95155),l=a(12115),r=a(38564),n=a(81497),i=a(97168),o=a(82714),d=a(99474),c=a(88145),u=a(99840),x=a(94008),m=a(58885);function v(e){var t,a,v,h;let{isOpen:g,onClose:p,task:f,onEvaluate:b}=e,[j,N]=(0,l.useState)((null==f?void 0:null===(a=f.evaluation)||void 0===a?void 0:null===(t=a.points)||void 0===t?void 0:t.toString())||""),[w,y]=(0,l.useState)((null==f?void 0:null===(v=f.evaluation)||void 0===v?void 0:v.rating)||0),[k,C]=(0,l.useState)((null==f?void 0:null===(h=f.evaluation)||void 0===h?void 0:h.comment)||""),[E,z]=(0,l.useState)(0),_=()=>{var e,t,a,s;N((null==f?void 0:null===(t=f.evaluation)||void 0===t?void 0:null===(e=t.points)||void 0===e?void 0:e.toString())||""),y((null==f?void 0:null===(a=f.evaluation)||void 0===a?void 0:a.rating)||0),C((null==f?void 0:null===(s=f.evaluation)||void 0===s?void 0:s.comment)||""),z(0),p()};return(0,s.jsx)(u.lG,{open:g,onOpenChange:_,children:(0,s.jsxs)(u.Cf,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(u.c7,{children:[(0,s.jsxs)(u.L3,{className:"text-lg leading-none font-semibold flex items-center gap-2",children:[(0,s.jsx)(r.A,{className:"h-5 w-5 text-yellow-500"}),"タスクを評価"]}),(0,s.jsx)(u.rr,{className:"text-sm",children:"完了したタスクの品質や貢献度を評価してください。評価はチームメンバーのモチベーション向上に役立ちます。"})]}),(0,s.jsxs)("div",{className:"space-y-6 py-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:f.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[f.evaluation&&(0,s.jsx)(c.E,{className:"bg-green-100 text-green-800",children:(e=>{let t="★".repeat(e)+"☆".repeat(5-e);return"".concat(t," ").concat(10*e,"pt")})(f.evaluation.rating)}),f.completedAt&&(0,s.jsxs)(c.E,{variant:"outline",children:["完了日: ",(0,x.GP)(new Date(f.completedAt),"yyyy/M/d",{locale:m.ja})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(o.J,{className:"flex items-center gap-2 text-base font-medium",children:"評価 (必須)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>y(e),onMouseEnter:()=>z(e),onMouseLeave:()=>z(0),className:"p-1 hover:scale-110 transition-transform",children:(0,s.jsx)(r.A,{className:"h-8 w-8 transition-colors ".concat((E||w)>=e?"text-yellow-400 fill-current":"text-gray-300")})},e))}),(0,s.jsxs)("span",{className:"text-lg font-semibold text-yellow-600",children:[w,"/5"]})]}),w>0&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:(e=>{switch(e){case 1:return"改善が必要";case 2:return"期待以下";case 3:return"期待通り";case 4:return"期待以上";case 5:return"素晴らしい！期待を上回る品質です";default:return""}})(w)})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(o.J,{htmlFor:"comment",className:"select-none text-base font-medium flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),"コメント (任意)"]}),(0,s.jsx)(d.T,{id:"comment",placeholder:"具体的なフィードバックや改善提案があれば記入してください...",value:k,onChange:e=>C(e.target.value),maxLength:500,className:"min-h-[100px]"}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground text-right",children:[k.length,"/500文字"]})]})]}),(0,s.jsxs)(u.Es,{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[(0,s.jsx)(i.$,{type:"button",variant:"outline",onClick:_,className:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",children:"キャンセル"}),(0,s.jsxs)(i.$,{type:"button",onClick:()=>{j&&0!==w&&(b({points:parseInt(j),rating:w,comment:k}),p())},disabled:!j||0===w,className:"bg-yellow-500 hover:bg-yellow-600 text-primary-foreground shadow-xs",children:[(0,s.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"評価を送信"]})]})]})})}},82714:(e,t,a)=>{a.d(t,{J:()=>n});var s=a(95155);a(12115);var l=a(40968),r=a(53999);function n(e){let{className:t,...a}=e;return(0,s.jsx)(l.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},99474:(e,t,a)=>{a.d(t,{T:()=>r});var s=a(95155);a(12115);var l=a(53999);function r(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}},99840:(e,t,a)=>{a.d(t,{Cf:()=>u,Es:()=>m,L3:()=>v,c7:()=>x,lG:()=>i,rr:()=>h,zM:()=>o});var s=a(95155);a(12115);var l=a(15452),r=a(54416),n=a(53999);function i(e){let{...t}=e;return(0,s.jsx)(l.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,s.jsx)(l.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,s.jsx)(l.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function u(e){let{className:t,children:a,showCloseButton:i=!0,...o}=e;return(0,s.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[a,i&&(0,s.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(r.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",t),...a})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}}}]);