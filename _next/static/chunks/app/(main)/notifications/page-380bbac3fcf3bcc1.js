(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1496],{34964:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,av:()=>d,j7:()=>n,tU:()=>i});var a=s(95155);s(12115);var l=s(60704),r=s(53999);function i(e){let{className:t,...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",t),...s})}function n(e){let{className:t,...s}=e;return(0,a.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function d(e){let{className:t,...s}=e;return(0,a.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",t),...s})}},58037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(95155),l=s(12115),r=s(88482),i=s(88145),n=s(97168),c=s(34964),d=s(18186),o=s(13062),x=s(40646),m=s(14395),u=s(33109),h=s(38564),p=s(10238),j=s(23861),b=s(91788),g=s(45222),v=s(89852),f=s(67133),N=s(47924),w=s(94008);function y(e){let{searchQuery:t,onSearchChange:s,readStatusFilter:l,onReadStatusChange:c,startDate:d,endDate:o,onStartDateChange:x,onEndDateChange:m,onClearFilters:u,activeFiltersCount:h}=e;return(0,a.jsx)(r.Zp,{className:"border-slate-200",children:(0,a.jsxs)(r.Wu,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,a.jsx)(v.p,{placeholder:"お知らせを検索...",value:t,onChange:e=>s(e.target.value),className:"pl-10 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 bg-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(f.rI,{children:[(0,a.jsx)(f.ty,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 ".concat("all"!==l?"border-emerald-300":"border-slate-200"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"既読状態","all"!==l&&(0,a.jsx)(i.E,{className:"ml-2 bg-emerald-100 text-emerald-800 border border-emerald-200",children:"unread"===l?"未読のみ":"既読のみ"})]})}),(0,a.jsxs)(f.SQ,{align:"start",className:"w-48",children:[(0,a.jsx)(f._2,{onClick:()=>c("all"),children:"すべて"}),(0,a.jsx)(f._2,{onClick:()=>c("unread"),children:"未読のみ"}),(0,a.jsx)(f._2,{onClick:()=>c("read"),children:"既読のみ"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(v.p,{type:"date",value:d?(0,w.GP)(d,"yyyy-MM-dd"):"",onChange:e=>x(e.target.value?new Date(e.target.value):void 0),className:"w-full sm:w-auto",placeholder:"開始日"}),(0,a.jsx)(v.p,{type:"date",value:o?(0,w.GP)(o,"yyyy-MM-dd"):"",onChange:e=>m(e.target.value?new Date(e.target.value):void 0),className:"w-full sm:w-auto",placeholder:"終了日"})]}),h>0&&(0,a.jsxs)(n.$,{variant:"outline",onClick:u,className:"w-full sm:w-auto border-red-200 text-red-600 hover:bg-red-50 bg-white",children:["フィルターをクリア (",h,")"]})]})]})})}var k=s(58885),C=s(35695);function R(){let[e,t]=(0,l.useState)("all"),[s,v]=(0,l.useState)(""),[f,N]=(0,l.useState)("all"),[R,_]=(0,l.useState)(),[Z,A]=(0,l.useState)(),T=(0,C.useRouter)(),D=[{id:"1",type:"points",title:"草ポイントを獲得しました",description:"ログインボーナスで30ポイントを獲得しました。7日連続ログイン達成！",timestamp:"2024-01-15T09:00:00Z",isRead:!0,category:"points"},{id:"2",type:"level_up",title:"レベルアップしました",description:"おめでとうございます！レベル5に到達しました。新しい機能が解放されました。",timestamp:"2024-01-14T18:30:00Z",isRead:!0,category:"level"},{id:"3",type:"achievement",title:"実績を解除しました",description:"「初回タスク完了」の実績を解除しました。100ポイントを獲得！",timestamp:"2024-01-14T16:45:00Z",isRead:!1,category:"achievement"},{id:"4",type:"task",title:"タスクが完了しました",description:"「Webサイトリニューアル - デザイン確認」が完了しました。",timestamp:"2024-01-13T14:20:00Z",isRead:!0,category:"task"},{id:"5",type:"announcement",title:"システムメンテナンスのお知らせ",description:"1月20日（土）の深夜2:00-4:00にシステムメンテナンスを実施します。",timestamp:"2024-01-12T11:15:00Z",isRead:!0,category:"announcement"},{id:"6",type:"project",title:"プロジェクトに招待されました",description:"「マーケティング戦略」プロジェクトに招待されました。",timestamp:"2024-01-11T08:30:00Z",isRead:!1,category:"project"},{id:"7",type:"login_bonus",title:"ログインボーナス",description:"3日連続ログインで20ポイントを獲得しました。",timestamp:"2024-01-10T17:00:00Z",isRead:!0,category:"bonus"},{id:"8",type:"announcement",title:"新機能リリース",description:"草ポイント履歴機能がリリースされました。獲得履歴を詳細に確認できます。",timestamp:"2024-01-09T20:15:00Z",isRead:!0,category:"announcement"},{id:"9",type:"points",title:"ミッション達成でポイント獲得",description:"「週間タスク完了チャレンジ」を達成し、50ポイントを獲得しました。",timestamp:"2024-01-08T15:30:00Z",isRead:!0,category:"points"},{id:"10",type:"achievement",title:"新しい実績が解放されました",description:"「連続ログイン7日」の実績が解放されました。挑戦してみましょう！",timestamp:"2024-01-07T12:00:00Z",isRead:!1,category:"achievement"}],S=e=>{switch(e){case"achievement":return(0,a.jsx)(d.A,{className:"w-5 h-5 text-amber-600"});case"announcement":return(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-600"});case"task":return(0,a.jsx)(x.A,{className:"w-5 h-5 text-emerald-600"});case"project":return(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-600"});case"level_up":return(0,a.jsx)(u.A,{className:"w-5 h-5 text-blue-600"});case"points":return(0,a.jsx)(h.A,{className:"w-5 h-5 text-emerald-600"});case"login_bonus":return(0,a.jsx)(p.A,{className:"w-5 h-5 text-yellow-600"});default:return(0,a.jsx)(j.A,{className:"w-5 h-5 text-slate-600"})}},M=e=>{switch(e){case"achievement":return"実績";case"announcement":return"お知らせ";case"task":return"タスク";case"project":return"プロジェクト";case"level_up":return"レベルアップ";case"points":return"ポイント";case"login_bonus":return"ログインボーナス";default:return"その他"}},X=e=>{switch(e){case"achievement":return"bg-amber-100 text-amber-800 border-amber-200";case"announcement":case"level_up":return"bg-blue-100 text-blue-800 border-blue-200";case"task":case"points":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"project":return"bg-purple-100 text-purple-800 border-purple-200";case"login_bonus":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},E=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);return s<1?"今":s<60?"".concat(s,"分前"):s<1440?"".concat(Math.floor(s/60),"時間前"):s<10080?"".concat(Math.floor(s/1440),"日前"):(0,w.GP)(t,"M月d日 H:mm",{locale:k.ja})},F=D.filter(t=>{if("all"!==e&&t.category!==e||s&&!t.title.toLowerCase().includes(s.toLowerCase())&&!t.description.toLowerCase().includes(s.toLowerCase())||"unread"===f&&t.isRead||"read"===f&&!t.isRead)return!1;let a=new Date(t.timestamp);return(!R||!(a<R))&&(!Z||!(a>Z))}),W=D.filter(e=>!e.isRead).length,L=D.length,z=s||"all"!==f||R||Z,P=+!!s+ +("all"!==f)+ +!!R+ +!!Z,U=e=>{console.log("Mark as read:",e)},$=e=>{T.push("/notifications/".concat(e.id))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100 rounded-xl",children:(0,a.jsx)(j.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"お知らせ履歴"})]}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"すべてのお知らせ履歴を確認できます"})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"エクスポート"]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsx)(r.Zp,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-700",children:"総お知らせ数"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:L})]}),(0,a.jsx)(j.A,{className:"w-6 h-6 text-blue-600"})]})})}),(0,a.jsx)(r.Zp,{className:"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200",children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-700",children:"未読"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:W})]}),(0,a.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})})]})})}),(0,a.jsx)(r.Zp,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:(0,a.jsx)(r.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-700",children:"既読"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:L-W})]}),(0,a.jsx)(x.A,{className:"w-6 h-6 text-green-600"})]})})})]}),(0,a.jsx)(y,{searchQuery:s,onSearchChange:v,readStatusFilter:f,onReadStatusChange:N,startDate:R,endDate:Z,onStartDateChange:_,onEndDateChange:A,onClearFilters:()=>{v(""),N("all"),_(void 0),A(void 0)},activeFiltersCount:P}),z&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(g.U,{typeFilter:e,activeFiltersCount:P,readStatusFilter:"all"!==f?f:void 0,startDate:R,endDate:Z}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[F.length,"件のお知らせが見つかりました"]})]}),(0,a.jsxs)(c.tU,{value:e,onValueChange:t,className:"w-full",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(c.j7,{className:"flex w-max min-w-full bg-slate-100 p-1 rounded-lg",children:[(0,a.jsx)(c.Xi,{value:"all",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"すべて"}),(0,a.jsx)(c.Xi,{value:"announcement",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"お知らせ"}),(0,a.jsx)(c.Xi,{value:"points",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"ポイント"}),(0,a.jsx)(c.Xi,{value:"level",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"レベルアップ"}),(0,a.jsx)(c.Xi,{value:"achievement",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"実績"}),(0,a.jsx)(c.Xi,{value:"task",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-sm whitespace-nowrap flex-shrink-0",children:"タスク"})]})}),(0,a.jsx)(c.av,{value:e,className:"mt-6",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"お知らせ履歴"}),(0,a.jsxs)(r.BT,{children:["all"===e?"すべての":M(e),"お知らせ履歴"]})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===F.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(j.A,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-500",children:"お知らせがありません"})]}):F.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 rounded-lg border transition-colors cursor-pointer ".concat(e.isRead?"border-slate-200 hover:bg-slate-50":"border-blue-200 bg-blue-50/50 hover:bg-blue-50"),onClick:()=>$(e),children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:S(e.type)})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-medium truncate ".concat(e.isRead?"text-slate-900":"text-slate-900 font-semibold"),children:e.title}),!e.isRead&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.E,{className:X(e.type),children:M(e.type)}),!e.isRead&&(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>U(e.id),className:"h-6 px-2 text-xs text-slate-600 hover:text-slate-800",children:"既読にする"})]})]}),(0,a.jsx)("p",{className:"text-xs text-slate-400 whitespace-nowrap",children:E(e.timestamp)})]})})]},e.id))})})]})})]})]})}function _(){return(0,a.jsx)(R,{})}},98632:(e,t,s)=>{Promise.resolve().then(s.bind(s,58037))}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,4052,8250,5152,8698,3787,2012,8613,8441,1684,7358],()=>t(98632)),_N_E=e.O()}]);