(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5660],{17309:(e,t,s)=>{"use strict";s.d(t,{K2:()=>a,i1:()=>n,kV:()=>i,yp:()=>l});let a=(0,s(65453).v)((e,t)=>({messages:[],isEnabled:!0,currentPage:"",lastActivity:Date.now(),inactivityTimer:null,addMessage:t=>{e(e=>({messages:[...e.messages,t]}))},removeMessage:t=>{e(e=>({messages:e.messages.filter(e=>e.id!==t)}))},clearMessages:()=>{e({messages:[]})},toggleEnabled:()=>{e(e=>({isEnabled:!e.isEnabled}))},setEnabled:t=>{e({isEnabled:t})},setCurrentPage:t=>{e({currentPage:t})},updateActivity:()=>{e({lastActivity:Date.now()})},startInactivityTimer:()=>{let s=t();s.inactivityTimer&&clearTimeout(s.inactivityTimer),e({inactivityTimer:setTimeout(()=>{let e=t();e.isEnabled&&0===e.messages.length&&e.addMessage({id:"inactivity",content:"何かお手伝いできることはありますか？",type:"encouragement",duration:4e3})},3e4)})},stopInactivityTimer:()=>{let s=t();s.inactivityTimer&&(clearTimeout(s.inactivityTimer),e({inactivityTimer:null}))}})),r=e=>{let t=a.getState();t.isEnabled&&t.addMessage(e)},l=()=>{r({id:"bug-game-available",content:"害虫駆除ゲームに挑戦してみよう！植物を守ってポイントを獲得できるよ\uD83D\uDC1B",type:"game",duration:1e4})},i=()=>{r({id:"no-comments",content:"誰かに声をかけてみよう？",type:"comment",duration:8e3})},n=e=>{switch(a.getState(),e){case"/dashboard":r({id:"dashboard-welcome",content:"今日の進捗を確認しましょう！",type:"welcome",duration:8e3});break;case"/projects":r({id:"projects-welcome",content:"プロジェクトを管理しましょう！",type:"welcome",duration:8e3});break;case"/tasks":r({id:"tasks-welcome",content:"タスクを整理して効率的に進めましょう！",type:"welcome",duration:8e3});break;case"/shop":r({id:"shop-welcome",content:"アイテムを購入してカスタマイズしましょう！",type:"welcome",duration:8e3});break;case"garden":r({id:"garden-welcome",content:"ガーデンで植物を育てましょう！害虫駆除ゲームも挑戦できるよ\uD83D\uDC1B",type:"garden",duration:8e3})}}},37777:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>i,ZI:()=>c,k$:()=>d,m_:()=>n});var a=s(95155);s(12115);var r=s(89613),l=s(53999);function i(e){let{delayDuration:t=0,...s}=e;return(0,a.jsx)(r.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...s})}function n(e){let{...t}=e;return(0,a.jsx)(i,{children:(0,a.jsx)(r.bL,{"data-slot":"tooltip",...t})})}function d(e){let{...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tooltip-trigger",...t})}function c(e){let{className:t,sideOffset:s=0,children:i,...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"tooltip-content",sideOffset:s,className:(0,l.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...n,children:[i,(0,a.jsx)(r.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},39298:(e,t,s)=>{"use strict";s.d(t,{DashboardTabs:()=>q});var a=s(95155),r=s(12115),l=s(34964),i=s(88482),n=s(53311),d=s(18186),c=s(17580),o=s(33109),m=s(55607),x=s(16785),h=s(38564),g=s(69074),u=s(59929),p=s(37777),b=s(33384),v=s(97037),j=s(51931);function f(e){let{tasks:t}=e,s=(()=>{let e=[],t=new Date;for(let s=364;s>=0;s--){let a=new Date(t);a.setDate(a.getDate()-s),e.push(a)}return e})(),r=e=>{let s=e.toDateString(),a=t.filter(e=>e.completedAt&&e.completedAt.toDateString()===s),r=a.reduce((e,t)=>e+50*t.difficulty+(t.rating?10*t.rating:0),0);return{count:a.length,points:r,tasks:a}},l=e=>0===e?"bg-gray-100 border-gray-200":e<=50?"bg-emerald-100 border-emerald-200":e<=100?"bg-emerald-200 border-emerald-300":e<=200?"bg-emerald-300 border-emerald-400":"bg-emerald-400 border-emerald-500",i=e=>0===e?null:e<=50?u.A:e<=100?b.A:e<=200?v.A:j.A,n=(()=>{let e=[],t=[];for(s.forEach((s,a)=>{if(0===a){let e=s.getDay();for(let s=0;s<e;s++)t.push(null)}t.push(s),7===t.length&&(e.push(t),t=[])});t.length<7;)t.push(null);return t.length>0&&e.push(t),e})(),d=t.length,c=t.reduce((e,t)=>e+50*t.difficulty+(t.rating?10*t.rating:0),0),o=s.filter(e=>r(e).count>0).length;return(0,a.jsx)(p.Bc,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsx)("span",{children:"過去1年間の活動"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs",children:"少ない"}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm bg-gray-100 border border-gray-200"}),(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm bg-emerald-100 border border-emerald-200"}),(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm bg-emerald-200 border border-emerald-300"}),(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm bg-emerald-300 border border-emerald-400"}),(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm bg-emerald-400 border border-emerald-500"})]}),(0,a.jsx)("span",{className:"text-xs",children:"多い"})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"inline-block min-w-max",children:[(0,a.jsxs)("div",{className:"flex mb-2",children:[(0,a.jsx)("div",{className:"w-8"}),["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"].map((e,t)=>(0,a.jsx)("div",{className:"text-xs text-gray-500 px-2 min-w-[60px]",children:e},t))]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex flex-col mr-2",children:["日","月","火","水","木","金","土"].map((e,t)=>(0,a.jsx)("div",{className:"h-3 flex items-center text-xs text-gray-500 mb-1",children:t%2==1?e:""},t))}),(0,a.jsx)("div",{className:"flex gap-1",children:n.map((e,t)=>(0,a.jsx)("div",{className:"flex flex-col gap-1",children:e.map((e,t)=>{if(!e)return(0,a.jsx)("div",{className:"w-3 h-3"},t);let s=r(e),n=i(s.points);return(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)("div",{className:"w-3 sm:w-4 h-3 sm:h-4 rounded-sm border cursor-pointer hover:ring-2 hover:ring-emerald-300 hover:ring-offset-1 relative ".concat(l(s.points)),children:n&&(0,a.jsx)(n,{className:"w-2 sm:w-3 h-2 sm:h-3 absolute inset-0 m-auto text-emerald-700"})})}),(0,a.jsx)(p.ZI,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:e.toLocaleDateString("ja-JP")}),(0,a.jsxs)("div",{children:[s.count,"個のタスク完了"]}),(0,a.jsxs)("div",{children:[s.points,"ポイント獲得"]}),s.tasks.length>0&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[s.tasks.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-xs",children:["• ",e.title," (★",e.difficulty,e.rating&&" ⭐".concat(e.rating),")"]},e.id)),s.tasks.length>3&&(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["他 ",s.tasks.length-3," 件"]})]})]})})]},t)})},t))})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:d}),(0,a.jsx)("div",{className:"text-gray-600",children:"総タスク数"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:c.toLocaleString()}),(0,a.jsx)("div",{className:"text-gray-600",children:"総ポイント"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Math.round(d/365*100)/100}),(0,a.jsx)("div",{className:"text-gray-600",children:"日平均タスク"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o}),(0,a.jsx)("div",{className:"text-gray-600",children:"活動日数"})]})]})]})})}var w=s(84477),N=s(41397),y=s(88145),D=s(69663),A=s(71539);function T(e){var t;let{user:s}=e,r=s.xp/s.nextLevelXp*100;return(0,a.jsx)(i.Zp,{className:"col-span-2 bg-white border-0 shadow-lg rounded-2xl",children:(0,a.jsxs)(i.Wu,{className:"px-5 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(D.eu,{className:"h-12 w-12 sm:h-14 sm:w-14 ring-2 ring-white/50 ring-offset-2",children:[(0,a.jsx)(D.BK,{src:null!==(t=s.avatar)&&void 0!==t?t:"/placeholder.svg"}),(0,a.jsx)(D.q5,{className:"bg-gradient-to-br from-green-400 to-emerald-600 text-white font-bold",children:s.name.charAt(0)})]}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-7 h-7 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg",children:s.level})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,a.jsx)("h2",{className:"text-md sm:text-xl font-bold text-slate-900",children:s.name}),(0,a.jsxs)(y.E,{className:"bg-amber-100 text-amber-800 border-amber-200",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 mr-1"}),s.title]}),(0,a.jsxs)("span",{className:"text-xs sm:text-sm text-slate-600 font-bold",children:[s.xp," XP"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm text-slate-600 font-medium",children:[(0,a.jsx)("span",{className:"mt-2 mb-1",children:"次のレベルまで"}),(0,a.jsxs)("span",{children:[s.nextLevelXp-s.xp," XP"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.k,{value:r,className:"h-2 bg-slate-200"}),(0,a.jsx)("div",{className:"absolute inset-0 h-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full transition-all duration-500",style:{width:"".concat(r,"%")}})]})]}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-slate-600 mt-1 flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500"}),"ログイン連続 ",s.loginStreak," 日"]})]})})}var C=s(40646),L=s(14186);function B(e){let{title:t,description:s,tasks:r,showViewAll:l=!0}=e;return(0,a.jsxs)(i.Zp,{className:"bg-white border-0 shadow-lg rounded-2xl",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(C.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold text-slate-900",children:t}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:s})]})]})}),(0,a.jsx)(i.Wu,{className:"space-y-3",children:r.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.completed?"bg-green-500":"bg-gray-300")}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm font-medium ".concat(e.completed?"line-through text-gray-500":""),children:e.title})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(y.E,{variant:"outline",className:"text-xs",children:[e.points,"pt"]}),e.completed&&(0,a.jsx)(C.A,{className:"w-4 h-4 text-green-500"}),!e.completed&&(0,a.jsx)(L.A,{className:"w-4 h-4 text-gray-400"})]})]},e.id))})]})}let S={green:{bg:"bg-green-50",iconBg:"bg-green-100",iconColor:"text-green-600",badgeBg:"bg-green-100",badgeText:"text-green-800"},blue:{bg:"bg-blue-50",iconBg:"bg-blue-100",iconColor:"text-blue-600",badgeBg:"bg-blue-100",badgeText:"text-blue-800"},purple:{bg:"bg-purple-50",iconBg:"bg-purple-100",iconColor:"text-purple-600",badgeBg:"bg-purple-100",badgeText:"text-purple-800"}};function k(e){let{title:t,description:s,achievements:r,showViewAll:l=!0}=e;return(0,a.jsxs)(i.Zp,{className:"bg-white border-0 shadow-lg rounded-2xl",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(o.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold text-slate-900",children:t}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:s})]})]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:r.map(e=>{let t=S[e.color];return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 ".concat(t.bg," rounded-lg"),children:[(0,a.jsx)("div",{className:"p-2 ".concat(t.iconBg," rounded-full"),children:(0,a.jsx)("div",{className:t.iconColor,children:e.icon})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.timeAgo})]}),(0,a.jsx)(y.E,{className:"".concat(t.badgeBg," ").concat(t.badgeText),children:e.points>0?"+".concat(e.points,"pt"):e.title.includes("レベル")?"レベルアップ":e.title})]},e.id)})})})]})}var M=s(57340);function E(e){let{userName:t="田中太郎",totalPoints:s=1450}=e;return(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mt-2 mb-4",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,a.jsx)(M.A,{className:"w-7 h-7 text-emerald-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-1",children:"ダッシュボード"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 bg-emerald-100 rounded-full",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-emerald-600"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-emerald-700",children:[s,"pt"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("p",{className:"text-gray-600 text-base",children:["おかえりなさい、",t,"さん！今日も成長の一歩を踏み出しましょう"]})})]})]})})})}var H=s(17309);function P(e){let{user:t}=e;(0,r.useEffect)(()=>{(0,H.i1)("dashboard")},[]),t.name,t.level,t.points,t.streak;let s=[{id:"",title:"",difficulty:1,completed:!0,completedAt:new Date("2025/02/01 00:00"),assignee:"",projectId:""},{id:"",title:"",difficulty:2,completed:!0,completedAt:new Date("2025/02/02 00:00"),assignee:"",projectId:""},{id:"",title:"",difficulty:3,completed:!0,completedAt:new Date("2025/02/03 00:00"),assignee:"",projectId:""},{id:"",title:"",difficulty:1,completed:!0,completedAt:new Date("2025/08/01 00:00"),assignee:"",projectId:""},{id:"",title:"",difficulty:2,completed:!0,completedAt:new Date("2025/08/02 00:00"),assignee:"",projectId:""},{id:"",title:"",difficulty:3,completed:!0,completedAt:new Date("2025/08/03 00:00"),assignee:"",projectId:""}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(E,{}),(0,a.jsx)(T,{user:{name:t.name,level:t.level,title:"草の達人",xp:t.experience,nextLevelXp:t.experienceToNext,loginStreak:t.streak,totalPoints:t.points}}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(w.hI,{icon:(0,a.jsx)(n.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"総草ポイント",value:t.points.toString(),subtitle:"先週から",color:"emerald",change:"+120pt"}),(0,a.jsx)(w.hI,{icon:(0,a.jsx)(d.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"現在のレベル",value:t.level.toString(),subtitle:"次まで 50pt",color:"amber"}),(0,a.jsx)(w.hI,{icon:(0,a.jsx)(c.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"参加プロジェクト",value:"3",subtitle:"アクティブ",color:"blue"}),(0,a.jsx)(w.hI,{icon:(0,a.jsx)(o.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"完了タスク",value:"52",subtitle:"総完了数",color:"purple"})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsx)(B,{title:"今日のタスク",description:"今日のタスクの進捗状況",tasks:[{id:1,title:"プロジェクト資料の作成",completed:!0,points:50},{id:2,title:"チームミーティング参加",completed:!0,points:30},{id:3,title:"新機能の設計書レビュー",completed:!1,points:40},{id:4,title:"バグ修正とテスト",completed:!1,points:60}]}),(0,a.jsx)(k,{title:"最近の成果",description:"最近獲得した実績とマイルストーン",achievements:[{id:1,title:"7日連続ログイン達成！",description:"2時間前",icon:(0,a.jsx)(m.A,{className:"w-4 h-4"}),timeAgo:"2時間前",points:50,color:"green"},{id:2,title:"週次ミッション「タスクマスター」完了",description:"1日前",icon:(0,a.jsx)(x.A,{className:"w-4 h-4"}),timeAgo:"1日前",points:100,color:"blue"},{id:3,title:"レベル5に到達！",description:"3日前",icon:(0,a.jsx)(h.A,{className:"w-4 h-4"}),timeAgo:"3日前",points:0,color:"purple"}]}),(0,a.jsxs)(i.Zp,{className:"border-0 bg-white shadow-lg rounded-2xl",children:[(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-semibold text-gray-900",children:"週次ミッション"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"今週のチャレンジ進捗"})]})]})}),(0,a.jsx)(i.Wu,{className:"space-y-4 relative z-10",children:[{id:1,title:"5つのタスクを完了",progress:60,target:5,current:3},{id:2,title:"300ポイント獲得",progress:50,target:300,current:150},{id:3,title:"7日連続ログイン",progress:85,target:7,current:6}].map(e=>(0,a.jsxs)("div",{className:"p-3 bg-white/80 backdrop-blur-sm rounded-xl border border-purple-100/50 hover:bg-white/95 hover:shadow-sm transition-all duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.title}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.current,"/",e.target]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.k,{value:e.progress,className:"h-2 bg-gray-100"}),(0,a.jsx)("div",{className:"absolute inset-0 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-500 shadow-sm",style:{width:"".concat(String(e.progress),"%")}})]})]},e.id))})]})]}),(0,a.jsxs)(i.Zp,{className:"border-0 bg-white shadow-lg rounded-2xl",children:[(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,a.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-semibold text-gray-900",children:"成長記録"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"過去30日間の活動"})]})]})}),(0,a.jsxs)(i.Wu,{className:"relative z-10",children:[(0,a.jsx)(f,{tasks:s}),(0,a.jsxs)("div",{className:"mt-6 text-center p-4 bg-gradient-to-br from-emerald-50/80 to-green-50/80 backdrop-blur-sm rounded-xl border border-emerald-100/50 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-emerald-600 mb-2",children:[(0,a.jsx)(n.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-semibold",children:"継続は力なり"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["総完了タスク数: ",(0,a.jsxs)("span",{className:"font-semibold text-emerald-600",children:[s.length,"個"]})," • 今月の完了数: ",(0,a.jsxs)("span",{className:"font-semibold text-emerald-600",children:[0,"個"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"毎日の積み重ねが美しい草履歴を作ります \uD83C\uDF3F"})]})]})]})]})}var G=s(97168),W=s(99840);function I(e){let{userName:t="田中太郎",totalPoints:s=1450}=e;return(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mt-2 mb-4",children:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:(0,a.jsx)(v.A,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"ガーデン"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-green-100 to-emerald-100 rounded-full border border-green-200 shadow-sm",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-green-700",children:[s,"pt"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("p",{className:"text-gray-600 text-base",children:["おかえりなさい、",t,"さん！今日も草を育てましょう"]})})]})]})})})}var z=s(37108);let F=[{id:"tomato",name:"トマト",type:"vegetable",rarity:"common",cost:10,minLevel:1,growthTime:7,icon:"\uD83C\uDF45",description:"短期で収穫できる野菜"},{id:"carrot",name:"にんじん",type:"vegetable",rarity:"common",cost:15,minLevel:1,growthTime:10,icon:"\uD83E\uDD55",description:"栄養豊富な根菜"},{id:"lettuce",name:"レタス",type:"vegetable",rarity:"common",cost:8,minLevel:1,growthTime:5,icon:"\uD83E\uDD6C",description:"早く育つ葉物野菜"},{id:"wheat",name:"小麦",type:"vegetable",rarity:"common",cost:12,minLevel:1,growthTime:8,icon:"\uD83C\uDF3E",description:"パンの原料になる穀物"},{id:"rose",name:"バラ",type:"flower",rarity:"rare",cost:50,minLevel:3,growthTime:21,icon:"\uD83C\uDF39",description:"美しい花の女王"},{id:"tulip",name:"チューリップ",type:"flower",rarity:"common",cost:25,minLevel:2,growthTime:14,icon:"\uD83C\uDF37",description:"春を告げる花"},{id:"sunflower",name:"ひまわり",type:"flower",rarity:"common",cost:20,minLevel:2,growthTime:12,icon:"\uD83C\uDF3B",description:"太陽を追う大きな花"},{id:"hibiscus",name:"ハイビスカス",type:"flower",rarity:"rare",cost:60,minLevel:4,growthTime:18,icon:"\uD83C\uDF3A",description:"南国の雰囲気の花"},{id:"cherry",name:"桜",type:"flower",rarity:"epic",cost:150,minLevel:6,growthTime:25,icon:"\uD83C\uDF38",description:"春の風物詩"},{id:"apple",name:"りんご",type:"fruit",rarity:"rare",cost:100,minLevel:5,growthTime:30,icon:"\uD83C\uDF4E",description:"甘い実をつける果樹"},{id:"orange",name:"オレンジ",type:"fruit",rarity:"rare",cost:80,minLevel:4,growthTime:25,icon:"\uD83C\uDF4A",description:"ビタミン豊富な柑橘類"},{id:"palm",name:"パーム",type:"ornamental",rarity:"epic",cost:200,minLevel:8,growthTime:45,icon:"\uD83C\uDF34",description:"南国の雰囲気を演出"},{id:"pine",name:"松",type:"ornamental",rarity:"epic",cost:300,minLevel:10,growthTime:60,icon:"\uD83C\uDF32",description:"長寿を象徴する木"}],Z={0:{icon:"\uD83D\uDFEB",name:"土"},1:{icon:"\uD83C\uDF31",name:"発芽"},2:{icon:"\uD83C\uDF3F",name:"葉"},3:{icon:"\uD83C\uDF33",name:"成長"},4:{icon:"\uD83C\uDF38",name:"完成"}},O={vegetable:{0:"\uD83D\uDFEB",1:"\uD83C\uDF31",2:"\uD83C\uDF3F",3:"\uD83C\uDF33",4:"\uD83C\uDF45"},flower:{0:"\uD83D\uDFEB",1:"\uD83C\uDF31",2:"\uD83C\uDF3F",3:"\uD83C\uDF3A",4:"\uD83C\uDF39"},fruit:{0:"\uD83D\uDFEB",1:"\uD83C\uDF31",2:"\uD83C\uDF33",3:"\uD83C\uDF33",4:"\uD83C\uDF4E"},ornamental:{0:"\uD83D\uDFEB",1:"\uD83C\uDF31",2:"\uD83C\uDF3F",3:"\uD83C\uDF33",4:"\uD83C\uDF34"}},_={basic:{id:"basic",name:"基本肥料",cost:10,effect:"成長時間-20%",description:"植物の成長を少し早めます"},premium:{id:"premium",name:"プレミアム肥料",cost:50,effect:"成長時間-50% + 収穫量2倍",description:"大幅に成長を促進し、収穫量も増加"},legendary:{id:"legendary",name:"伝説の肥料",cost:100,effect:"レア植物確率50%アップ",description:"レアな植物が育ちやすくなります"}},X=["がんばって！","きれいだね！","すくすく育ってね！","応援してるよ！","素敵な花が咲くね！","元気に育って！","頑張れ頑張れ！","美しいね！"];function $(e){var t,s;let{user:l}=e;(0,r.useEffect)(()=>{(0,H.i1)("garden")},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{(0,H.yp)()},2e3);return()=>clearTimeout(e)},[]);let[n,c]=(0,r.useState)([{id:"plant-0",type:"vegetable",name:"トマト",rarity:"common",growthStage:2,maxGrowthStage:4,plantedAt:new Date(Date.now()-2592e5),lastWatered:new Date,health:85,isHarvestable:!1,growthTime:7,currentGrowthProgress:60,loveLevel:3,hasBugs:!1},{id:"plant-1",type:"flower",name:"バラ",rarity:"rare",growthStage:4,maxGrowthStage:4,plantedAt:new Date(Date.now()-1728e6),lastWatered:new Date,health:100,isHarvestable:!0,growthTime:21,currentGrowthProgress:100,loveLevel:8,hasBugs:!0},{id:"plant-2",type:"vegetable",name:"レタス",rarity:"common",growthStage:1,maxGrowthStage:4,plantedAt:new Date(Date.now()-864e5),lastWatered:new Date,health:95,isHarvestable:!1,growthTime:5,currentGrowthProgress:25,loveLevel:1,hasBugs:!1},{id:"plant-3",type:"fruit",name:"りんご",rarity:"rare",growthStage:3,maxGrowthStage:4,plantedAt:new Date(Date.now()-1296e6),lastWatered:new Date,health:90,isHarvestable:!1,growthTime:30,currentGrowthProgress:75,loveLevel:5,hasBugs:!1},{id:"plant-4",type:"flower",name:"チューリップ",rarity:"common",growthStage:2,maxGrowthStage:4,plantedAt:new Date(Date.now()-864e6),lastWatered:new Date(Date.now()-432e6),health:25,isHarvestable:!1,growthTime:14,currentGrowthProgress:40,loveLevel:2,hasBugs:!1},{id:"plant-5",type:"ornamental",name:"松",rarity:"epic",growthStage:1,maxGrowthStage:4,plantedAt:new Date(Date.now()-2592e6),lastWatered:new Date(Date.now()-864e6),health:0,isHarvestable:!1,growthTime:60,currentGrowthProgress:10,loveLevel:0,hasBugs:!1},{id:"plant-6",type:"flower",name:"ひまわり",rarity:"common",growthStage:3,maxGrowthStage:4,plantedAt:new Date(Date.now()-6912e5),lastWatered:new Date,health:100,isHarvestable:!1,growthTime:12,currentGrowthProgress:85,loveLevel:10,hasBugs:!1},{id:"plant-7",type:"vegetable",name:"にんじん",rarity:"common",growthStage:2,maxGrowthStage:4,plantedAt:new Date(Date.now()-3456e5),lastWatered:new Date,health:95,isHarvestable:!1,growthTime:8,currentGrowthProgress:50,loveLevel:4,hasBugs:!1,appliedFertilizer:"basic"},{id:"plant-8",type:"fruit",name:"オレンジ",rarity:"rare",growthStage:2,maxGrowthStage:4,plantedAt:new Date(Date.now()-10368e5),lastWatered:new Date(Date.now()-1728e5),health:45,isHarvestable:!1,growthTime:25,currentGrowthProgress:35,loveLevel:3,hasBugs:!0},{id:"plant-9",type:"ornamental",name:"パーム",rarity:"epic",growthStage:1,maxGrowthStage:4,plantedAt:new Date(Date.now()-1728e5),lastWatered:new Date,health:100,isHarvestable:!1,growthTime:45,currentGrowthProgress:15,loveLevel:6,hasBugs:!1}]),[o,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),[g,u]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),f=(s=l.level)>=16?6:s>=11?5:s>=6?4:3,w=f*f;(0,r.useEffect)(()=>{let e=()=>{c(e=>e.map(e=>{let t=Math.floor((new Date().getTime()-e.plantedAt.getTime())/864e5),s=e.growthStage,a=e.currentGrowthProgress,r=e.isHarvestable;if(e.health>30){let l=e.growthTime/4,i=Math.floor(t/l);i>=4?(s=4,a=100,r=!0):(s=Math.min(4,i+1),a=Math.min(100,t%l/l*100))}else r=!1;return{...e,growthStage:s,currentGrowthProgress:a,isHarvestable:r}}))};e();let t=setInterval(e,6e4);return()=>clearInterval(t)},[]),(0,r.useEffect)(()=>{c(e=>e.map(e=>({...e,lastWatered:new Date,health:Math.min(100,e.health+20)})))},[]),(0,r.useEffect)(()=>{let e=()=>{c(e=>e.map(e=>{let t=Math.floor((new Date().getTime()-e.lastWatered.getTime())/864e5),s=e.health;if(t>3){let a=Math.min(e.health,(t-3)*15);s=Math.max(0,e.health-a)}return e.hasBugs&&(s=Math.max(0,s-5)),{...e,health:s}}))};e();let t=setInterval(e,3e5);return()=>clearInterval(t)},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{ee(e=>{if(!e.isActive)return e;if(e.timeLeft<=0){let{score:t,totalBugs:s}=e;t>=s&&c(e=>e.map(e=>({...e,health:Math.min(100,e.health+20),hasBugs:!1})));let a=s-t;return a>0&&c(e=>e.map(e=>({...e,growthTime:e.growthTime*(1+.1*a)}))),console.log("\uD83C\uDF89 害虫駆除ゲーム終了！".concat(t,"/").concat(s,"匹駆除")),{...e,isActive:!1}}return{...e,timeLeft:e.timeLeft-1}})},1e3);return()=>clearInterval(e)},[]);let T=e=>{let t=n.find(t=>t.id==="plant-".concat(e));t?t.isHarvestable?M(t,e):(u(t),j(!0)):(m(e),h(!0))},C=e=>{if(l.points<e.cost){alert("草ポイントが不足しています");return}if(l.level<e.minLevel){alert("レベル".concat(e.minLevel,"が必要です"));return}let t={id:"plant-".concat(o),type:e.type,name:e.name,rarity:e.rarity,growthStage:0,maxGrowthStage:4,plantedAt:new Date,lastWatered:new Date,health:100,isHarvestable:!1,growthTime:e.growthTime,currentGrowthProgress:0,loveLevel:0,hasBugs:!1};c(e=>[...e,t]),h(!1),m(null)},[L,B]=(0,r.useState)({totalHarvests:0,plantTypeCounts:{},totalPointsEarned:0,consecutiveHarvests:0,lastHarvestDate:null}),[S,k]=(0,r.useState)({show:!1,points:0,position:{x:0,y:0}}),M=(e,t)=>{let s=50*("epic"===e.rarity?3:"rare"===e.rarity?2:1),a=document.querySelector('[data-cell="'.concat(t,'"]'));if(a){let e=a.getBoundingClientRect();k({show:!0,points:s,position:{x:e.left+e.width/2,y:e.top}})}let r=new Date,l=L.lastHarvestDate&&1===Math.floor((r.getTime()-L.lastHarvestDate.getTime())/864e5);B(t=>({totalHarvests:t.totalHarvests+1,plantTypeCounts:{...t.plantTypeCounts,[e.type]:(t.plantTypeCounts[e.type]||0)+1},totalPointsEarned:t.totalPointsEarned+s,consecutiveHarvests:l?t.consecutiveHarvests+1:1,lastHarvestDate:r})),c(t=>t.filter(t=>t.id!==e.id)),setTimeout(()=>{k({show:!1,points:0,position:{x:0,y:0}})},2e3),console.log("\uD83C\uDF89 収穫完了！".concat(s,"ポイント獲得")),console.log("\uD83D\uDCCA 総収穫数: ".concat(L.totalHarvests+1,"個"))},[E,P]=(0,r.useState)({show:!1,message:"",position:{x:0,y:0}}),[$,R]=(0,r.useState)(!1),[q,K]=(0,r.useState)(null),[V,J]=(0,r.useState)(!1),[U,Q]=(0,r.useState)(!1),[Y,ee]=(0,r.useState)({bugs:[],timeLeft:30,score:0,totalBugs:0,isActive:!1}),et=["\uD83D\uDC1B","\uD83E\uDD97","\uD83D\uDC1E","\uD83D\uDD77️","\uD83E\uDD8B","\uD83D\uDC1C"],es=e=>{let t=new Date,s=e.lastCheeredAt;if(!(!s||Math.floor((t.getTime()-s.getTime())/864e5)>=1)){alert("1日1回まで応援できます");return}P({show:!0,message:X[Math.floor(Math.random()*X.length)],position:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight}}),c(s=>s.map(s=>s.id===e.id?{...s,lastCheeredAt:t,loveLevel:Math.min(10,s.loveLevel+1),growthTime:Math.max(.9*s.growthTime,s.growthTime-1)}:s)),setTimeout(()=>{P({show:!1,message:"",position:{x:0,y:0}})},3e3),console.log("\uD83D\uDDE3️ ".concat(e.name,"に応援しました！愛情値: ").concat(e.loveLevel+1))},ea=e=>{if(!q)return;let t=_[e];if(t){if(l.points<t.cost){alert("草ポイントが不足しています");return}c(t=>t.map(t=>t.id===q.id?{...t,appliedFertilizer:e,growthTime:"basic"===e?.8*t.growthTime:"premium"===e?.5*t.growthTime:t.growthTime}:t)),R(!1),K(null),console.log("\uD83D\uDCB0 ".concat(q.name,"に").concat(t.name,"を適用しました"))}},er=e=>{c(t=>t.map(t=>t.id===e.id?{...t,hasBugs:!1}:t)),console.log("\uD83D\uDC1B ".concat(e.name,"の害虫を駆除しました！"))},el=e=>{ee(t=>{let s=t.score+1,a=t.bugs.map(t=>t.id===e?{...t,isVisible:!1}:t);return s>=t.totalBugs?(c(e=>e.map(e=>({...e,health:Math.min(100,e.health+20),hasBugs:!1}))),console.log("\uD83C\uDF89 害虫駆除ゲーム成功！".concat(s,"/").concat(t.totalBugs,"匹駆除")),{...t,bugs:a,score:s,isActive:!1}):{...t,bugs:a,score:s}});let t=document.querySelector('[data-bug-id="'.concat(e,'"]'));t&&(t.classList.add("scale-150","opacity-0"),setTimeout(()=>{t.classList.remove("scale-150","opacity-0")},200))},ei=e=>n.find(t=>t.id==="plant-".concat(e)),en=e=>{switch(e){case"epic":return"text-purple-600";case"rare":return"text-blue-600";default:return"text-green-600"}},ed=e=>e>70?"text-green-600":e>40?"text-yellow-600":"text-red-600";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(I,{userName:l.name,totalPoints:l.points}),(0,a.jsx)(i.Zp,{className:"mb-6 border-0 bg-white shadow-lg rounded-2xl",children:(0,a.jsxs)(i.Wu,{className:"px-5 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(D.eu,{className:"h-12 w-12 ring-2 ring-white/50 ring-offset-2",children:[(0,a.jsx)(D.BK,{src:"/placeholder.svg"}),(0,a.jsx)(D.q5,{className:"bg-gradient-to-br from-green-400 to-emerald-600 text-white font-bold",children:l.name.charAt(0)})]}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-7 h-7 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg",children:l.level})]}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:l.name}),(0,a.jsxs)(y.E,{className:"bg-amber-100 text-amber-800 border-amber-200",children:[(0,a.jsx)(d.A,{className:"w-3 h-3 mr-1"}),"草の達人"]}),(0,a.jsxs)("span",{className:"text-sm text-slate-600 font-bold",children:[l.experience," XP"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-slate-600 font-medium",children:[(0,a.jsx)("span",{children:"次のレベルまで"}),(0,a.jsxs)("span",{children:[l.experienceToNext-l.experience," XP"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.k,{value:l.experience/l.experienceToNext*100,className:"h-2 bg-slate-200"}),(0,a.jsx)("div",{className:"absolute inset-0 h-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full transition-all duration-500",style:{width:"".concat(l.experience/l.experienceToNext*100,"%")}})]})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-600 mt-1 flex items-center gap-1",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 text-orange-500"}),"ログイン連続 ",l.streak," 日"]})]})}),(0,a.jsxs)(i.Zp,{className:"mb-4 border-0 bg-white shadow-lg rounded-2xl",children:[(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-yellow-500 to-amber-500 rounded-2xl shadow-lg",children:(0,a.jsx)(d.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold text-gray-900",children:"収穫実績"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"あなたのガーデニング成果"})]})]})}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-1",children:L.totalHarvests}),(0,a.jsx)("div",{className:"text-sm font-semibold text-green-700",children:"総収穫数"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:L.totalPointsEarned}),(0,a.jsx)("div",{className:"text-sm font-semibold text-blue-700",children:"獲得ポイント"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:L.consecutiveHarvests}),(0,a.jsx)("div",{className:"text-sm font-semibold text-purple-700",children:"連続収穫"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 rounded-xl border border-orange-200",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:Object.keys(L.plantTypeCounts).length}),(0,a.jsx)("div",{className:"text-sm font-semibold text-orange-700",children:"栽培種類"})]})]}),Object.keys(L.plantTypeCounts).length>0&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white text-xs font-bold",children:"\uD83C\uDF31"})}),(0,a.jsx)("div",{className:"text-sm font-bold text-gray-900",children:"お気に入り植物"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(L.plantTypeCounts).sort((e,t)=>{let[,s]=e,[,a]=t;return a-s}).slice(0,3).map(e=>{let[t,s]=e;return(0,a.jsxs)(y.E,{className:"bg-white border-2 border-green-200 text-green-700 font-semibold px-3 py-1",children:["vegetable"===t?"\uD83E\uDD6C":"flower"===t?"\uD83C\uDF39":"fruit"===t?"\uD83C\uDF4E":"\uD83C\uDF34","vegetable"===t?"野菜":"flower"===t?"花":"fruit"===t?"果物":"観葉","(",s,"回)"]},t)})})]})]})]}),(0,a.jsxs)(i.Zp,{className:"overflow-hidden border-0 bg-white shadow-lg rounded-2xl",children:[(0,a.jsxs)(i.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl shadow-lg",children:(0,a.jsx)(v.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-bold text-gray-900",children:"マイガーデン"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["(",f,"\xd7",f,") のガーデンエリア"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(y.E,{className:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border-green-200 font-semibold",children:["\uD83D\uDCB0 ",l.points," ポイント"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"\uD83D\uDCA1 空きマスをクリックして種を植え、植物をクリックして詳細確認・水やり・収穫ができます"})]}),!U&&(0,a.jsx)(G.$,{onClick:()=>{let e=Math.min(8,n.length);ee({bugs:Array.from({length:e},(e,t)=>({id:"bug-".concat(t),x:80*Math.random()+10,y:80*Math.random()+10,type:et[Math.floor(Math.random()*et.length)],isVisible:!0})),timeLeft:30,score:0,totalBugs:e,isActive:!1}),J(!0)},className:"bg-red-500 hover:bg-red-600 text-white text-xs sm:text-sm",size:"sm",children:"\uD83D\uDC1B 害虫駆除"})]})]}),(0,a.jsx)(i.Wu,{className:"p-3 sm:p-6",children:(0,a.jsx)("div",{className:"grid gap-1 sm:gap-2 mx-auto",style:{gridTemplateColumns:"repeat(".concat(f,", 1fr)"),maxWidth:f<=4?"100%":"".concat(Math.min(50*f,350),"px")},children:Array.from({length:w},(e,t)=>{let s=ei(t);return(0,a.jsx)(p.Bc,{children:(0,a.jsxs)(p.m_,{children:[(0,a.jsx)(p.k$,{asChild:!0,children:(0,a.jsx)("div",{className:"\n                          aspect-square rounded-xl border-2 cursor-pointer\n                          transition-all duration-300 hover:shadow-lg hover:scale-105\n                            ".concat(s?"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 shadow-sm":"border-gray-200 bg-gradient-to-br from-gray-50 to-slate-50 hover:border-green-300 hover:from-green-50 hover:to-emerald-50","\n                          ").concat((null==s?void 0:s.isHarvestable)?"border-yellow-300 bg-gradient-to-br from-yellow-50 to-amber-50 shadow-md":"","\n                          ").concat((null==s?void 0:s.health)<30?"border-red-300 bg-gradient-to-br from-red-50 to-pink-50":"","\n                          "),onClick:()=>T(t),children:s?(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center p-2 relative z-10",children:[(0,a.jsxs)("div",{className:"text-xl sm:text-2xl mb-1 drop-shadow-lg transform transition-transform duration-300 group-hover:scale-110 relative",children:[s.health&&s.health<30?"\uD83E\uDD40":O[s.type][s.growthStage],s.hasBugs&&(0,a.jsx)("div",{className:"absolute -top-0.5 -right-0.5 text-xs animate-bounce bg-white/80 rounded-full p-0.5 shadow-sm",children:"\uD83D\uDC1B"})]}),(0,a.jsx)("div",{className:"text-xs text-center font-bold text-gray-800 truncate w-full px-0.5 mb-1",children:s.name}),(0,a.jsx)("div",{className:"w-full mb-1",children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-1.5 bg-gray-200/50 rounded-full overflow-hidden border border-gray-300/30",children:(0,a.jsx)("div",{className:"h-full rounded-full transition-all duration-500 shadow-sm ".concat(s.isHarvestable?"bg-gradient-to-r from-yellow-500 to-amber-600":"bg-gradient-to-r from-green-500 to-emerald-600"),style:{width:"".concat(s.currentGrowthProgress,"%")}})})})}),(0,a.jsx)("div",{className:"text-center text-xs mb-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)("span",{className:"text-gray-700 font-semibold",children:s.isHarvestable?"\uD83C\uDF89 収穫可能":"Lv.".concat(s.growthStage)}),(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsxs)("span",{className:"font-bold ".concat(ed(s.health||0)),children:[s.health||0,"%"]})]})}),(0,a.jsx)("div",{className:"flex gap-0.5 justify-center",children:Array.from({length:Math.min(s.loveLevel,5)},(e,t)=>(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-gradient-to-r from-pink-400 to-rose-500 rounded-full shadow-sm animate-pulse"},t))}),s.health&&s.health<30&&(0,a.jsx)("div",{className:"absolute top-1 right-1 text-xs bg-red-500 text-white px-1 py-0.5 rounded-full font-bold shadow-lg",children:"⚠️ 枯れかけ"}),s.appliedFertilizer&&(0,a.jsx)("div",{className:"absolute bottom-1 left-1 text-xs bg-green-500 text-white px-1 py-0.5 rounded-full font-bold shadow-lg",children:"\uD83D\uDC9A 肥料効果"})]}):(0,a.jsxs)("div",{className:"h-full flex flex-col items-center justify-center relative z-10",children:[(0,a.jsx)("div",{className:"text-2xl sm:text-3xl mb-1 text-amber-700/60 transform transition-transform duration-300 group-hover:scale-110",children:"\uD83D\uDFEB"}),(0,a.jsx)("div",{className:"text-xs text-amber-800 font-bold",children:"肥沃な土"}),(0,a.jsx)("div",{className:"text-xs text-amber-600 mt-0.5",children:"クリックして植える"})]})})}),(0,a.jsx)(p.ZI,{className:"bg-white/95 backdrop-blur-sm border border-gray-200 shadow-xl rounded-lg p-3 max-w-xs",children:s?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"text-2xl",children:s.health&&s.health<30?"\uD83E\uDD40":O[s.type][s.growthStage]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-base text-gray-900",children:s.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"epic"===s.rarity?"超レア":"rare"===s.rarity?"レア":"普通"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"成長段階"}),(0,a.jsx)("div",{className:"font-semibold text-sm text-gray-900",children:Z[s.growthStage].name})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"健康度"}),(0,a.jsxs)("div",{className:"font-semibold text-sm ".concat(ed(s.health||0)),children:[s.health||0,"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"進捗"}),(0,a.jsxs)("div",{className:"font-semibold text-sm text-gray-900",children:[s.currentGrowthProgress.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded-lg",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-0.5",children:"愛情値"}),(0,a.jsxs)("div",{className:"font-semibold text-sm text-gray-900",children:[s.loveLevel,"/10"]})]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 bg-blue-50 p-2 rounded-lg border border-blue-200",children:(()=>{let e=Math.floor((new Date().getTime()-s.lastWatered.getTime())/864e5);return e>3?"\uD83D\uDCA7 ".concat(e,"日前に水やり - 注意が必要です"):"\uD83D\uDCA7 水やりOK - 健康な状態です"})()}),s.isHarvestable&&(0,a.jsx)("div",{className:"text-xs text-yellow-800 font-bold bg-yellow-100 p-2 rounded-lg border border-yellow-200",children:"\uD83C\uDF89 収穫可能！クリックして収穫"}),!s.isHarvestable&&(0,a.jsx)("div",{className:"text-xs text-blue-800 bg-blue-100 p-2 rounded-lg border border-blue-200",children:"\uD83D\uDCA7 クリックして水やり・詳細確認"})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"text-2xl",children:"\uD83D\uDFEB"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-base text-gray-900",children:"土の状態"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"肥沃な土壌"})]})]}),(0,a.jsx)("div",{className:"text-xs text-green-800 bg-green-100 p-2 rounded-lg border border-green-200",children:"\uD83C\uDF31 クリックして種を植える"})]})})]})},t)})})})]}),(0,a.jsx)(W.lG,{open:x,onOpenChange:h,children:(0,a.jsxs)(W.Cf,{className:"max-w-2xl w-[95vw] sm:w-auto",children:[(0,a.jsx)(W.c7,{children:(0,a.jsx)(W.L3,{children:"種を選択してください"})}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 max-h-96 overflow-y-auto",children:F.map(e=>(0,a.jsxs)("div",{className:"\n                  p-4 rounded-lg border cursor-pointer transition-all\n                  ".concat(l.points>=e.cost&&l.level>=e.minLevel?"border-green-300 bg-green-50 hover:bg-green-100":"border-gray-300 bg-gray-50 opacity-50 cursor-not-allowed","\n                "),onClick:()=>{l.points>=e.cost&&l.level>=e.minLevel&&C(e)},children:[(0,a.jsx)("div",{className:"text-3xl text-center mb-2",children:e.icon}),(0,a.jsx)("div",{className:"text-sm font-medium text-center mb-1",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-center mb-2 ".concat(en(e.rarity)),children:"epic"===e.rarity?"超レア":"rare"===e.rarity?"レア":"普通"}),(0,a.jsx)("div",{className:"text-xs text-gray-600 text-center mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsxs)("span",{children:["コスト: ",e.cost,"pt"]}),(0,a.jsxs)("span",{children:["Lv.",e.minLevel]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 text-center mt-1",children:[e.growthTime,"日で完成"]})]},e.id))})]})}),(0,a.jsx)(W.lG,{open:b,onOpenChange:j,children:(0,a.jsxs)(W.Cf,{children:[(0,a.jsx)(W.c7,{children:(0,a.jsx)(W.L3,{children:"植物の詳細"})}),g&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:g.health&&g.health<30?"\uD83E\uDD40":O[g.type][g.growthStage]}),(0,a.jsx)("div",{className:"text-lg font-medium",children:g.name}),(0,a.jsx)("div",{className:"text-sm ".concat(en(g.rarity)),children:"epic"===g.rarity?"超レア":"rare"===g.rarity?"レア":"普通"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-1",children:"成長段階"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.k,{value:g.currentGrowthProgress,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[g.currentGrowthProgress.toFixed(0),"%"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:Z[g.growthStage].name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-1",children:"健康度"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.k,{value:g.health||0,className:"flex-1"}),(0,a.jsxs)("span",{className:"text-sm ".concat(ed(g.health||0)),children:[g.health||0,"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-1",children:"愛情値"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:10},(e,t)=>(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(t<g.loveLevel?"bg-pink-400":"bg-gray-200")},t))}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[g.loveLevel,"/10"]})]})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:"最終水やり"}),(0,a.jsx)("div",{className:"text-gray-600",children:g.lastWatered.toLocaleDateString("ja-JP")}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(()=>{let e=Math.floor((new Date().getTime()-g.lastWatered.getTime())/864e5);return 0===e?"今日水やり済み":1===e?"昨日水やり済み":e>3?"⚠️ ".concat(e,"日前 - 水やりが必要です"):"".concat(e,"日前")})()})]}),g.hasBugs&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1 text-red-600",children:"⚠️ 害虫が発生しています"}),(0,a.jsx)("div",{className:"text-red-600 text-xs",children:"成長速度が30%低下しています。駆除してください。"})]}),g.appliedFertilizer&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1 text-green-600",children:"\uD83D\uDC9A 肥料が適用されています"}),(0,a.jsx)("div",{className:"text-green-600 text-xs",children:null===(t=_[g.appliedFertilizer])||void 0===t?void 0:t.effect})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(G.$,{onClick:()=>es(g),className:"flex-1",disabled:g.lastCheeredAt&&1>Math.floor((new Date().getTime()-g.lastCheeredAt.getTime())/864e5),children:"\uD83D\uDDE3️ 応援する"}),(0,a.jsx)(G.$,{onClick:()=>{K(g),R(!0)},className:"flex-1",variant:"outline",children:"\uD83D\uDCB0 肥料"})]}),g.hasBugs&&(0,a.jsx)(G.$,{onClick:()=>er(g),className:"w-full bg-red-500 hover:bg-red-600 text-white",children:"\uD83D\uDC1B 害虫駆除"}),g.isHarvestable&&(0,a.jsxs)(G.$,{onClick:()=>{M(g,parseInt(g.id.split("-")[1])),j(!1)},className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white",children:[(0,a.jsx)(z.A,{className:"w-4 h-4 mr-2"}),"収穫する"]})]})]})]})}),(0,a.jsx)(W.lG,{open:$,onOpenChange:R,children:(0,a.jsxs)(W.Cf,{className:"max-w-md",children:[(0,a.jsx)(W.c7,{children:(0,a.jsx)(W.L3,{children:"肥料を選択してください"})}),(0,a.jsx)("div",{className:"space-y-3",children:Object.values(_).map(e=>(0,a.jsxs)("div",{className:"\n                  p-4 rounded-lg border cursor-pointer transition-all\n                  ".concat(l.points>=e.cost?"border-green-300 bg-green-50 hover:bg-green-100":"border-gray-300 bg-gray-50 opacity-50 cursor-not-allowed","\n                "),onClick:()=>{l.points>=e.cost&&ea(e.id)},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.cost,"pt"]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,a.jsx)("div",{className:"text-xs text-green-600 font-medium",children:e.effect})]},e.id))})]})}),(0,a.jsx)(W.lG,{open:V,onOpenChange:J,children:(0,a.jsxs)(W.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(W.c7,{children:(0,a.jsx)(W.L3,{className:"flex items-center gap-2",children:"\uD83D\uDC1B 害虫駆除ミニゲーム"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center bg-red-50 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-red-700",children:["残り時間: ",Y.timeLeft,"秒"]}),(0,a.jsxs)("div",{className:"text-lg font-bold text-green-700",children:["駆除数: ",Y.score,"/",Y.totalBugs]})]}),(0,a.jsxs)("div",{className:"relative w-full h-64 bg-gradient-to-b from-green-100 to-green-200 rounded-lg border-2 border-green-300 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 grid grid-cols-4 gap-2 p-4 opacity-20",children:Array.from({length:16},(e,t)=>(0,a.jsx)("div",{className:"bg-green-300 rounded flex items-center justify-center text-2xl",children:"\uD83C\uDF31"},t))}),Y.bugs.map(e=>e.isVisible&&(0,a.jsx)("div",{"data-bug-id":e.id,className:"absolute cursor-pointer animate-bounce text-3xl hover:scale-110 transition-all duration-200 z-10",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},onClick:()=>el(e.id),children:e.type},e.id)),!Y.isActive&&30===Y.timeLeft&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:(0,a.jsxs)("div",{className:"bg-white/90 p-4 rounded-lg text-center cursor-pointer hover:bg-white transition-colors",onClick:()=>{ee(e=>({...e,isActive:!0,score:0}))},children:[(0,a.jsx)("div",{className:"text-lg font-bold mb-2",children:"害虫をタップして駆除！"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"制限時間内にできるだけ多くの害虫を駆除してください"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 mt-2 font-medium",children:"クリックして開始"})]})})]}),!Y.isActive&&Y.score>0&&(0,a.jsxs)("div",{className:"p-4 rounded-lg text-center ".concat(Y.score>=Y.totalBugs?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,a.jsx)("div",{className:"text-2xl font-bold mb-2 ".concat(Y.score>=Y.totalBugs?"text-green-700":"text-red-700"),children:Y.score>=Y.totalBugs?"\uD83C\uDF89 完全駆除！":"❌ 駆除失敗"}),(0,a.jsxs)("div",{className:"text-lg mb-2",children:[Y.score,"/",Y.totalBugs,"匹駆除"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:Y.score>=Y.totalBugs?"完璧な駆除！全植物の健康度が回復しました":"時間切れ！逃げた害虫により植物の成長が遅くなりました"}),(0,a.jsx)(G.$,{onClick:()=>{ee(e=>({...e,isActive:!1})),J(!1),Q(!0)},className:"bg-green-500 hover:bg-green-600",children:"閉じる"})]})]})]})}),S.show&&(0,a.jsx)("div",{className:"fixed z-50 pointer-events-none animate-bounce",style:{left:S.position.x,top:S.position.y,transform:"translate(-50%, -50%)"},children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-full text-lg font-bold shadow-lg border-2 border-white",children:["✨ +",S.points," \uD83D\uDCB0"]})}),E.show&&(0,a.jsx)("div",{className:"fixed z-50 pointer-events-none animate-pulse",style:{left:E.position.x,top:E.position.y,transform:"translate(-50%, -50%)"},children:(0,a.jsxs)("div",{className:"bg-gradient-to-r from-pink-400 to-purple-500 text-white px-4 py-2 rounded-full text-lg font-bold shadow-lg border-2 border-white",children:["\uD83D\uDC95 ",E.message]})})]})}var R=s(72713);function q(e){let{user:t}=e,[s,i]=(0,r.useState)("dashboard");return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(l.tU,{value:s,onValueChange:i,className:"space-y-6",children:[(0,a.jsxs)(l.j7,{className:"grid w-full grid-cols-2 max-w-md",children:[(0,a.jsxs)(l.Xi,{value:"dashboard",className:"flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"w-4 h-4"}),"ダッシュボード"]}),(0,a.jsxs)(l.Xi,{value:"garden",className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),"ガーデン"]})]}),(0,a.jsx)(l.av,{value:"dashboard",className:"space-y-6",children:(0,a.jsx)(P,{user:t})}),(0,a.jsx)(l.av,{value:"garden",className:"space-y-6",children:(0,a.jsx)($,{user:t})})]})})}},88e3:(e,t,s)=>{Promise.resolve().then(s.bind(s,39298))}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,4052,2433,8698,5512,3646,2575,1379,8613,7728,4820,8441,1684,7358],()=>t(88e3)),_N_E=e.O()}]);