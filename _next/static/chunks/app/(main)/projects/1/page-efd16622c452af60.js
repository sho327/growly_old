(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7214],{37777:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>n,ZI:()=>d,k$:()=>c,m_:()=>i});var a=t(95155);t(12115);var l=t(89613),r=t(53999);function n(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(l.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function i(e){let{...s}=e;return(0,a.jsx)(n,{children:(0,a.jsx)(l.bL,{"data-slot":"tooltip",...s})})}function c(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"tooltip-trigger",...s})}function d(e){let{className:s,sideOffset:t=0,children:n,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,r.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...i,children:[n,(0,a.jsx)(l.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},63776:(e,s,t)=>{"use strict";t.d(s,{j:()=>d});var a=t(95155),l=t(97168),r=t(89852),n=t(82714),i=t(99474),c=t(99840);function d(e){let{isOpen:s,onClose:t,newTask:d,onNewTaskChange:o,onCreate:m}=e;return(0,a.jsx)(c.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(c.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(c.c7,{children:[(0,a.jsx)(c.L3,{children:"新しいタスクを作成"}),(0,a.jsx)(c.rr,{children:"タスクの詳細を入力してください。"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"title",children:"タスク名"}),(0,a.jsx)(r.p,{id:"title",value:d.title,onChange:e=>o({...d,title:e.target.value}),placeholder:"タスク名を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"description",children:"説明"}),(0,a.jsx)(i.T,{id:"description",value:d.description,onChange:e=>o({...d,description:e.target.value}),placeholder:"タスクの説明を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"priority",children:"優先度"}),(0,a.jsxs)("select",{id:"priority",value:d.priority,onChange:e=>o({...d,priority:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"low",children:"低"}),(0,a.jsx)("option",{value:"medium",children:"中"}),(0,a.jsx)("option",{value:"high",children:"高"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"dueDate",children:"期限"}),(0,a.jsx)(r.p,{id:"dueDate",type:"date",value:d.dueDate,onChange:e=>o({...d,dueDate:e.target.value}),className:"border-slate-200 focus:border-slate-400"})]})]})]}),(0,a.jsxs)(c.Es,{children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:t,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,a.jsx)(l.$,{type:"button",onClick:m,disabled:!d.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"作成"})]})]})})}},79897:(e,s,t)=>{Promise.resolve().then(t.bind(t,95081))},88524:(e,s,t)=>{"use strict";t.d(s,{A0:()=>n,BF:()=>i,Hj:()=>c,XI:()=>r,nA:()=>o,nd:()=>d});var a=t(95155);t(12115);var l=t(53999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",s),...t})})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}},95081:(e,s,t)=>{"use strict";t.d(s,{default:()=>ez});var a=t(95155),l=t(12115),r=t(97168),n=t(88145),i=t(88482),c=t(34964),d=t(67133),o=t(35169),m=t(38564),x=t(69074),h=t(66516),u=t(5623),j=t(381),g=t(39022),p=t(62525),v=t(72713),b=t(40646),N=t(57434),f=t(17580),w=t(6874),y=t.n(w),A=t(84616),C=t(97210),k=t(12486),D=t(89852),S=t(47924),Z=t(1482),I=t(5196);function E(e){let{searchQuery:s,onSearchChange:t,filters:l,onClearFilters:c,activeFiltersCount:o,searchPlaceholder:m="検索..."}=e,x=(e,s)=>{let t=e.values.includes(s)?e.values.filter(e=>e!==s):[...e.values,s];if("all"===s)e.onValuesChange([]);else{let s=t.filter(e=>"all"!==e);e.onValuesChange(0===s.length?[]:s)}};return(0,a.jsx)(i.Zp,{className:"border border-slate-200 bg-white",children:(0,a.jsxs)(i.Wu,{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,a.jsx)(D.p,{placeholder:m,value:s,onChange:e=>t(e.target.value),className:"pl-10 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 bg-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.map(e=>{let s=e.icon||Z.A,t=e.values.length>0;return(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 ".concat(t?"border-emerald-300":"border-slate-200"),children:[(0,a.jsx)(s,{className:"w-4 h-4 mr-2"}),e.label,t&&(0,a.jsxs)(n.E,{className:"ml-2 bg-emerald-100 text-emerald-800 border border-emerald-200",children:[e.values.length,"選択"]})]})}),(0,a.jsx)(d.SQ,{align:"start",className:"w-48",children:e.options.map(s=>{let t=e.values.includes(s.value),l="all"===s.value&&0===e.values.length;return(0,a.jsxs)(d._2,{onClick:()=>x(e,s.value),className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:s.label}),(t||l)&&(0,a.jsx)(I.A,{className:"w-4 h-4"})]},s.value)})})]},e.id)}),o>0&&(0,a.jsxs)(r.$,{variant:"outline",onClick:c,className:"w-full sm:w-auto border-red-200 text-red-600 hover:bg-red-50 bg-white",children:["フィルターをクリア (",o,")"]})]})]})})}var L=t(45222),_=t(43825),T=t(95139),B=t(69663),P=t(99474),W=t(63776),$=t(20864),F=t(64965),z=t(81497),O=t(99840),R=t(94008),J=t(58885);function M(e){let{isOpen:s,onClose:t,task:i,comments:d,onAddComment:o}=e,[m,x]=(0,l.useState)(""),[h,u]=(0,l.useState)("comments");return(0,a.jsx)(O.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(O.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(O.c7,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(O.L3,{className:"font-semibold text-xl",children:i.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[i.evaluation&&(0,a.jsx)(n.E,{className:"bg-yellow-100 text-yellow-800",children:(e=>{let s="★".repeat(e)+"☆".repeat(5-e);return"".concat(s," ").concat(10*e,"pt")})(i.evaluation.rating)}),"completed"===i.status&&(0,a.jsxs)(n.E,{className:"text-green-600",children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"完了済み"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",children:"編集"})})]})}),(0,a.jsxs)(c.tU,{value:h,onValueChange:u,className:"mt-6",children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(c.Xi,{value:"details",children:"詳細"}),(0,a.jsxs)(c.Xi,{value:"comments",children:["コメント (",d.length,")"]}),(0,a.jsx)(c.Xi,{value:"files",children:"ファイル (0)"}),(0,a.jsx)(c.Xi,{value:"activity",children:"活動履歴"})]}),(0,a.jsx)(c.av,{value:"details",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"詳細情報がここに表示されます"})}),(0,a.jsxs)(c.av,{value:"comments",className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.length>0?d.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)(B.eu,{className:"w-8 h-8",children:[(0,a.jsx)(B.BK,{src:e.author.avatar,alt:e.author.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,R.GP)(new Date(e.createdAt),"M/d H:mm",{locale:J.ja})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.content})]})]},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"まだコメントがありません"})}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(P.T,{placeholder:"コメントを入力...",value:m,onChange:e=>x(e.target.value),maxLength:500,rows:3,className:"min-h-16"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[m.length,"/500文字"]}),(0,a.jsxs)(r.$,{onClick:()=>{m.trim()&&(o(m),x(""))},disabled:!m.trim(),size:"sm",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-2"}),"コメント投稿"]})]})]})})]}),(0,a.jsx)(c.av,{value:"files",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"ファイルがここに表示されます"})}),(0,a.jsx)(c.av,{value:"activity",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"活動履歴がここに表示されます"})})]})]})})}function X(e){let{isEvaluated:s,points:t,rating:l,onClick:i,className:c=""}=e;if(s){let e="★".repeat(l||0)+"☆".repeat(5-(l||0));return(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(c),children:[(0,a.jsxs)(n.E,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e," ",t,"pt"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:i,className:"h-8 px-3 text-sm border-yellow-200 text-yellow-600 hover:bg-yellow-50 hover:border-yellow-300",children:[(0,a.jsx)(m.A,{className:"w-3 h-3 mr-1 fill-current"}),"評価する"]})]})}return(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:i,className:"h-8 px-3 text-sm border-yellow-200 text-yellow-600 hover:bg-yellow-50 hover:border-yellow-300 ".concat(c),children:[(0,a.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"評価する"]})}function q(e){let{commentCount:s,onClick:t,className:l=""}=e;return(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:t,className:"h-8 px-2 text-xs text-slate-500 hover:text-slate-600 hover:bg-slate-50 ".concat(l),children:[(0,a.jsx)(z.A,{className:"w-3 h-3 mr-1"}),"コメント(",s,")"]})}function G(e){let{projectId:s,projectName:t}=e,[c,o]=(0,l.useState)(""),[m,h]=(0,l.useState)([]),[j,g]=(0,l.useState)([]),[p,v]=(0,l.useState)(!1),[N,f]=(0,l.useState)(null),[w,y]=(0,l.useState)(!1),[D,S]=(0,l.useState)(null),[Z,I]=(0,l.useState)(!1),[z,O]=(0,l.useState)(null),[G,K]=(0,l.useState)(!1),[H,U]=(0,l.useState)(new Set),[V,Q]=(0,l.useState)({}),[Y,ee]=(0,l.useState)({title:"",description:"",priority:"medium",dueDate:""}),[es,et]=(0,l.useState)([{id:"1",title:"ワイヤーフレーム作成",description:"メインページとサブページのワイヤーフレームを作成する",status:"completed",priority:"high",assignee:{id:"1",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-02-15",createdAt:"2024-01-10T09:00:00Z",completedAt:"2024-02-10T15:30:00Z",evaluation:{points:85,rating:4,comment:"デザインの品質が高く、要件を満たしている。改善点も含めて良い提案だった。",evaluatedAt:"2024-02-10T16:00:00Z",evaluatedBy:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"}},comments:[{id:"1",content:"ワイヤーフレームの完成度が高いですね。ユーザビリティの観点からも良い設計だと思います。",createdAt:"2024-02-10T14:30:00Z",author:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"}},{id:"2",content:"レスポンシブ対応も考慮されているのが良いです。",createdAt:"2024-02-10T15:00:00Z",author:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"}}]},{id:"2",title:"デザインシステム構築",description:"カラーパレット、タイポグラフィ、コンポーネントライブラリの作成",status:"in-progress",priority:"high",assignee:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-02-28",createdAt:"2024-01-15T10:00:00Z",completedAt:null,evaluation:null},{id:"3",title:"フロントエンド実装",description:"React.jsを使用したフロントエンドの実装",status:"todo",priority:"medium",assignee:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-03-10",createdAt:"2024-01-20T11:00:00Z",completedAt:null,evaluation:null},{id:"4",title:"SEO対策実装",description:"メタタグ、構造化データ、サイトマップの実装",status:"todo",priority:"low",assignee:null,project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-03-15",createdAt:"2024-01-25T14:00:00Z",completedAt:null,evaluation:null}]),ea=es.filter(e=>{let s=e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()),t=0===m.length||m.includes(e.status),a=0===j.length||j.includes(e.priority);return s&&t&&a}),el=m.length+j.length,er=e=>{et(s=>s.map(s=>{if(s.id===e){let e="completed"===s.status?"todo":"completed";return{...s,status:e,completedAt:"completed"===e?new Date().toISOString():null}}return s}))},en=e=>{window.location.href="/projects/".concat(s,"/tasks/").concat(e.id)},ei=e=>{f(e),y(!0)},ec=e=>{S(e),I(!0)},ed=e=>{U(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},eo=(e,s)=>{Q(t=>({...t,[e]:s}))},em=e=>{let s=V[e];if(!(null==s?void 0:s.trim()))return;let t=es.find(s=>s.id===e);if(!t)return;let a={id:Date.now().toString(),content:s,createdAt:new Date().toISOString(),author:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}},l={...t,comments:[...t.comments||[],a]};et(e=>e.map(e=>e.id===l.id?l:e)),Q(s=>{let t={...s};return delete t[e],t}),U(s=>{let t=new Set(s);return t.delete(e),t})},ex=e=>{switch(e){case"todo":default:return"bg-slate-100 text-slate-800 border border-slate-200";case"in-progress":return"bg-emerald-100 text-emerald-800 border border-emerald-200";case"completed":return"bg-blue-100 text-blue-800 border border-blue-200"}},eh=e=>{switch(e){case"todo":default:return"未着手";case"in-progress":return"進行中";case"completed":return"完了"}},eu=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-amber-100 text-amber-800 border border-amber-200";case"low":return"bg-emerald-100 text-emerald-800 border border-emerald-200";default:return"bg-slate-100 text-slate-800 border border-slate-200"}},ej=e=>{switch(e){case"high":return"高";case"medium":default:return"中";case"low":return"低"}},eg=e=>"completed"===e?"bg-slate-50":"bg-white";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"タスク一覧"}),(0,a.jsx)("p",{className:"text-slate-600",children:"プロジェクトのタスクを管理・追跡"})]}),(0,a.jsxs)(r.$,{onClick:()=>v(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white w-full sm:w-auto",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"新規タスク"]})]}),(0,a.jsx)(E,{searchQuery:c,onSearchChange:o,filters:[{id:"status",label:"ステータス",icon:C.A,values:m,options:[{value:"todo",label:"未着手"},{value:"in-progress",label:"進行中"},{value:"completed",label:"完了"}],onValuesChange:h},{id:"priority",label:"優先度",icon:C.A,values:j,options:[{value:"high",label:"高"},{value:"medium",label:"中"},{value:"low",label:"低"}],onValuesChange:g}],onClearFilters:()=>{h([]),g([])},activeFiltersCount:el,searchPlaceholder:"タスクを検索..."}),(0,a.jsx)(L.U,{typeFilter:"all",activeFiltersCount:el,statusFilter:m.join(", "),priorityFilter:j.join(", "),isStatusMultiSelect:!0,isPriorityMultiSelect:!0}),ea.length>0?(0,a.jsx)("div",{className:"space-y-3",children:ea.map(e=>{var s,t,l;let c="completed"===e.status;return(0,a.jsx)(i.Zp,{className:"border border-slate-200 hover:shadow-sm transition-shadow cursor-pointer ".concat(eg(e.status)),onClick:()=>en(e),children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,a.jsx)(T.S,{checked:c,onCheckedChange:()=>er(e.id),className:"mt-1 data-[state=checked]:bg-emerald-600 data-[state=checked]:border-emerald-600"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 line-clamp-2 ".concat(c?"line-through opacity-75":""),children:e.title}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{onClick:s=>{s.stopPropagation(),ei(e)},children:"編集"}),(0,a.jsx)(d._2,{children:"複製"}),(0,a.jsx)(d._2,{className:"text-red-600",children:"削除"})]})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2 ".concat(c?"opacity-75":""),children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(n.E,{className:ex(e.status),variant:"outline",children:eh(e.status)}),(0,a.jsx)(n.E,{className:eu(e.priority),variant:"outline",children:ej(e.priority)}),e.dueDate&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),(0,R.GP)(new Date(e.dueDate),"M/d",{locale:J.ja})]}),c&&e.completedAt&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsx)(b.A,{className:"w-3 h-3"}),(0,R.GP)(new Date(e.completedAt),"M/d",{locale:J.ja})]}),e.assignee&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsxs)(B.eu,{className:"w-3 h-3",children:[(0,a.jsx)(B.BK,{src:e.assignee.avatar||"/placeholder.svg",alt:e.assignee.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.assignee.name.charAt(0)})]}),e.assignee.name]})]}),c&&(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.evaluation?(0,a.jsx)(X,{isEvaluated:!0,points:e.evaluation.points,rating:e.evaluation.rating,onClick:s=>{null==s||s.stopPropagation(),ec(e)}}):(0,a.jsx)(X,{isEvaluated:!1,onClick:s=>{null==s||s.stopPropagation(),ec(e)}}),(0,a.jsx)(q,{commentCount:(null===(s=e.comments)||void 0===s?void 0:s.length)||0,onClick:s=>{null==s||s.stopPropagation(),ed(e.id)}})]}),!c&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:(0,a.jsx)(q,{commentCount:(null===(t=e.comments)||void 0===t?void 0:t.length)||0,onClick:s=>{null==s||s.stopPropagation(),ed(e.id)}})}),H.has(e.id)&&(0,a.jsx)("div",{className:"mt-4 -ml-7 -mr-2 sm:-ml-4 sm:mx-0",children:(0,a.jsxs)(i.Zp,{className:"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",children:[(0,a.jsx)("div",{className:"px-4 sm:px-6 pb-3",children:(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"コメント"})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 space-y-4",children:[e.comments&&e.comments.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.comments.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)(B.eu,{className:"w-8 h-8 flex-shrink-0",children:[(0,a.jsx)(B.BK,{src:e.author.avatar,alt:e.author.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,R.GP)(new Date(e.createdAt),"M/d H:mm",{locale:J.ja})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 break-words",children:e.content})]})]},e.id))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"まだコメントがありません"}),(0,a.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,a.jsx)(P.T,{placeholder:"コメントを入力...",value:V[e.id]||"",onChange:s=>eo(e.id,s.target.value),maxLength:500,className:"min-h-[80px] resize-none"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(V[e.id]||"").length,"/500文字"]}),(0,a.jsxs)(r.$,{onClick:s=>{s.stopPropagation(),em(e.id)},disabled:!(null===(l=V[e.id])||void 0===l?void 0:l.trim()),size:"sm",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"送信"]})]})]})]})]})})]})]})})},e.id)})}):(0,a.jsx)(_.p,{icon:b.A,title:"タスクが見つかりません",description:"検索条件を変更するか、新しいタスクを作成してください。",actionLabel:"最初のタスクを作成",onAction:()=>v(!0),variant:"task"}),(0,a.jsx)(W.j,{isOpen:p,onClose:()=>v(!1),newTask:Y,onNewTaskChange:ee,onCreate:()=>{let e={id:Date.now().toString(),title:Y.title,description:Y.description,status:"todo",priority:Y.priority,assignee:null,project:{id:s,name:t,color:"#3b82f6"},dueDate:Y.dueDate||null,createdAt:new Date().toISOString(),completedAt:null};et(s=>[...s,e]),v(!1),ee({title:"",description:"",priority:"medium",dueDate:""})}}),(0,a.jsx)($.t,{task:N,isOpen:w,onClose:()=>{y(!1),f(null)},onUpdate:e=>{et(s=>s.map(s=>s.id===e.id?e:s)),y(!1),f(null)}}),(0,a.jsx)(F.$,{isOpen:Z,onClose:()=>{I(!1),S(null)},task:D||{id:"",title:"",status:"completed",completedAt:null,evaluation:null},onEvaluate:e=>{if(!D)return;let s={...D,evaluation:{...e,evaluatedAt:new Date().toISOString(),evaluatedBy:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}}};et(e=>e.map(e=>e.id===s.id?s:e)),I(!1),S(null)}}),(0,a.jsx)(M,{isOpen:G,onClose:()=>{K(!1),O(null)},task:z||{id:"",title:"",status:"completed",completedAt:null,evaluation:null},comments:(null==z?void 0:z.comments)||[],onAddComment:e=>{if(!z)return;let s={id:Date.now().toString(),content:e,createdAt:new Date().toISOString(),author:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}},t={...z,comments:[...z.comments||[],s]};et(e=>e.map(e=>e.id===t.id?t:e))}})]})}var K=t(82714);function H(e){let{projectName:s,isCreateModalOpen:t,onOpenCreateModal:l,onCloseCreateModal:n,newPost:i,onNewPostChange:c,onCreatePost:d}=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Wiki・お知らせ"})}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"プロジェクトの情報共有とドキュメント管理"})]}),(0,a.jsxs)(O.lG,{open:t,onOpenChange:e=>e?l():n(),children:[(0,a.jsx)(O.zM,{asChild:!0,children:(0,a.jsxs)(r.$,{className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"新規投稿"]})}),(0,a.jsxs)(O.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(O.c7,{children:[(0,a.jsx)(O.L3,{children:"新しい投稿を作成"}),(0,a.jsx)(O.rr,{children:"プロジェクトメンバーと共有する情報を投稿してください。"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(K.J,{htmlFor:"title",children:"タイトル"}),(0,a.jsx)(D.p,{id:"title",value:i.title,onChange:e=>c({...i,title:e.target.value}),placeholder:"投稿のタイトルを入力",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(K.J,{htmlFor:"content",children:"内容"}),(0,a.jsx)(P.T,{id:"content",value:i.content,onChange:e=>c({...i,content:e.target.value}),placeholder:"投稿の内容を入力",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 min-h-[120px]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(K.J,{htmlFor:"type",children:"投稿タイプ"}),(0,a.jsxs)("select",{id:"type",value:i.type,onChange:e=>c({...i,type:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-emerald-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"announcement",children:"お知らせ"}),(0,a.jsx)("option",{value:"documentation",children:"ドキュメント"}),(0,a.jsx)("option",{value:"meeting-notes",children:"議事録"}),(0,a.jsx)("option",{value:"update",children:"アップデート"})]})]})]}),(0,a.jsxs)(O.Es,{children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:n,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,a.jsx)(r.$,{type:"button",onClick:d,disabled:!i.title.trim()||!i.content.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"投稿"})]})]})]})]})}let U=e=>{switch(e){case"announcement":return"お知らせ";case"documentation":return"ドキュメント";case"meeting-notes":return"議事録";case"update":return"アップデート";default:return e}},V=e=>{switch(e){case"announcement":return"bg-blue-100 text-blue-800";case"documentation":return"bg-emerald-100 text-emerald-800";case"meeting-notes":return"bg-purple-100 text-purple-800";case"update":return"bg-orange-100 text-orange-800";default:return"bg-slate-100 text-slate-800"}};function Q(e){let{searchQuery:s,onSearchChange:t,typeFilter:l,onTypeFilterChange:c,activeFiltersCount:o,onClearFilters:m}=e;return(0,a.jsx)(i.Zp,{className:"border border-slate-200 bg-white",children:(0,a.jsxs)(i.Wu,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,a.jsx)(D.p,{placeholder:"投稿を検索...",value:s,onChange:e=>t(e.target.value),className:"pl-10 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 bg-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 ".concat("all"!==l?"border-emerald-300":"border-slate-200"),children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"種類","all"!==l&&(0,a.jsx)(n.E,{className:"ml-2 ".concat(V(l)),children:U(l)})]})}),(0,a.jsxs)(d.SQ,{align:"start",className:"w-48",children:[(0,a.jsx)(d._2,{onClick:()=>c("all"),children:"すべて"}),(0,a.jsx)(d._2,{onClick:()=>c("announcement"),children:"お知らせ"}),(0,a.jsx)(d._2,{onClick:()=>c("documentation"),children:"ドキュメント"}),(0,a.jsx)(d._2,{onClick:()=>c("meeting-notes"),children:"議事録"}),(0,a.jsx)(d._2,{onClick:()=>c("update"),children:"アップデート"})]})]}),o>0&&(0,a.jsxs)(r.$,{variant:"outline",onClick:m,className:"w-full sm:w-auto border-red-200 text-red-600 hover:bg-red-50 bg-white",children:["フィルターをクリア (",o,")"]})]})]})})}var Y=t(59963);let ee=e=>{switch(e){case"announcement":return"bg-blue-100 text-blue-800 border-blue-200";case"documentation":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"meeting-notes":return"bg-purple-100 text-purple-800 border-purple-200";case"update":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},es=e=>{switch(e){case"announcement":return"お知らせ";case"documentation":return"ドキュメント";case"meeting-notes":return"議事録";case"update":return"アップデート";default:return e}};function et(e){let{posts:s,projectId:t,showPinnedSection:l=!1}=e;return 0===s.length?null:(0,a.jsxs)("div",{className:"space-y-4",children:[l&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4 text-slate-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"ピン留め投稿"})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(y(),{href:"/projects/".concat(t,"/wiki/").concat(e.id),children:(0,a.jsxs)(i.Zp,{className:"border border-slate-200 hover:shadow-sm transition-shadow cursor-pointer ".concat(l?"bg-white":""),children:[(0,a.jsx)(i.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(i.ZB,{className:"text-lg font-semibold text-slate-900",children:e.title}),(0,a.jsx)(n.E,{className:ee(e.type),variant:"outline",children:es(e.type)}),e.pinned&&(0,a.jsx)(Y.A,{className:"w-4 h-4 text-slate-600"})]}),(0,a.jsx)(i.BT,{className:"text-slate-600 leading-relaxed line-clamp-2",children:e.content})]})})}),(0,a.jsx)(i.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(B.eu,{className:"w-6 h-6",children:[(0,a.jsx)(B.BK,{src:e.author.avatar||"/placeholder.svg",alt:e.author.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsx)("span",{children:e.author.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("ja-JP")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.commentsCount})]})]})})]})},e.id))})]})}function ea(e){let{projectId:s,projectName:t}=e,[r,n]=(0,l.useState)(""),[i,c]=(0,l.useState)("all"),[d,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)({title:"",content:"",type:"announcement"}),[h]=(0,l.useState)([{id:"1",title:"プロジェクト開始のお知らせ",content:"Webサイトリニューアルプロジェクトを開始いたします。チーム一丸となって取り組みましょう。",type:"announcement",author:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-15T09:00:00Z",pinned:!0,commentsCount:3},{id:"2",title:"デザインガイドライン",content:"新しいデザインシステムのガイドラインを作成しました。カラーパレット、タイポグラフィ、コンポーネントの使用方法について記載しています。",type:"documentation",author:{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},createdAt:"2024-01-18T14:30:00Z",updatedAt:"2024-01-20T10:15:00Z",pinned:!1,commentsCount:7},{id:"3",title:"第1回ミーティング議事録",content:"プロジェクトキックオフミーティングの議事録です。決定事項、課題、次回までのアクションアイテムをまとめています。",type:"meeting-notes",author:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},createdAt:"2024-01-16T16:00:00Z",updatedAt:"2024-01-16T16:00:00Z",pinned:!1,commentsCount:2},{id:"4",title:"進捗アップデート - Week 2",content:"第2週の進捗状況をお知らせします。ワイヤーフレーム作成が完了し、デザイン作業に移行しています。",type:"update",author:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},createdAt:"2024-01-22T11:00:00Z",updatedAt:"2024-01-22T11:00:00Z",pinned:!1,commentsCount:5}]),u=h.filter(e=>{let s=e.title.toLowerCase().includes(r.toLowerCase())||e.content.toLowerCase().includes(r.toLowerCase()),t="all"===i||e.type===i;return s&&t}),j=u.filter(e=>e.pinned),g=u.filter(e=>!e.pinned),p=[i].filter(e=>"all"!==e).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(H,{projectName:t,isCreateModalOpen:d,onOpenCreateModal:()=>o(!0),onCloseCreateModal:()=>o(!1),newPost:m,onNewPostChange:x,onCreatePost:()=>{console.log("Creating wiki post:",m),o(!1),x({title:"",content:"",type:"announcement"})}}),(0,a.jsx)(Q,{searchQuery:r,onSearchChange:n,typeFilter:i,onTypeFilterChange:c,activeFiltersCount:p,onClearFilters:()=>c("all")}),(0,a.jsx)(L.U,{typeFilter:i,activeFiltersCount:p}),j.length>0&&(0,a.jsx)(et,{posts:j,projectId:s,showPinnedSection:!0}),g.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[j.length>0&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"投稿一覧"}),(0,a.jsx)(et,{posts:g,projectId:s})]}),0===u.length&&(0,a.jsx)(_.p,{icon:N.A,title:"投稿がありません",description:"プロジェクトの情報共有を始めましょう。お知らせやドキュメントを投稿してください。",actionLabel:"最初の投稿を作成",onAction:()=>o(!0),variant:"wiki"})]})}var el=t(41397),er=t(84477),en=t(37777),ei=t(59929),ec=t(33384),ed=t(97037),eo=t(51931);function em(e){let s,t,r,n,{tasks:i,projectId:c}=e,[d,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(new Map),h=(()=>{let e=[],s=new Date;for(let t=29;t>=0;t--){let a=new Date(s);a.setDate(a.getDate()-t),e.push(a)}return e})();(0,l.useEffect)(()=>{o(!0);let e=(()=>{let e=[],s=new Date;for(let t=29;t>=0;t--){let a=new Date(s);a.setDate(a.getDate()-t),e.push(a)}return e})();e.forEach(e=>{let s=g(e);s.count>0&&(console.log("タスク発見: ".concat(e.toLocaleDateString(),", タスク数: ").concat(s.count,", ポイント: ").concat(s.points)),s.tasks.forEach(e=>{console.log("  - ".concat(e.title,": 難易度").concat(e.difficulty,", 評価").concat(e.rating||"なし"))}))}),console.log("活動日数:",e.filter(e=>g(e).points>0).length),console.log("総タスク数:",i.length);let s=new Map,t=0;e.forEach((e,a)=>{let l=g(e);if(console.log("位置計算: ".concat(e.toLocaleDateString(),", ポイント: ").concat(l.points)),0===l.points){console.log("位置計算スキップ: ポイント0");return}let r=84*Math.random()+3,n=85*Math.random()+5;console.log("位置計算完了: ".concat(e.toLocaleDateString(),", 位置: ").concat(r,"%, ").concat(n,"%"));let i=e.toDateString();s.set(i,{left:r,bottom:n}),t++}),console.log("計算された位置数:",s.size),console.log("位置データ:",Array.from(s.entries())),x(s)},[i,c]);let u=e=>0===e?null:e<=50?ei.A:e<=100?ec.A:e<=200?ed.A:eo.A,j=e=>e<=200?"text-emerald-600":"text-pink-500";(()=>{let e=[],s=[];for(h.forEach((t,a)=>{if(0===a){let e=t.getDay();for(let t=0;t<e;t++)s.push(null)}s.push(t),7===s.length&&(e.push(s),s=[])});s.length<7;)s.push(null);return s.length>0&&e.push(s)})();let g=e=>{let s=e.toDateString(),t=i.filter(e=>e.completedAt&&e.completedAt.toDateString()===s&&e.projectId===c),a=t.reduce((e,s)=>e+50*s.difficulty+(s.rating?10*s.rating:0),0);return{count:t.length,points:a,tasks:t}},p=i.filter(e=>e.projectId===c);p.length,p.reduce((e,s)=>e+50*s.difficulty+(s.rating?10*s.rating:0),0),h.filter(e=>g(e).count>0).length,p.filter(e=>e.completed).length;let v=(s=0,t=0,r=0,n=0,h.forEach(e=>{let a=g(e);a.points>0&&(a.points<=50?s++:a.points<=100?t++:a.points<=200?r++:n++)}),{sproutCount:s,leafCount:t,treeCount:r,flowerCount:n});return console.log("plantPositions状態:",Array.from(m.entries())),console.log("isClient状態:",d),(0,a.jsx)(en.Bc,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative h-56 sm:h-64 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4/5 bg-gray-100"})," ",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1/5 bg-emerald-50"})," ",(0,a.jsx)("div",{className:"absolute inset-0 p-4",children:(0,a.jsx)("div",{className:"h-full relative",children:d&&h.map((e,s)=>{let t=g(e);if(console.log("レンダリング: ".concat(e.toLocaleDateString(),", ポイント: ").concat(t.points,", インデックス: ").concat(s)),0===t.points)return console.log("スキップ: ポイント0"),null;let l=u(t.points);if(!l)return console.log("スキップ: 植物アイコンなし"),null;let r=e.toDateString(),n=m.get(r);return n?(console.log("植物表示: ".concat(e.toLocaleDateString()," - ").concat(t.points,"ポイント - 位置: ").concat(n.left,"%, ").concat(n.bottom,"%")),console.log("背景判定: bottom=".concat(n.bottom,"% - ").concat(n.bottom>=20?"グレーエリア":"緑エリア")),(0,a.jsxs)(en.m_,{children:[(0,a.jsx)(en.k$,{asChild:!0,children:(0,a.jsx)("div",{className:"absolute cursor-pointer hover:scale-110 transition-transform duration-200",style:{left:"".concat(n.left,"%"),bottom:"".concat(n.bottom,"%")},children:(0,a.jsx)(l,{className:"w-6 h-6 ".concat(j(t.points)," drop-shadow-sm")})})}),(0,a.jsx)(en.ZI,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:e.toLocaleDateString("ja-JP")}),(0,a.jsxs)("div",{children:[t.count,"個のタスク完了"]}),(0,a.jsxs)("div",{children:[t.points,"ポイント獲得"]}),t.tasks.length>0&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[t.tasks.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-xs",children:["• ",e.title," (★",e.difficulty,e.rating&&" ⭐".concat(e.rating),")"]},e.id)),t.tasks.length>3&&(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["他 ",t.tasks.length-3," 件"]})]})]})})]},s)):(console.log("スキップ: 位置データなし (日付: ".concat(r,")")),console.log("plantPositionsマップ:",Array.from(m.entries())),null)})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(ei.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.sproutCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"新芽"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(ec.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.leafCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"若葉"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(ed.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.treeCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"成木"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(eo.A,{className:"w-10 h-10 text-pink-500 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.flowerCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"開花"})]})]})]})})}var ex=t(16785),eh=t(79397),eu=t(18186),ej=t(33109),eg=t(71539),ep=t(85339),ev=t(69037);function eb(e){let{projectId:s,projectName:t}=e,l=[{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田",role:"管理者",points:680,tasksCompleted:8,tasksInProgress:2,averageRating:4.5,lastActive:"2時間前",productivity:92},{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"リーダー",points:520,tasksCompleted:6,tasksInProgress:1,averageRating:4.2,lastActive:"1時間前",productivity:88},{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴",role:"サブリーダー",points:450,tasksCompleted:5,tasksInProgress:2,averageRating:4,lastActive:"30分前",productivity:85},{id:"4",name:"山田次郎",avatar:"/placeholder.svg?height=32&width=32&text=山",role:"メンバー",points:320,tasksCompleted:4,tasksInProgress:1,averageRating:3.8,lastActive:"5分前",productivity:78}],c=[{id:"1",title:"デザインシステムの構築",difficulty:3,completed:!0,completedAt:new Date(Date.now()-1728e5),assignee:"田中太郎",projectId:s,rating:4},{id:"2",title:"API設計書の作成",difficulty:2,completed:!0,completedAt:new Date(Date.now()-432e6),assignee:"佐藤花子",projectId:s,rating:5},{id:"3",title:"フロントエンド実装",difficulty:4,completed:!0,completedAt:new Date(Date.now()-6048e5),assignee:"鈴木一郎",projectId:s,rating:3},{id:"4",title:"データベース設計",difficulty:3,completed:!0,completedAt:new Date(Date.now()-864e6),assignee:"山田次郎",projectId:s,rating:4},{id:"5",title:"テストケース作成",difficulty:2,completed:!0,completedAt:new Date(Date.now()-10368e5),assignee:"田中太郎",projectId:s,rating:5},{id:"6",title:"ドキュメント整備",difficulty:1,completed:!0,completedAt:new Date(Date.now()-1296e6),assignee:"佐藤花子",projectId:s,rating:4},{id:"7",title:"セキュリティレビュー",difficulty:4,completed:!0,completedAt:new Date(Date.now()-15552e5),assignee:"鈴木一郎",projectId:s,rating:3},{id:"8",title:"パフォーマンス最適化",difficulty:3,completed:!0,completedAt:new Date(Date.now()-1728e6),assignee:"山田次郎",projectId:s,rating:4},{id:"9",title:"UI/UX改善",difficulty:2,completed:!0,completedAt:new Date(Date.now()-19008e5),assignee:"田中太郎",projectId:s,rating:5},{id:"10",title:"バグ修正",difficulty:1,completed:!0,completedAt:new Date(Date.now()-216e7),assignee:"佐藤花子",projectId:s,rating:4}],d=e=>{switch(e){case"task_completed":return(0,a.jsx)(b.A,{className:"w-4 h-4 text-green-600"});case"task_created":return(0,a.jsx)(ex.A,{className:"w-4 h-4 text-blue-600"});case"comment_added":return(0,a.jsx)(eh.A,{className:"w-4 h-4 text-purple-600"});case"member_joined":return(0,a.jsx)(f.A,{className:"w-4 h-4 text-emerald-600"});case"milestone_reached":return(0,a.jsx)(eu.A,{className:"w-4 h-4 text-amber-600"});default:return(0,a.jsx)(eh.A,{className:"w-4 h-4 text-slate-600"})}},o=e=>{switch(e){case"task_completed":return"bg-green-100";case"task_created":return"bg-blue-100";case"comment_added":return"bg-purple-100";case"member_joined":return"bg-emerald-100";case"milestone_reached":return"bg-amber-100";default:return"bg-slate-100"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-semibold text-gray-900 mb-2",children:"プロジェクトダッシュボード"}),(0,a.jsxs)("p",{className:"text-gray-600 text-base",children:[t," の進捗状況とチーム活動"]})]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"詳細レポート"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(er.hI,{icon:(0,a.jsx)(ej.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"進捗率",value:"".concat("66.7","%"),subtitle:"".concat(16,"/").concat(24," タスク完了"),color:"emerald"}),(0,a.jsx)(er.hI,{icon:(0,a.jsx)(m.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"総ポイント",value:"2840",subtitle:"+".concat(420," 今週"),color:"blue"}),(0,a.jsx)(er.hI,{icon:(0,a.jsx)(eg.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"チーム生産性",value:"".concat(78,"%"),subtitle:"平均 ".concat(3.2,"日"),color:"purple"}),(0,a.jsx)(er.hI,{icon:(0,a.jsx)(ep.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"期限超過",value:"3",subtitle:"タスクが期限を超過",color:"red"})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2 mb-8",children:[(0,a.jsxs)(i.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)(i.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-gray-600"}),"タスク状況"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"完了"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:16}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"進行中"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:5}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"未着手"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:3}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"期限超過"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-red-600",children:3}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]})]})]}),(0,a.jsxs)(i.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)(i.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(eg.A,{className:"w-5 h-5 text-gray-600"}),"チームパフォーマンス"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"平均完了時間"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[3.2,"日"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"週間ポイント獲得"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-green-600",children:["+",420]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"チーム生産性"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[78,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"アクティブメンバー"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[l.length,"人"]})]})]})]})]}),(0,a.jsxs)(i.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsxs)(i.aR,{className:"pb-4",children:[(0,a.jsxs)(i.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(eu.A,{className:"w-5 h-5 text-gray-600"}),"今月の貢献度ランキング"]}),(0,a.jsx)(i.BT,{className:"text-gray-600",children:"2025年8月のプロジェクト貢献度ランキング"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6",children:l.sort((e,s)=>s.points-e.points).slice(0,3).map((e,s)=>{let t=[{icon:(0,a.jsx)(eu.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-500"}),bgClass:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",badgeClass:"bg-amber-100 text-amber-800 border-amber-200",badgeText:"\uD83C\uDFC6 今月のMVP！",rank:"1st"},{icon:(0,a.jsx)(ev.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-500"}),bgClass:"bg-gradient-to-br from-slate-50 to-gray-50 border-slate-200",badgeClass:"bg-slate-100 text-slate-800 border-slate-200",badgeText:"\uD83E\uDD48 素晴らしい貢献！",rank:"2nd"},{icon:(0,a.jsx)(ev.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-500"}),bgClass:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200",badgeClass:"bg-orange-100 text-orange-800 border-orange-200",badgeText:"\uD83E\uDD49 頑張っています！",rank:"3rd"}][s];return(0,a.jsx)("div",{className:"p-3 sm:p-4 rounded-lg border-2 ".concat(t.bgClass),children:(0,a.jsxs)("div",{className:"text-center space-y-2 sm:space-y-3",children:[(0,a.jsx)("div",{className:"flex justify-center",children:t.icon}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(B.eu,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto",children:[(0,a.jsx)(B.BK,{src:e.avatar,alt:e.name}),(0,a.jsx)(B.q5,{className:"text-sm font-medium",children:e.name.charAt(0)})]}),0===s&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs px-1 sm:px-2 py-0.5 sm:py-1 rounded-full",children:"YOU"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-lg",children:e.name}),(0,a.jsxs)("div",{className:"text-lg sm:text-2xl font-bold text-green-600 flex items-center justify-center gap-1",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.points,"pt"]})]}),(0,a.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"完了タスク:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.tasksCompleted,"個"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"平均評価:"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"font-medium",children:e.averageRating.toFixed(1)})]})]})]}),(0,a.jsx)(n.E,{className:"".concat(t.badgeClass," text-xs"),children:t.badgeText})]})},e.id)})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-muted-foreground border-b pb-2 text-sm sm:text-base",children:"その他のメンバー"}),l.sort((e,s)=>s.points-e.points).slice(3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsxs)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center text-xs sm:text-sm font-bold text-muted-foreground",children:["#",s+4]}),(0,a.jsxs)("span",{className:"font-medium text-muted-foreground text-xs sm:text-sm",children:["#",s+4]})]}),(0,a.jsxs)(B.eu,{className:"h-8 w-8 sm:h-10 sm:w-10",children:[(0,a.jsx)(B.BK,{src:e.avatar,alt:e.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base truncate",children:e.name}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[e.tasksCompleted,"個のタスク完了"]})]})]}),(0,a.jsxs)("div",{className:"text-right space-y-1",children:[(0,a.jsxs)("div",{className:"font-bold text-green-600 flex items-center gap-1 text-sm sm:text-base",children:[(0,a.jsx)(ei.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.points,"pt"]}),(0,a.jsx)("div",{className:"w-16 sm:w-24",children:(0,a.jsx)(el.k,{value:e.productivity,className:"h-1 sm:h-2"})})]})]},e.id))]}),(0,a.jsx)("div",{className:"mt-6 p-3 sm:p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-green-700",children:l.reduce((e,s)=>e+s.points,0)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"総獲得ポイント"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:l.reduce((e,s)=>e+s.tasksCompleted,0)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"総完了タスク"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-purple-700",children:l.filter(e=>e.tasksCompleted>0).length}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"アクティブメンバー"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-orange-700",children:(l.reduce((e,s)=>e+s.averageRating,0)/l.length).toFixed(1)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"平均評価"})]})]})})]})]}),(0,a.jsxs)(i.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow mb-8",children:[(0,a.jsxs)(i.aR,{className:"pb-4",children:[(0,a.jsx)(i.ZB,{className:"text-xl font-semibold text-gray-900",children:"成長記録"}),(0,a.jsx)(i.BT,{className:"text-gray-600",children:"過去30日間のタスク完了状況"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(em,{tasks:c,projectId:s})})]}),(0,a.jsxs)(i.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow mb-8",children:[(0,a.jsxs)(i.aR,{className:"pb-4",children:[(0,a.jsxs)(i.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(eh.A,{className:"w-5 h-5 text-gray-600"}),"最近の活動"]}),(0,a.jsx)(i.BT,{className:"text-gray-600",children:"プロジェクト内での最新の活動履歴"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[{id:"1",type:"task_completed",title:"デザインシステムの構築",description:"田中太郎 がタスクを完了しました",user:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},timestamp:"2024-02-15T10:30:00Z",points:50},{id:"2",type:"milestone_reached",title:"プロジェクト進捗 70% 達成",description:"プロジェクトの重要なマイルストーンに到達しました",user:{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},timestamp:"2024-02-15T09:15:00Z"},{id:"3",type:"task_created",title:"新機能の設計書レビュー",description:"鈴木一郎 が新しいタスクを作成しました",user:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},timestamp:"2024-02-15T08:45:00Z"},{id:"4",type:"comment_added",title:"フロントエンド実装について",description:"山田次郎 がコメントを追加しました",user:{id:"4",name:"山田次郎",avatar:"/placeholder.svg?height=32&width=32&text=山"},timestamp:"2024-02-15T08:20:00Z"}].map(e=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(o(e.type)," flex-shrink-0"),children:d(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-base text-gray-900",children:e.title}),e.points&&(0,a.jsxs)(n.E,{variant:"outline",className:"text-xs border-green-200 text-green-700 bg-green-50",children:["+",e.points,"pt"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(B.eu,{className:"w-6 h-6",children:[(0,a.jsx)(B.BK,{src:e.user.avatar,alt:e.user.name}),(0,a.jsx)(B.q5,{className:"text-xs",children:e.user.name.charAt(0)})]}),(0,a.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:e.user.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,R.GP)(new Date(e.timestamp),"M/d H:mm",{locale:J.ja})})]})]})]},e.id))})})]})]})}var eN=t(12318);function ef(e){let{projectName:s,isInviteOpen:t,onOpenInvite:l,onCloseInvite:n,inviteEmail:i,inviteRole:c,onInviteEmailChange:d,onInviteRoleChange:o,onSendInvite:m}=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-2",children:(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"メンバー一覧"})}),(0,a.jsx)("p",{className:"text-gray-600 text-base",children:"プロジェクトのメンバーと役割を管理します"})]}),(0,a.jsxs)(O.lG,{open:t,onOpenChange:e=>e?l():n(),children:[(0,a.jsx)(O.zM,{asChild:!0,children:(0,a.jsxs)(r.$,{className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 text-base font-medium",children:[(0,a.jsx)(eN.A,{className:"w-5 h-5 mr-2"}),"メンバー招待"]})}),(0,a.jsxs)(O.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(O.c7,{children:[(0,a.jsx)(O.L3,{className:"text-xl font-semibold text-gray-900",children:"メンバーを招待"}),(0,a.jsx)(O.rr,{className:"text-gray-600",children:"新しいメンバーをプロジェクトに招待します。招待メールが送信されます。"})]}),(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(K.J,{htmlFor:"email",className:"text-base font-medium text-gray-700",children:"メールアドレス"}),(0,a.jsx)(D.p,{id:"email",type:"email",placeholder:"member@example.com",value:i,onChange:e=>d(e.target.value),className:"border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 text-base"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(K.J,{htmlFor:"role",className:"text-base font-medium text-gray-700",children:"役割"}),(0,a.jsxs)("select",{id:"role",value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-md focus:border-emerald-500 focus:outline-none text-base",children:[(0,a.jsx)("option",{value:"member",children:"メンバー"}),(0,a.jsx)("option",{value:"subleader",children:"サブリーダー"}),(0,a.jsx)("option",{value:"leader",children:"リーダー"}),(0,a.jsx)("option",{value:"admin",children:"管理者"})]})]})]}),(0,a.jsxs)(O.Es,{children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:n,className:"border-gray-200 text-gray-700 hover:bg-gray-50 px-6 py-3",children:"キャンセル"}),(0,a.jsx)(r.$,{type:"button",onClick:m,disabled:!i.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3",children:"招待を送信"})]})]})]})]})}var ew=t(55607),ey=t(14186),eA=t(28883),eC=t(19420),ek=t(4516),eD=t(34869),eS=t(59099),eZ=t(18175),eI=t(72894);function eE(e){var s;let{member:t,isOpen:r,onClose:d}=e,[o,x]=(0,l.useState)("overview"),h=(e=>{let s=[{name:"草の芽",color:"from-green-500 to-emerald-500"},{name:"若葉",color:"from-emerald-500 to-teal-500"},{name:"新芽",color:"from-teal-500 to-cyan-500"},{name:"成長",color:"from-cyan-500 to-blue-500"},{name:"開花",color:"from-blue-500 to-indigo-500"},{name:"実り",color:"from-indigo-500 to-purple-500"},{name:"豊作",color:"from-purple-500 to-pink-500"},{name:"収穫",color:"from-pink-500 to-red-500"},{name:"熟成",color:"from-red-500 to-orange-500"},{name:"伝説",color:"from-orange-500 to-yellow-500"}];return s[Math.min(e-1,s.length-1)]})(t.level||1),u=(t.totalExperience||0)%100,j=100-u;return(0,a.jsx)(O.lG,{open:r,onOpenChange:d,children:(0,a.jsxs)(O.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(O.c7,{children:(0,a.jsxs)(O.L3,{className:"text-lg leading-none font-semibold flex items-center gap-3",children:[(0,a.jsxs)(B.eu,{className:"h-12 w-12",children:[(0,a.jsx)(B.BK,{src:t.avatar,alt:t.name}),(0,a.jsx)(B.q5,{children:t.name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-xl font-bold",children:t.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["レベル ",t.level||1]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[t.points||0,"pt"]})]})]})]})}),(0,a.jsxs)(c.tU,{value:o,onValueChange:x,className:"flex flex-col gap-2 mt-6",children:[(0,a.jsx)("div",{className:"bg-slate-100 p-1 rounded-lg",children:(0,a.jsxs)(c.j7,{className:"grid grid-cols-2 sm:grid-cols-4 w-full h-auto bg-transparent",children:[(0,a.jsx)(c.Xi,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"概要"}),(0,a.jsx)(c.Xi,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"活動"}),(0,a.jsx)(c.Xi,{value:"profile",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"プロフィール"}),(0,a.jsx)(c.Xi,{value:"projects",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"プロジェクト"})]})}),(0,a.jsxs)(c.av,{value:"overview",className:"space-y-6",children:[(0,a.jsx)(i.Zp,{className:"bg-gradient-to-br from-indigo-50 to-purple-50",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br ".concat(h.color," flex items-center justify-center text-white font-bold text-2xl shadow-lg"),children:t.level||1}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"LEVEL"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.E,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-3 py-1",children:[(0,a.jsx)(eu.A,{className:"h-4 w-4 mr-1"}),h.name]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[u,"/100 EXP"]})]}),(0,a.jsx)(el.k,{value:u,className:"h-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(ej.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["総経験値: ",t.totalExperience||0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["次のレベルまで: ",j]})]})]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(i.Zp,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(eu.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-700",children:t.points||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-green-800 mb-1",children:"総ポイント"}),(0,a.jsx)("div",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full inline-block",children:"+12% 今月"})]})}),(0,a.jsx)(i.Zp,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-700",children:t.completedTasks||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"完了タスク"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block",children:"+8% 今月"})]})}),(0,a.jsx)(i.Zp,{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-purple-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(ex.A,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-700",children:t.joinedProjects||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-purple-800 mb-1",children:"参加プロジェクト"}),(0,a.jsx)("div",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full inline-block",children:"+3% 今月"})]})}),(0,a.jsx)(i.Zp,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(i.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"h-4 w-4 text-orange-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-orange-700",children:(null===(s=t.averageRating)||void 0===s?void 0:s.toFixed(1))||"0.0"})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-orange-800 mb-1",children:"平均評価"}),(0,a.jsx)("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full inline-block",children:"+5% 今月"})]})})]}),(0,a.jsxs)(i.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(ew.A,{className:"h-5 w-5 text-orange-500"}),"ログイン状況"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl shadow-lg",children:"\uD83D\uDCC8"}),(0,a.jsxs)("div",{className:"text-sm font-bold mt-2 text-slate-700",children:[t.consecutiveLoginDays||0,"日連続"]})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"連続ログイン:"}),(0,a.jsxs)("span",{className:"font-medium text-slate-900",children:[t.consecutiveLoginDays||0,"日"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"総ログイン回数:"}),(0,a.jsxs)("span",{className:"font-medium text-slate-900",children:[t.totalLoginCount||0,"回"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"最終ログイン:"}),(0,a.jsx)("span",{className:"font-medium text-slate-900",children:t.lastLoginDate||"不明"})]})]})]})})]})]}),(0,a.jsx)(c.av,{value:"activity",className:"space-y-6",children:(0,a.jsxs)(i.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(ey.A,{className:"h-5 w-5 text-blue-500"}),"最近の活動"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"タスク完了"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"「Webサイトリニューアル」のタスクを完了"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"2時間前"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"レベルアップ"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"レベル4からレベル5にアップ"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"1日前"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-violet-50 border border-purple-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(ex.A,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"プロジェクト参加"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"「Webサイトリニューアル」プロジェクトに参加"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"3日前"})]})]})})]})}),(0,a.jsxs)(c.av,{value:"profile",className:"space-y-6",children:[(0,a.jsxs)(i.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-indigo-500"}),"基本情報"]})}),(0,a.jsxs)(i.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eA.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"メールアドレス"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.email})]})]}),t.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eC.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"電話番号"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.phone})]})]}),t.location&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(ek.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"所在地"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.location})]})]}),t.website&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eD.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"ウェブサイト"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.website})]})]})]}),t.bio&&(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-3 text-slate-900",children:"自己紹介"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 leading-relaxed break-words",children:t.bio})]})]})]}),(t.github||t.twitter||t.linkedin)&&(0,a.jsxs)(i.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(eD.A,{className:"h-5 w-5 text-green-500"}),"ソーシャルリンク"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[t.github&&(0,a.jsxs)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors border border-slate-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(eS.A,{className:"h-4 w-4 text-slate-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700 truncate",children:"GitHub"})]}),t.twitter&&(0,a.jsxs)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors border border-blue-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(eZ.A,{className:"h-4 w-4 text-blue-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 truncate",children:"Twitter"})]}),t.linkedin&&(0,a.jsxs)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors border border-blue-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(eI.A,{className:"h-4 w-4 text-blue-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 truncate",children:"LinkedIn"})]})]})})]})]}),(0,a.jsx)(c.av,{value:"projects",className:"space-y-6",children:(0,a.jsxs)(i.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(ex.A,{className:"h-5 w-5 text-purple-500"}),"参加プロジェクト"]})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:"Webサイトリニューアル"}),(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"メンバー • 2024/1/10参加"})]})]}),(0,a.jsx)(n.E,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"メンバー"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:"デザインシステム構築"}),(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"リーダー • 2024/1/25参加"})]})]}),(0,a.jsx)(n.E,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"リーダー"})]})]})})]})})]})]})})}var eL=t(88524),e_=t(47863),eT=t(66474),eB=t(13717),eP=t(53904),eW=t(54861),e$=t(1243);function eF(e){let{members:s}=e,[t,i]=(0,l.useState)("name"),[c,o]=(0,l.useState)("asc"),[m,x]=(0,l.useState)(!1),[h,j]=(0,l.useState)(null),[g,v]=(0,l.useState)(!1),N=e=>{t===e?o("asc"===c?"desc":"asc"):(i(e),o("asc"))},f=[...s].sort((e,s)=>{let a,l;switch(t){case"name":default:a=e.name,l=s.name;break;case"role":a=e.role,l=s.role;break;case"joinedAt":a=new Date(e.joinedAt||"1970-01-01"),l=new Date(s.joinedAt||"1970-01-01")}return a<l?"asc"===c?-1:1:a>l?"asc"===c?1:-1:0}),w=f.filter(e=>"active"===e.status),y=f.filter(e=>"invited"===e.status),A=f.filter(e=>"declined"===e.status),C=e=>{switch(e){case"管理者":return"bg-red-50 text-red-700 border-red-200";case"リーダー":return"bg-orange-50 text-orange-700 border-orange-200";case"サブリーダー":return"bg-yellow-50 text-yellow-700 border-yellow-200";default:return"bg-blue-50 text-blue-700 border-blue-200"}},[k,D]=(0,l.useState)(null),[S,Z]=(0,l.useState)(null),I=e=>{console.log("招待を再送:",e),D(null)},E=e=>{console.log("招待をキャンセル:",e),D(null)},L=e=>{j(e),v(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(b.A,{className:"w-6 h-6 text-emerald-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"承認済みメンバー"}),(0,a.jsxs)(n.E,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 px-3 py-1",children:[w.length,"人"]})]}),w.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(eL.XI,{children:[(0,a.jsx)(eL.A0,{children:(0,a.jsxs)(eL.Hj,{children:[(0,a.jsx)(eL.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("name"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["メンバー","name"===t&&("asc"===c?(0,a.jsx)(e_.A,{className:"w-4 h-4"}):(0,a.jsx)(eT.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(eL.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("role"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["役割","role"===t&&("asc"===c?(0,a.jsx)(e_.A,{className:"w-4 h-4"}):(0,a.jsx)(eT.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(eL.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("joinedAt"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["参加日","joinedAt"===t&&("asc"===c?(0,a.jsx)(e_.A,{className:"w-4 h-4"}):(0,a.jsx)(eT.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(eL.nd,{children:"最終アクティブ"}),(0,a.jsx)(eL.nd,{className:"w-[50px]"})]})}),(0,a.jsx)(eL.BF,{children:w.map(e=>(0,a.jsxs)(eL.Hj,{children:[(0,a.jsx)(eL.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-slate-50 p-1 rounded transition-colors",onClick:()=>L(e),children:[(0,a.jsxs)(B.eu,{className:"h-8 w-8",children:[(0,a.jsx)(B.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(B.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)(eL.nA,{children:(0,a.jsx)(n.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(eL.nA,{children:e.joinedAt?new Date(e.joinedAt).toLocaleDateString("ja-JP"):"未参加"}),(0,a.jsx)(eL.nA,{children:e.lastActive||"未アクセス"}),(0,a.jsx)(eL.nA,{children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsxs)(d._2,{children:[(0,a.jsx)(eB.A,{className:"w-4 h-4 mr-2"}),"役割を変更"]}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(eA.A,{className:"w-4 h-4 mr-2"}),"メッセージ送信"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{className:"text-red-600",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"メンバー削除"]})]})]})})]},e.id))})]})}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"承認済みメンバーはいません"})]}),y.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(ey.A,{className:"w-6 h-6 text-amber-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"招待中メンバー"}),(0,a.jsxs)(n.E,{variant:"secondary",className:"bg-amber-100 text-amber-800 px-3 py-1",children:[y.length,"人"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(eL.XI,{children:[(0,a.jsx)(eL.A0,{children:(0,a.jsxs)(eL.Hj,{children:[(0,a.jsx)(eL.nd,{children:"メンバー"}),(0,a.jsx)(eL.nd,{children:"役割"}),(0,a.jsx)(eL.nd,{children:"招待日"}),(0,a.jsx)(eL.nd,{className:"w-[120px]",children:"アクション"})]})}),(0,a.jsx)(eL.BF,{children:y.map(e=>(0,a.jsxs)(eL.Hj,{className:"bg-amber-50",children:[(0,a.jsx)(eL.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(B.eu,{className:"h-8 w-8",children:[(0,a.jsx)(B.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(B.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)(eL.nA,{children:(0,a.jsx)(n.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(eL.nA,{children:e.invitedAt?new Date(e.invitedAt).toLocaleDateString("ja-JP"):"不明"}),(0,a.jsx)(eL.nA,{children:(0,a.jsx)("span",{className:"text-sm text-slate-500",children:e.invitedAt?new Date(e.invitedAt).toLocaleDateString("ja-JP"):"不明"})}),(0,a.jsx)(eL.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>D("resend-".concat(e.id)),className:"h-7 px-2 text-xs border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(eP.A,{className:"w-3 h-3 mr-1"}),"再送"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>D("cancel-".concat(e.id)),className:"h-7 px-2 text-xs border-red-200 text-red-600 hover:bg-red-50",children:[(0,a.jsx)(eW.A,{className:"w-3 h-3 mr-1"}),"取り消し"]})]})})]},e.id))})]})})]}),A.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(eW.A,{className:"w-6 h-6 text-red-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"辞退済みメンバー"}),(0,a.jsxs)(n.E,{variant:"secondary",className:"bg-red-100 text-red-800 px-3 py-1",children:[A.length,"人"]})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x(!m),className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:m?"非表示":"表示"})]}),m&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(eL.XI,{children:[(0,a.jsx)(eL.A0,{children:(0,a.jsxs)(eL.Hj,{children:[(0,a.jsx)(eL.nd,{children:"メンバー"}),(0,a.jsx)(eL.nd,{children:"役割"}),(0,a.jsx)(eL.nd,{children:"辞退日"})]})}),(0,a.jsx)(eL.BF,{children:A.map(e=>(0,a.jsxs)(eL.Hj,{className:"bg-red-50 opacity-75",children:[(0,a.jsx)(eL.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(B.eu,{className:"h-8 w-8",children:[(0,a.jsx)(B.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(B.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-600",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,a.jsx)(eL.nA,{children:(0,a.jsx)(n.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(eL.nA,{children:e.declinedAt?new Date(e.declinedAt).toLocaleDateString("ja-JP"):"不明"}),(0,a.jsx)(eL.nA,{children:(0,a.jsx)("span",{className:"text-sm text-slate-400",children:e.declinedAt?new Date(e.declinedAt).toLocaleDateString("ja-JP"):"不明"})})]},e.id))})]})})]}),(0,a.jsx)(O.lG,{open:!!k,onOpenChange:()=>D(null),children:(0,a.jsxs)(O.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(O.c7,{children:[(0,a.jsxs)(O.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(e$.A,{className:"w-5 h-5 text-amber-600"}),(null==k?void 0:k.startsWith("resend-"))?"招待を再送":"招待を取り消し"]}),(0,a.jsx)(O.rr,{children:(null==k?void 0:k.startsWith("resend-"))?"この招待を再送しますか？新しい招待メールが送信されます。":"この招待を取り消しますか？この操作は取り消せません。"})]}),(0,a.jsxs)(O.Es,{className:"gap-2",children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>D(null),className:"border-slate-200",children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:()=>{(null==k?void 0:k.startsWith("resend-"))?I(k.replace("resend-","")):(null==k?void 0:k.startsWith("cancel-"))&&E(k.replace("cancel-",""))},className:(null==k?void 0:k.startsWith("cancel-"))?"bg-red-600 hover:bg-red-700":"bg-emerald-600 hover:bg-emerald-700",children:(null==k?void 0:k.startsWith("resend-"))?"再送する":"取り消す"})]})]})}),h&&(0,a.jsx)(eE,{member:{...h,level:5,points:1450,totalExperience:450,completedTasks:87,joinedProjects:1,averageRating:4.5,consecutiveLoginDays:5,totalLoginCount:23,lastLoginDate:"2025/8/14",bio:"フルスタック開発者として5年の経験があります。React、TypeScript、Node.jsを得意としています。",location:"東京都",website:"https://example.com",github:"https://github.com/example",twitter:"https://twitter.com/example",linkedin:"https://linkedin.com/in/example"},isOpen:g,onClose:()=>{v(!1),j(null)}})]})}function ez(e){let{projectId:s}=e,[t,w]=(0,l.useState)("dashboard"),[A,C]=(0,l.useState)(!1),[k,D]=(0,l.useState)(""),[S,Z]=(0,l.useState)("member"),I="Webサイトリニューアル",E="active";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(y(),{href:"/projects",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"プロジェクト一覧"]})})}),(0,a.jsx)(i.Zp,{className:"border border-gray-200 bg-white",children:(0,a.jsx)(i.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,a.jsx)("div",{className:"w-8 h-8 text-emerald-600 font-bold text-xl flex items-center justify-center",children:"W"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.ZB,{className:"text-3xl font-semibold text-gray-900 mb-2",children:I}),(0,a.jsx)("p",{className:"text-gray-600 text-base",children:"Themesbrand"})]}),(0,a.jsx)("div",{className:"p-2 bg-amber-100 rounded-full",children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-amber-500 fill-current"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["作成日: ",new Date("2024-01-10").toLocaleDateString("ja-JP")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["期限: ",new Date("2024-03-15").toLocaleDateString("ja-JP")]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,a.jsx)(n.E,{className:"bg-emerald-100 text-emerald-800 border-emerald-200",children:"新規"}),(0,a.jsx)(n.E,{className:"bg-red-100 text-red-800 border-red-200",children:"高優先度"}),(0,a.jsx)(n.E,{className:(e=>{switch(e){case"active":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"on-hold":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}})(E),variant:"outline",children:(e=>{switch(e){case"active":return"進行中";case"completed":return"完了";case"on-hold":return"保留";case"planning":return"計画中";default:return"不明"}})(E)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"共有"]}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{asChild:!0,children:(0,a.jsxs)(y(),{href:"/projects/".concat(s,"/edit"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"プロジェクト設定"]})}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"お気に入りから削除"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"アーカイブ"]}),(0,a.jsxs)(d._2,{className:"text-red-600",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"削除"]})]})]})]})]})})})]}),(0,a.jsxs)(c.tU,{value:t,onValueChange:w,className:"w-full",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(c.j7,{className:"flex w-max min-w-full bg-gray-100 p-1 rounded-lg",children:[(0,a.jsxs)(c.Xi,{value:"dashboard",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-base font-medium whitespace-nowrap flex-shrink-0 px-6 py-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 mr-3"}),"ダッシュボード"]}),(0,a.jsxs)(c.Xi,{value:"tasks",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-base font-medium whitespace-nowrap flex-shrink-0 px-6 py-3",children:[(0,a.jsx)(b.A,{className:"w-5 h-5 mr-3"}),"タスク一覧"]}),(0,a.jsxs)(c.Xi,{value:"wiki",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-base font-medium whitespace-nowrap flex-shrink-0 px-6 py-3",children:[(0,a.jsx)(N.A,{className:"w-5 h-5 mr-3"}),"Wiki・お知らせ"]}),(0,a.jsxs)(c.Xi,{value:"members",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-base font-medium whitespace-nowrap flex-shrink-0 px-6 py-3",children:[(0,a.jsx)(f.A,{className:"w-5 h-5 mr-3"}),"メンバー"]})]})}),(0,a.jsx)(c.av,{value:"dashboard",className:"mt-8",children:(0,a.jsx)(eb,{projectId:s,projectName:I})}),(0,a.jsx)(c.av,{value:"tasks",className:"mt-8",children:(0,a.jsx)(G,{projectId:s,projectName:I})}),(0,a.jsx)(c.av,{value:"members",className:"mt-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(ef,{projectName:I,isInviteOpen:A,onOpenInvite:()=>C(!0),onCloseInvite:()=>C(!1),inviteEmail:k,inviteRole:S,onInviteEmailChange:D,onInviteRoleChange:Z,onSendInvite:()=>{console.log("Invite member:",{email:k,role:S}),D(""),Z("member"),C(!1)}}),(0,a.jsx)(i.Zp,{className:"border-gray-200 bg-white shadow-sm",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsx)(eF,{members:[{id:"1",name:"田中太郎",email:"tanaka@example.com",avatar:"/placeholder.svg?height=32&width=32&text=田",role:"管理者",joinedAt:"2024-01-10",lastActive:"2時間前",status:"active"},{id:"2",name:"佐藤花子",email:"sato@example.com",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"リーダー",joinedAt:"2024-01-12",lastActive:"1時間前",status:"active"},{id:"3",name:"鈴木一郎",email:"suzuki@example.com",avatar:"/placeholder.svg?height=32&width=32&text=鈴",role:"サブリーダー",joinedAt:"2024-01-15",lastActive:"30分前",status:"active"},{id:"4",name:"山田次郎",email:"yamada@example.com",avatar:"/placeholder.svg?height=32&width=32&text=山",role:"メンバー",joinedAt:"2024-01-18",lastActive:"5分前",status:"active"},{id:"5",name:"高橋美咲",email:"takahashi@example.com",avatar:"/placeholder.svg?height=32&width=32&text=高",role:"メンバー",joinedAt:null,lastActive:null,status:"invited",inviteCode:"WEB2024",invitedAt:"2024-02-15T10:00:00Z"},{id:"6",name:"渡辺誠",email:"watanabe@example.com",avatar:"/placeholder.svg?height=32&width=32&text=渡",role:"リーダー",joinedAt:null,lastActive:null,status:"invited",inviteCode:"WEB2024",invitedAt:"2024-02-14T15:30:00Z"},{id:"7",name:"佐々木健",email:"sasaki@example.com",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"メンバー",joinedAt:null,lastActive:null,status:"declined",inviteCode:"WEB2024",invitedAt:"2024-02-10T14:00:00Z",declinedAt:"2024-02-12T16:00:00Z"}]})})})]})}),(0,a.jsx)(c.av,{value:"wiki",className:"mt-8",children:(0,a.jsx)(ea,{projectId:s,projectName:I})})]})]})}},95139:(e,s,t)=>{"use strict";t.d(s,{S:()=>i});var a=t(95155);t(12115);var l=t(76981),r=t(5196),n=t(53999);function i(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"checkbox",className:(0,n.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(r.A,{className:"size-3.5"})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3455,4052,8250,6874,5152,8698,3787,219,4299,5381,8613,3361,6708,8441,1684,7358],()=>s(79897)),_N_E=e.O()}]);