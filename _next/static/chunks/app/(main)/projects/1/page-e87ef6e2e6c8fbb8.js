(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7214],{37777:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>i,ZI:()=>d,k$:()=>c,m_:()=>n});var a=t(95155);t(12115);var l=t(89613),r=t(53999);function i(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(l.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}function n(e){let{...s}=e;return(0,a.jsx)(i,{children:(0,a.jsx)(l.bL,{"data-slot":"tooltip",...s})})}function c(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"tooltip-trigger",...s})}function d(e){let{className:s,sideOffset:t=0,children:i,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,r.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...n,children:[i,(0,a.jsx)(l.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},63776:(e,s,t)=>{"use strict";t.d(s,{j:()=>d});var a=t(95155),l=t(97168),r=t(89852),i=t(82714),n=t(99474),c=t(99840);function d(e){let{isOpen:s,onClose:t,newTask:d,onNewTaskChange:o,onCreate:x}=e;return(0,a.jsx)(c.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(c.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(c.c7,{children:[(0,a.jsx)(c.L3,{children:"新しいタスクを作成"}),(0,a.jsx)(c.rr,{children:"タスクの詳細を入力してください。"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"title",children:"タスク名"}),(0,a.jsx)(r.p,{id:"title",value:d.title,onChange:e=>o({...d,title:e.target.value}),placeholder:"タスク名を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"description",children:"説明"}),(0,a.jsx)(n.T,{id:"description",value:d.description,onChange:e=>o({...d,description:e.target.value}),placeholder:"タスクの説明を入力",className:"border-slate-200 focus:border-slate-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"priority",children:"優先度"}),(0,a.jsxs)("select",{id:"priority",value:d.priority,onChange:e=>o({...d,priority:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-slate-400 focus:outline-none",children:[(0,a.jsx)("option",{value:"low",children:"低"}),(0,a.jsx)("option",{value:"medium",children:"中"}),(0,a.jsx)("option",{value:"high",children:"高"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.J,{htmlFor:"dueDate",children:"期限"}),(0,a.jsx)(r.p,{id:"dueDate",type:"date",value:d.dueDate,onChange:e=>o({...d,dueDate:e.target.value}),className:"border-slate-200 focus:border-slate-400"})]})]})]}),(0,a.jsxs)(c.Es,{children:[(0,a.jsx)(l.$,{type:"button",variant:"outline",onClick:t,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,a.jsx)(l.$,{type:"button",onClick:x,disabled:!d.title.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"作成"})]})]})})}},78058:(e,s,t)=>{"use strict";t.d(s,{default:()=>e7});var a=t(95155),l=t(12115),r=t(97168),i=t(88145),n=t(88482),c=t(34964),d=t(67133),o=t(35169),x=t(38564),m=t(69074),h=t(66516),u=t(5623),j=t(381),p=t(39022),g=t(62525),v=t(72713),b=t(40646),N=t(57434),f=t(17580),w=t(21380),y=t(6874),A=t.n(y),D=t(69663),C=t(41397),k=t(84477),S=t(37777),T=t(59929),I=t(33384),B=t(97037),P=t(51931);function E(e){let s,t,r,i,{tasks:n,projectId:c}=e,[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(new Map),h=(()=>{let e=[],s=new Date;for(let t=29;t>=0;t--){let a=new Date(s);a.setDate(a.getDate()-t),e.push(a)}return e})();(0,l.useEffect)(()=>{o(!0);let e=(()=>{let e=[],s=new Date;for(let t=29;t>=0;t--){let a=new Date(s);a.setDate(a.getDate()-t),e.push(a)}return e})();e.forEach(e=>{let s=p(e);s.count>0&&(console.log("タスク発見: ".concat(e.toLocaleDateString(),", タスク数: ").concat(s.count,", ポイント: ").concat(s.points)),s.tasks.forEach(e=>{console.log("  - ".concat(e.title,": 難易度").concat(e.difficulty,", 評価").concat(e.rating||"なし"))}))}),console.log("活動日数:",e.filter(e=>p(e).points>0).length),console.log("総タスク数:",n.length);let s=new Map,t=0;e.forEach((e,a)=>{let l=p(e);if(console.log("位置計算: ".concat(e.toLocaleDateString(),", ポイント: ").concat(l.points)),0===l.points){console.log("位置計算スキップ: ポイント0");return}let r=84*Math.random()+3,i=85*Math.random()+5;console.log("位置計算完了: ".concat(e.toLocaleDateString(),", 位置: ").concat(r,"%, ").concat(i,"%"));let n=e.toDateString();s.set(n,{left:r,bottom:i}),t++}),console.log("計算された位置数:",s.size),console.log("位置データ:",Array.from(s.entries())),m(s)},[n,c]);let u=e=>0===e?null:e<=50?T.A:e<=100?I.A:e<=200?B.A:P.A,j=e=>e<=200?"text-emerald-600":"text-pink-500";(()=>{let e=[],s=[];for(h.forEach((t,a)=>{if(0===a){let e=t.getDay();for(let t=0;t<e;t++)s.push(null)}s.push(t),7===s.length&&(e.push(s),s=[])});s.length<7;)s.push(null);return s.length>0&&e.push(s)})();let p=e=>{let s=e.toDateString(),t=n.filter(e=>e.completedAt&&e.completedAt.toDateString()===s&&e.projectId===c),a=t.reduce((e,s)=>e+50*s.difficulty+(s.rating?10*s.rating:0),0);return{count:t.length,points:a,tasks:t}},g=n.filter(e=>e.projectId===c);g.length,g.reduce((e,s)=>e+50*s.difficulty+(s.rating?10*s.rating:0),0),h.filter(e=>p(e).count>0).length,g.filter(e=>e.completed).length;let v=(s=0,t=0,r=0,i=0,h.forEach(e=>{let a=p(e);a.points>0&&(a.points<=50?s++:a.points<=100?t++:a.points<=200?r++:i++)}),{sproutCount:s,leafCount:t,treeCount:r,flowerCount:i});return console.log("plantPositions状態:",Array.from(x.entries())),console.log("isClient状態:",d),(0,a.jsx)(S.Bc,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative h-56 sm:h-64 rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-4/5 bg-gray-100"})," ",(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1/5 bg-emerald-50"})," ",(0,a.jsx)("div",{className:"absolute inset-0 p-4",children:(0,a.jsx)("div",{className:"h-full relative",children:d&&h.map((e,s)=>{let t=p(e);if(console.log("レンダリング: ".concat(e.toLocaleDateString(),", ポイント: ").concat(t.points,", インデックス: ").concat(s)),0===t.points)return console.log("スキップ: ポイント0"),null;let l=u(t.points);if(!l)return console.log("スキップ: 植物アイコンなし"),null;let r=e.toDateString(),i=x.get(r);return i?(console.log("植物表示: ".concat(e.toLocaleDateString()," - ").concat(t.points,"ポイント - 位置: ").concat(i.left,"%, ").concat(i.bottom,"%")),console.log("背景判定: bottom=".concat(i.bottom,"% - ").concat(i.bottom>=20?"グレーエリア":"緑エリア")),(0,a.jsxs)(S.m_,{children:[(0,a.jsx)(S.k$,{asChild:!0,children:(0,a.jsx)("div",{className:"absolute cursor-pointer hover:scale-110 transition-transform duration-200",style:{left:"".concat(i.left,"%"),bottom:"".concat(i.bottom,"%")},children:(0,a.jsx)(l,{className:"w-6 h-6 ".concat(j(t.points)," drop-shadow-sm")})})}),(0,a.jsx)(S.ZI,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:e.toLocaleDateString("ja-JP")}),(0,a.jsxs)("div",{children:[t.count,"個のタスク完了"]}),(0,a.jsxs)("div",{children:[t.points,"ポイント獲得"]}),t.tasks.length>0&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[t.tasks.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-xs",children:["• ",e.title," (★",e.difficulty,e.rating&&" ⭐".concat(e.rating),")"]},e.id)),t.tasks.length>3&&(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["他 ",t.tasks.length-3," 件"]})]})]})})]},s)):(console.log("スキップ: 位置データなし (日付: ".concat(r,")")),console.log("plantPositionsマップ:",Array.from(x.entries())),null)})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 pt-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(T.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.sproutCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"新芽"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(I.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.leafCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"若葉"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(B.A,{className:"w-10 h-10 text-emerald-600 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.treeCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"成木"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)(P.A,{className:"w-10 h-10 text-pink-500 mx-auto mb-3"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.flowerCount}),(0,a.jsx)("div",{className:"text-base text-gray-600 font-medium",children:"開花"})]})]})]})})}var Z=t(16785),F=t(79397),z=t(18186),_=t(33109),L=t(71539),$=t(85339),M=t(69037),J=t(75512),W=t(58885);function O(e){let{projectId:s,projectName:t}=e,l=[{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田",role:"管理者",points:680,tasksCompleted:8,tasksInProgress:2,averageRating:4.5,lastActive:"2時間前",productivity:92},{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"リーダー",points:520,tasksCompleted:6,tasksInProgress:1,averageRating:4.2,lastActive:"1時間前",productivity:88},{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴",role:"サブリーダー",points:450,tasksCompleted:5,tasksInProgress:2,averageRating:4,lastActive:"30分前",productivity:85},{id:"4",name:"山田次郎",avatar:"/placeholder.svg?height=32&width=32&text=山",role:"メンバー",points:320,tasksCompleted:4,tasksInProgress:1,averageRating:3.8,lastActive:"5分前",productivity:78}],c=[{id:"1",title:"デザインシステムの構築",difficulty:3,completed:!0,completedAt:new Date(Date.now()-1728e5),assignee:"田中太郎",projectId:s,rating:4},{id:"2",title:"API設計書の作成",difficulty:2,completed:!0,completedAt:new Date(Date.now()-432e6),assignee:"佐藤花子",projectId:s,rating:5},{id:"3",title:"フロントエンド実装",difficulty:4,completed:!0,completedAt:new Date(Date.now()-6048e5),assignee:"鈴木一郎",projectId:s,rating:3},{id:"4",title:"データベース設計",difficulty:3,completed:!0,completedAt:new Date(Date.now()-864e6),assignee:"山田次郎",projectId:s,rating:4},{id:"5",title:"テストケース作成",difficulty:2,completed:!0,completedAt:new Date(Date.now()-10368e5),assignee:"田中太郎",projectId:s,rating:5},{id:"6",title:"ドキュメント整備",difficulty:1,completed:!0,completedAt:new Date(Date.now()-1296e6),assignee:"佐藤花子",projectId:s,rating:4},{id:"7",title:"セキュリティレビュー",difficulty:4,completed:!0,completedAt:new Date(Date.now()-15552e5),assignee:"鈴木一郎",projectId:s,rating:3},{id:"8",title:"パフォーマンス最適化",difficulty:3,completed:!0,completedAt:new Date(Date.now()-1728e6),assignee:"山田次郎",projectId:s,rating:4},{id:"9",title:"UI/UX改善",difficulty:2,completed:!0,completedAt:new Date(Date.now()-19008e5),assignee:"田中太郎",projectId:s,rating:5},{id:"10",title:"バグ修正",difficulty:1,completed:!0,completedAt:new Date(Date.now()-216e7),assignee:"佐藤花子",projectId:s,rating:4}],d=e=>{switch(e){case"task_completed":return(0,a.jsx)(b.A,{className:"w-4 h-4 text-green-600"});case"task_created":return(0,a.jsx)(Z.A,{className:"w-4 h-4 text-blue-600"});case"comment_added":return(0,a.jsx)(F.A,{className:"w-4 h-4 text-purple-600"});case"member_joined":return(0,a.jsx)(f.A,{className:"w-4 h-4 text-emerald-600"});case"milestone_reached":return(0,a.jsx)(z.A,{className:"w-4 h-4 text-amber-600"});default:return(0,a.jsx)(F.A,{className:"w-4 h-4 text-slate-600"})}},o=e=>{switch(e){case"task_completed":return"bg-green-100";case"task_created":return"bg-blue-100";case"comment_added":return"bg-purple-100";case"member_joined":return"bg-emerald-100";case"milestone_reached":return"bg-amber-100";default:return"bg-slate-100"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"ダッシュボード"}),(0,a.jsxs)("p",{className:"text-gray-600 text-base",children:[t," の進捗状況とチーム活動"]})]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400",children:[(0,a.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"詳細レポート"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(k.hI,{icon:(0,a.jsx)(_.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"進捗率",value:"".concat("66.7","%"),subtitle:"".concat(16,"/").concat(24," タスク完了"),color:"emerald"}),(0,a.jsx)(k.hI,{icon:(0,a.jsx)(x.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"総ポイント",value:"2840",subtitle:"+".concat(420," 今週"),color:"blue"}),(0,a.jsx)(k.hI,{icon:(0,a.jsx)(L.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"チーム生産性",value:"".concat(78,"%"),subtitle:"平均 ".concat(3.2,"日"),color:"purple"}),(0,a.jsx)(k.hI,{icon:(0,a.jsx)($.A,{className:"w-5 h-5 sm:w-6 sm:h-6"}),title:"期限超過",value:"3",subtitle:"タスクが期限を超過",color:"red"})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2 mb-8",children:[(0,a.jsxs)(n.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{className:"pb-4",children:(0,a.jsxs)(n.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-gray-600"}),"タスク状況"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"完了"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:16}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"進行中"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:5}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"未着手"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:3}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"期限超過"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-red-600",children:3}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"タスク"})]})]})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{className:"pb-4",children:(0,a.jsxs)(n.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(L.A,{className:"w-5 h-5 text-gray-600"}),"チームパフォーマンス"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"平均完了時間"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[3.2,"日"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"週間ポイント獲得"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-green-600",children:["+",420]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"チーム生産性"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[78,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,a.jsx)("span",{className:"text-base font-medium text-gray-700",children:"アクティブメンバー"}),(0,a.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:[l.length,"人"]})]})]})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsxs)(n.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(z.A,{className:"w-5 h-5 text-gray-600"}),"今月の貢献度ランキング"]}),(0,a.jsx)(n.BT,{className:"text-gray-600",children:"2025年8月のプロジェクト貢献度ランキング"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6",children:l.sort((e,s)=>s.points-e.points).slice(0,3).map((e,s)=>{let t=[{icon:(0,a.jsx)(z.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-500"}),bgClass:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",badgeClass:"bg-amber-100 text-amber-800 border-amber-200",badgeText:"\uD83C\uDFC6 今月のMVP！",rank:"1st"},{icon:(0,a.jsx)(M.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-slate-500"}),bgClass:"bg-gradient-to-br from-slate-50 to-gray-50 border-slate-200",badgeClass:"bg-slate-100 text-slate-800 border-slate-200",badgeText:"\uD83E\uDD48 素晴らしい貢献！",rank:"2nd"},{icon:(0,a.jsx)(M.A,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-500"}),bgClass:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200",badgeClass:"bg-orange-100 text-orange-800 border-orange-200",badgeText:"\uD83E\uDD49 頑張っています！",rank:"3rd"}][s];return(0,a.jsx)("div",{className:"p-3 sm:p-4 rounded-lg border-2 ".concat(t.bgClass),children:(0,a.jsxs)("div",{className:"text-center space-y-2 sm:space-y-3",children:[(0,a.jsx)("div",{className:"flex justify-center",children:t.icon}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(D.eu,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto",children:[(0,a.jsx)(D.BK,{src:e.avatar,alt:e.name}),(0,a.jsx)(D.q5,{className:"text-sm font-medium",children:e.name.charAt(0)})]}),0===s&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs px-1 sm:px-2 py-0.5 sm:py-1 rounded-full",children:"YOU"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-lg",children:e.name}),(0,a.jsxs)("div",{className:"text-lg sm:text-2xl font-bold text-green-600 flex items-center justify-center gap-1",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.points,"pt"]})]}),(0,a.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"完了タスク:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.tasksCompleted,"個"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"平均評価:"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 text-yellow-400 fill-current"}),(0,a.jsx)("span",{className:"font-medium",children:e.averageRating.toFixed(1)})]})]})]}),(0,a.jsx)(i.E,{className:"".concat(t.badgeClass," text-xs"),children:t.badgeText})]})},e.id)})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-muted-foreground border-b pb-2 text-sm sm:text-base",children:"その他のメンバー"}),l.sort((e,s)=>s.points-e.points).slice(3).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2",children:[(0,a.jsxs)("div",{className:"h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center text-xs sm:text-sm font-bold text-muted-foreground",children:["#",s+4]}),(0,a.jsxs)("span",{className:"font-medium text-muted-foreground text-xs sm:text-sm",children:["#",s+4]})]}),(0,a.jsxs)(D.eu,{className:"h-8 w-8 sm:h-10 sm:w-10",children:[(0,a.jsx)(D.BK,{src:e.avatar,alt:e.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-semibold text-sm sm:text-base truncate",children:e.name}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:[e.tasksCompleted,"個のタスク完了"]})]})]}),(0,a.jsxs)("div",{className:"text-right space-y-1",children:[(0,a.jsxs)("div",{className:"font-bold text-green-600 flex items-center gap-1 text-sm sm:text-base",children:[(0,a.jsx)(T.A,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.points,"pt"]}),(0,a.jsx)("div",{className:"w-16 sm:w-24",children:(0,a.jsx)(C.k,{value:e.productivity,className:"h-1 sm:h-2"})})]})]},e.id))]}),(0,a.jsx)("div",{className:"mt-6 p-3 sm:p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-green-700",children:l.reduce((e,s)=>e+s.points,0)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"総獲得ポイント"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-blue-700",children:l.reduce((e,s)=>e+s.tasksCompleted,0)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"総完了タスク"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-purple-700",children:l.filter(e=>e.tasksCompleted>0).length}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"アクティブメンバー"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-orange-700",children:(l.reduce((e,s)=>e+s.averageRating,0)/l.length).toFixed(1)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"平均評価"})]})]})})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow mb-8",children:[(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsx)(n.ZB,{className:"text-xl font-semibold text-gray-900",children:"成長記録"}),(0,a.jsx)(n.BT,{className:"text-gray-600",children:"過去30日間のタスク完了状況"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(E,{tasks:c,projectId:s})})]}),(0,a.jsxs)(n.Zp,{className:"bg-white border-gray-200 shadow-sm hover:shadow-md transition-shadow mb-8",children:[(0,a.jsxs)(n.aR,{className:"pb-4",children:[(0,a.jsxs)(n.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center gap-3",children:[(0,a.jsx)(F.A,{className:"w-5 h-5 text-gray-600"}),"最近の活動"]}),(0,a.jsx)(n.BT,{className:"text-gray-600",children:"プロジェクト内での最新の活動履歴"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[{id:"1",type:"task_completed",title:"デザインシステムの構築",description:"田中太郎 がタスクを完了しました",user:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},timestamp:"2024-02-15T10:30:00Z",points:50},{id:"2",type:"milestone_reached",title:"プロジェクト進捗 70% 達成",description:"プロジェクトの重要なマイルストーンに到達しました",user:{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},timestamp:"2024-02-15T09:15:00Z"},{id:"3",type:"task_created",title:"新機能の設計書レビュー",description:"鈴木一郎 が新しいタスクを作成しました",user:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},timestamp:"2024-02-15T08:45:00Z"},{id:"4",type:"comment_added",title:"フロントエンド実装について",description:"山田次郎 がコメントを追加しました",user:{id:"4",name:"山田次郎",avatar:"/placeholder.svg?height=32&width=32&text=山"},timestamp:"2024-02-15T08:20:00Z"}].map(e=>(0,a.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(o(e.type)," flex-shrink-0"),children:d(e.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"font-semibold text-base text-gray-900",children:e.title}),e.points&&(0,a.jsxs)(i.E,{variant:"outline",className:"text-xs border-green-200 text-green-700 bg-green-50",children:["+",e.points,"pt"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(D.eu,{className:"w-6 h-6",children:[(0,a.jsx)(D.BK,{src:e.user.avatar,alt:e.user.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.user.name.charAt(0)})]}),(0,a.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:e.user.name}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:(0,J.GP)(new Date(e.timestamp),"M/d H:mm",{locale:W.ja})})]})]})]},e.id))})})]})]})}var G=t(84616),R=t(97210),H=t(12486),X=t(97457),U=t(45222),q=t(43825),K=t(95139),V=t(99474),Q=t(63776),Y=t(20864),ee=t(64965),es=t(81497),et=t(99840);function ea(e){let{isOpen:s,onClose:t,task:n,comments:d,onAddComment:o}=e,[x,m]=(0,l.useState)(""),[h,u]=(0,l.useState)("comments");return(0,a.jsx)(et.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(et.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(et.c7,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(et.L3,{className:"font-semibold text-xl",children:n.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[n.evaluation&&(0,a.jsx)(i.E,{className:"bg-yellow-100 text-yellow-800",children:(e=>{let s="★".repeat(e)+"☆".repeat(5-e);return"".concat(s," ").concat(10*e,"pt")})(n.evaluation.rating)}),"completed"===n.status&&(0,a.jsxs)(i.E,{className:"text-green-600",children:[(0,a.jsx)(b.A,{className:"h-3 w-3 mr-1"}),"完了済み"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",children:"編集"})})]})}),(0,a.jsxs)(c.tU,{value:h,onValueChange:u,className:"mt-6",children:[(0,a.jsxs)(c.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(c.Xi,{value:"details",children:"詳細"}),(0,a.jsxs)(c.Xi,{value:"comments",children:["コメント (",d.length,")"]}),(0,a.jsx)(c.Xi,{value:"files",children:"ファイル (0)"}),(0,a.jsx)(c.Xi,{value:"activity",children:"活動履歴"})]}),(0,a.jsx)(c.av,{value:"details",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"詳細情報がここに表示されます"})}),(0,a.jsxs)(c.av,{value:"comments",className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:d.length>0?d.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)(D.eu,{className:"w-8 h-8",children:[(0,a.jsx)(D.BK,{src:e.author.avatar,alt:e.author.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,J.GP)(new Date(e.createdAt),"M/d H:mm",{locale:W.ja})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.content})]})]},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-8",children:"まだコメントがありません"})}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(V.T,{placeholder:"コメントを入力...",value:x,onChange:e=>m(e.target.value),maxLength:500,rows:3,className:"min-h-16"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[x.length,"/500文字"]}),(0,a.jsxs)(r.$,{onClick:()=>{x.trim()&&(o(x),m(""))},disabled:!x.trim(),size:"sm",children:[(0,a.jsx)(es.A,{className:"h-4 w-4 mr-2"}),"コメント投稿"]})]})]})})]}),(0,a.jsx)(c.av,{value:"files",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"ファイルがここに表示されます"})}),(0,a.jsx)(c.av,{value:"activity",className:"space-y-4",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8",children:"活動履歴がここに表示されます"})})]})]})})}function el(e){let{isEvaluated:s,points:t,rating:l,onClick:n,className:c=""}=e;if(s){let e="★".repeat(l||0)+"☆".repeat(5-(l||0));return(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(c),children:[(0,a.jsxs)(i.E,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e," ",t,"pt"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:n,className:"h-8 px-3 text-sm border-yellow-200 text-yellow-600 hover:bg-yellow-50 hover:border-yellow-300",children:[(0,a.jsx)(x.A,{className:"w-3 h-3 mr-1 fill-current"}),"評価する"]})]})}return(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:n,className:"h-8 px-3 text-sm border-yellow-200 text-yellow-600 hover:bg-yellow-50 hover:border-yellow-300 ".concat(c),children:[(0,a.jsx)(x.A,{className:"w-3 h-3 mr-1"}),"評価する"]})}function er(e){let{commentCount:s,onClick:t,className:l=""}=e;return(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:t,className:"h-8 px-2 text-xs text-slate-500 hover:text-slate-600 hover:bg-slate-50 ".concat(l),children:[(0,a.jsx)(es.A,{className:"w-3 h-3 mr-1"}),"コメント(",s,")"]})}function ei(e){let{projectId:s,projectName:t}=e,[c,o]=(0,l.useState)(""),[x,h]=(0,l.useState)([]),[j,p]=(0,l.useState)([]),[g,v]=(0,l.useState)(!1),[N,f]=(0,l.useState)(null),[w,y]=(0,l.useState)(!1),[A,C]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1),[T,I]=(0,l.useState)(null),[B,P]=(0,l.useState)(!1),[E,Z]=(0,l.useState)(new Set),[F,z]=(0,l.useState)({}),[_,L]=(0,l.useState)({title:"",description:"",priority:"medium",dueDate:""}),[$,M]=(0,l.useState)([{id:"1",title:"ワイヤーフレーム作成",description:"メインページとサブページのワイヤーフレームを作成する",status:"completed",priority:"high",assignee:{id:"1",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-02-15",createdAt:"2024-01-10T09:00:00Z",completedAt:"2024-02-10T15:30:00Z",evaluation:{points:85,rating:4,comment:"デザインの品質が高く、要件を満たしている。改善点も含めて良い提案だった。",evaluatedAt:"2024-02-10T16:00:00Z",evaluatedBy:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"}},comments:[{id:"1",content:"ワイヤーフレームの完成度が高いですね。ユーザビリティの観点からも良い設計だと思います。",createdAt:"2024-02-10T14:30:00Z",author:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"}},{id:"2",content:"レスポンシブ対応も考慮されているのが良いです。",createdAt:"2024-02-10T15:00:00Z",author:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"}}]},{id:"2",title:"デザインシステム構築",description:"カラーパレット、タイポグラフィ、コンポーネントライブラリの作成",status:"in-progress",priority:"high",assignee:{id:"2",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-02-28",createdAt:"2024-01-15T10:00:00Z",completedAt:null,evaluation:null},{id:"3",title:"フロントエンド実装",description:"React.jsを使用したフロントエンドの実装",status:"todo",priority:"medium",assignee:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-03-10",createdAt:"2024-01-20T11:00:00Z",completedAt:null,evaluation:null},{id:"4",title:"SEO対策実装",description:"メタタグ、構造化データ、サイトマップの実装",status:"todo",priority:"low",assignee:null,project:{id:s,name:t,color:"#3b82f6"},dueDate:"2024-03-15",createdAt:"2024-01-25T14:00:00Z",completedAt:null,evaluation:null}]),O=$.filter(e=>{let s=e.title.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()),t=0===x.length||x.includes(e.status),a=0===j.length||j.includes(e.priority);return s&&t&&a}),es=x.length+j.length,et=e=>{M(s=>s.map(s=>{if(s.id===e){let e="completed"===s.status?"todo":"completed";return{...s,status:e,completedAt:"completed"===e?new Date().toISOString():null}}return s}))},ei=e=>{window.location.href="/projects/".concat(s,"/tasks/").concat(e.id)},en=e=>{f(e),y(!0)},ec=e=>{C(e),S(!0)},ed=e=>{Z(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},eo=(e,s)=>{z(t=>({...t,[e]:s}))},ex=e=>{let s=F[e];if(!(null==s?void 0:s.trim()))return;let t=$.find(s=>s.id===e);if(!t)return;let a={id:Date.now().toString(),content:s,createdAt:new Date().toISOString(),author:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}},l={...t,comments:[...t.comments||[],a]};M(e=>e.map(e=>e.id===l.id?l:e)),z(s=>{let t={...s};return delete t[e],t}),Z(s=>{let t=new Set(s);return t.delete(e),t})},em=e=>{switch(e){case"todo":default:return"bg-slate-100 text-slate-800 border border-slate-200";case"in-progress":return"bg-emerald-100 text-emerald-800 border border-emerald-200";case"completed":return"bg-blue-100 text-blue-800 border border-blue-200"}},eh=e=>{switch(e){case"todo":default:return"未着手";case"in-progress":return"進行中";case"completed":return"完了"}},eu=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-amber-100 text-amber-800 border border-amber-200";case"low":return"bg-emerald-100 text-emerald-800 border border-emerald-200";default:return"bg-slate-100 text-slate-800 border border-slate-200"}},ej=e=>{switch(e){case"high":return"高";case"medium":default:return"中";case"low":return"低"}},ep=e=>"completed"===e?"bg-slate-50":"bg-white";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"タスク一覧"}),(0,a.jsx)("p",{className:"text-slate-600",children:"プロジェクトのタスクを管理・追跡"})]}),(0,a.jsxs)(r.$,{onClick:()=>v(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white w-full sm:w-auto",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-2"}),"新規タスク"]})]}),(0,a.jsx)(X.N,{searchQuery:c,onSearchChange:o,filters:[{id:"status",label:"ステータス",icon:R.A,values:x,options:[{value:"todo",label:"未着手"},{value:"in-progress",label:"進行中"},{value:"completed",label:"完了"}],onValuesChange:h},{id:"priority",label:"優先度",icon:R.A,values:j,options:[{value:"high",label:"高"},{value:"medium",label:"中"},{value:"low",label:"低"}],onValuesChange:p}],onClearFilters:()=>{h([]),p([])},activeFiltersCount:es,searchPlaceholder:"タスクを検索..."}),(0,a.jsx)(U.U,{typeFilter:"all",activeFiltersCount:es,statusFilter:x.join(", "),priorityFilter:j.join(", "),isStatusMultiSelect:!0,isPriorityMultiSelect:!0}),O.length>0?(0,a.jsx)("div",{className:"space-y-3",children:O.map(e=>{var s,t,l;let c="completed"===e.status;return(0,a.jsx)(n.Zp,{className:"border border-slate-200 hover:shadow-sm transition-shadow cursor-pointer ".concat(ep(e.status)),onClick:()=>ei(e),children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,a.jsx)(K.S,{checked:c,onCheckedChange:()=>et(e.id),className:"mt-1 data-[state=checked]:bg-emerald-600 data-[state=checked]:border-emerald-600"})}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 line-clamp-2 ".concat(c?"line-through opacity-75":""),children:e.title}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{onClick:s=>{s.stopPropagation(),en(e)},children:"編集"}),(0,a.jsx)(d._2,{children:"複製"}),(0,a.jsx)(d._2,{className:"text-red-600",children:"削除"})]})]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-600 line-clamp-2 ".concat(c?"opacity-75":""),children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(i.E,{className:em(e.status),variant:"outline",children:eh(e.status)}),(0,a.jsx)(i.E,{className:eu(e.priority),variant:"outline",children:ej(e.priority)}),e.dueDate&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),(0,J.GP)(new Date(e.dueDate),"M/d",{locale:W.ja})]}),c&&e.completedAt&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsx)(b.A,{className:"w-3 h-3"}),(0,J.GP)(new Date(e.completedAt),"M/d",{locale:W.ja})]}),e.assignee&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-600",children:[(0,a.jsxs)(D.eu,{className:"w-3 h-3",children:[(0,a.jsx)(D.BK,{src:e.assignee.avatar||"/placeholder.svg",alt:e.assignee.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.assignee.name.charAt(0)})]}),e.assignee.name]})]}),c&&(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.evaluation?(0,a.jsx)(el,{isEvaluated:!0,points:e.evaluation.points,rating:e.evaluation.rating,onClick:s=>{null==s||s.stopPropagation(),ec(e)}}):(0,a.jsx)(el,{isEvaluated:!1,onClick:s=>{null==s||s.stopPropagation(),ec(e)}}),(0,a.jsx)(er,{commentCount:(null===(s=e.comments)||void 0===s?void 0:s.length)||0,onClick:s=>{null==s||s.stopPropagation(),ed(e.id)}})]}),!c&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:(0,a.jsx)(er,{commentCount:(null===(t=e.comments)||void 0===t?void 0:t.length)||0,onClick:s=>{null==s||s.stopPropagation(),ed(e.id)}})}),E.has(e.id)&&(0,a.jsx)("div",{className:"mt-4 -ml-7 -mr-2 sm:-ml-4 sm:mx-0",children:(0,a.jsxs)(n.Zp,{className:"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",children:[(0,a.jsx)("div",{className:"px-4 sm:px-6 pb-3",children:(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"コメント"})}),(0,a.jsxs)("div",{className:"px-4 sm:px-6 space-y-4",children:[e.comments&&e.comments.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.comments.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)(D.eu,{className:"w-8 h-8 flex-shrink-0",children:[(0,a.jsx)(D.BK,{src:e.author.avatar,alt:e.author.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.author.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,J.GP)(new Date(e.createdAt),"M/d H:mm",{locale:W.ja})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 break-words",children:e.content})]})]},e.id))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"まだコメントがありません"}),(0,a.jsxs)("div",{className:"space-y-3 border-t pt-4",children:[(0,a.jsx)(V.T,{placeholder:"コメントを入力...",value:F[e.id]||"",onChange:s=>eo(e.id,s.target.value),maxLength:500,className:"min-h-[80px] resize-none"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(F[e.id]||"").length,"/500文字"]}),(0,a.jsxs)(r.$,{onClick:s=>{s.stopPropagation(),ex(e.id)},disabled:!(null===(l=F[e.id])||void 0===l?void 0:l.trim()),size:"sm",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 mr-2"}),"送信"]})]})]})]})]})})]})]})})},e.id)})}):(0,a.jsx)(q.p,{icon:b.A,title:"タスクが見つかりません",description:"検索条件を変更するか、新しいタスクを作成してください。",actionLabel:"最初のタスクを作成",onAction:()=>v(!0),variant:"task"}),(0,a.jsx)(Q.j,{isOpen:g,onClose:()=>v(!1),newTask:_,onNewTaskChange:L,onCreate:()=>{let e={id:Date.now().toString(),title:_.title,description:_.description,status:"todo",priority:_.priority,assignee:null,project:{id:s,name:t,color:"#3b82f6"},dueDate:_.dueDate||null,createdAt:new Date().toISOString(),completedAt:null};M(s=>[...s,e]),v(!1),L({title:"",description:"",priority:"medium",dueDate:""})}}),(0,a.jsx)(Y.t,{task:N,isOpen:w,onClose:()=>{y(!1),f(null)},onUpdate:e=>{M(s=>s.map(s=>s.id===e.id?e:s)),y(!1),f(null)}}),(0,a.jsx)(ee.$,{isOpen:k,onClose:()=>{S(!1),C(null)},task:A||{id:"",title:"",status:"completed",completedAt:null,evaluation:null},onEvaluate:e=>{if(!A)return;let s={...A,evaluation:{...e,evaluatedAt:new Date().toISOString(),evaluatedBy:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}}};M(e=>e.map(e=>e.id===s.id?s:e)),S(!1),C(null)}}),(0,a.jsx)(ea,{isOpen:B,onClose:()=>{P(!1),I(null)},task:T||{id:"",title:"",status:"completed",completedAt:null,evaluation:null},comments:(null==T?void 0:T.comments)||[],onAddComment:e=>{if(!T)return;let s={id:Date.now().toString(),content:e,createdAt:new Date().toISOString(),author:{id:"current-user",name:"現在のユーザー",avatar:"/placeholder.svg?height=32&width=32&text=現"}},t={...T,comments:[...T.comments||[],s]};M(e=>e.map(e=>e.id===t.id?t:e))}})]})}var en=t(89852),ec=t(82714);function ed(e){let{projectName:s,isCreateModalOpen:t,onOpenCreateModal:l,onCloseCreateModal:i,newPost:n,onNewPostChange:c,onCreatePost:d}=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Wiki・お知らせ"})}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"プロジェクトの情報共有とドキュメント管理"})]}),(0,a.jsxs)(et.lG,{open:t,onOpenChange:e=>e?l():i(),children:[(0,a.jsx)(et.zM,{asChild:!0,children:(0,a.jsxs)(r.$,{className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-2"}),"新規投稿"]})}),(0,a.jsxs)(et.Cf,{className:"sm:max-w-[600px]",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsx)(et.L3,{children:"新しい投稿を作成"}),(0,a.jsx)(et.rr,{children:"プロジェクトメンバーと共有する情報を投稿してください。"})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec.J,{htmlFor:"title",children:"タイトル"}),(0,a.jsx)(en.p,{id:"title",value:n.title,onChange:e=>c({...n,title:e.target.value}),placeholder:"投稿のタイトルを入力",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec.J,{htmlFor:"content",children:"内容"}),(0,a.jsx)(V.T,{id:"content",value:n.content,onChange:e=>c({...n,content:e.target.value}),placeholder:"投稿の内容を入力",className:"border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 min-h-[120px]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ec.J,{htmlFor:"type",children:"投稿タイプ"}),(0,a.jsxs)("select",{id:"type",value:n.type,onChange:e=>c({...n,type:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-md focus:border-emerald-500 focus:outline-none",children:[(0,a.jsx)("option",{value:"announcement",children:"お知らせ"}),(0,a.jsx)("option",{value:"documentation",children:"ドキュメント"}),(0,a.jsx)("option",{value:"meeting-notes",children:"議事録"}),(0,a.jsx)("option",{value:"update",children:"アップデート"})]})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:i,className:"border-slate-200 text-slate-600 hover:bg-slate-50",children:"キャンセル"}),(0,a.jsx)(r.$,{type:"button",onClick:d,disabled:!n.title.trim()||!n.content.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"投稿"})]})]})]})]})}var eo=t(47924);let ex=e=>{switch(e){case"announcement":return"お知らせ";case"documentation":return"ドキュメント";case"meeting-notes":return"議事録";case"update":return"アップデート";default:return e}},em=e=>{switch(e){case"announcement":return"bg-blue-100 text-blue-800";case"documentation":return"bg-emerald-100 text-emerald-800";case"meeting-notes":return"bg-purple-100 text-purple-800";case"update":return"bg-orange-100 text-orange-800";default:return"bg-slate-100 text-slate-800"}};function eh(e){let{searchQuery:s,onSearchChange:t,typeFilter:l,onTypeFilterChange:c,activeFiltersCount:o,onClearFilters:x}=e;return(0,a.jsx)(n.Zp,{className:"border border-slate-200 bg-white",children:(0,a.jsxs)(n.Wu,{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eo.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,a.jsx)(en.p,{placeholder:"投稿を検索...",value:s,onChange:e=>t(e.target.value),className:"pl-10 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 bg-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 ".concat("all"!==l?"border-emerald-300":"border-slate-200"),children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"種類","all"!==l&&(0,a.jsx)(i.E,{className:"ml-2 ".concat(em(l)),children:ex(l)})]})}),(0,a.jsxs)(d.SQ,{align:"start",className:"w-48",children:[(0,a.jsx)(d._2,{onClick:()=>c("all"),children:"すべて"}),(0,a.jsx)(d._2,{onClick:()=>c("announcement"),children:"お知らせ"}),(0,a.jsx)(d._2,{onClick:()=>c("documentation"),children:"ドキュメント"}),(0,a.jsx)(d._2,{onClick:()=>c("meeting-notes"),children:"議事録"}),(0,a.jsx)(d._2,{onClick:()=>c("update"),children:"アップデート"})]})]}),o>0&&(0,a.jsxs)(r.$,{variant:"outline",onClick:x,className:"w-full sm:w-auto border-red-200 text-red-600 hover:bg-red-50 bg-white",children:["フィルターをクリア (",o,")"]})]})]})})}var eu=t(59963);let ej=e=>{switch(e){case"announcement":return"bg-blue-100 text-blue-800 border-blue-200";case"documentation":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"meeting-notes":return"bg-purple-100 text-purple-800 border-purple-200";case"update":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}},ep=e=>{switch(e){case"announcement":return"お知らせ";case"documentation":return"ドキュメント";case"meeting-notes":return"議事録";case"update":return"アップデート";default:return e}};function eg(e){let{posts:s,projectId:t,showPinnedSection:l=!1}=e;return 0===s.length?null:(0,a.jsxs)("div",{className:"space-y-4",children:[l&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eu.A,{className:"w-4 h-4 text-slate-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"ピン留め投稿"})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsx)(A(),{href:"/projects/".concat(t,"/wiki/").concat(e.id),children:(0,a.jsxs)(n.Zp,{className:"border border-slate-200 hover:shadow-sm transition-shadow cursor-pointer ".concat(l?"bg-white":""),children:[(0,a.jsx)(n.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(n.ZB,{className:"text-lg font-semibold text-slate-900",children:e.title}),(0,a.jsx)(i.E,{className:ej(e.type),variant:"outline",children:ep(e.type)}),e.pinned&&(0,a.jsx)(eu.A,{className:"w-4 h-4 text-slate-600"})]}),(0,a.jsx)(n.BT,{className:"text-slate-600 leading-relaxed line-clamp-2",children:e.content})]})})}),(0,a.jsx)(n.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(D.eu,{className:"w-6 h-6",children:[(0,a.jsx)(D.BK,{src:e.author.avatar||"/placeholder.svg",alt:e.author.name}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.author.name.charAt(0)})]}),(0,a.jsx)("span",{children:e.author.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("ja-JP")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(es.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.commentsCount})]})]})})]})},e.id))})]})}function ev(e){let{projectId:s,projectName:t}=e,[r,i]=(0,l.useState)(""),[n,c]=(0,l.useState)("all"),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)({title:"",content:"",type:"announcement"}),[h]=(0,l.useState)([{id:"1",title:"プロジェクト開始のお知らせ",content:"Webサイトリニューアルプロジェクトを開始いたします。チーム一丸となって取り組みましょう。",type:"announcement",author:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},createdAt:"2024-01-15T09:00:00Z",updatedAt:"2024-01-15T09:00:00Z",pinned:!0,commentsCount:3},{id:"2",title:"デザインガイドライン",content:"新しいデザインシステムのガイドラインを作成しました。カラーパレット、タイポグラフィ、コンポーネントの使用方法について記載しています。",type:"documentation",author:{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},createdAt:"2024-01-18T14:30:00Z",updatedAt:"2024-01-20T10:15:00Z",pinned:!1,commentsCount:7},{id:"3",title:"第1回ミーティング議事録",content:"プロジェクトキックオフミーティングの議事録です。決定事項、課題、次回までのアクションアイテムをまとめています。",type:"meeting-notes",author:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},createdAt:"2024-01-16T16:00:00Z",updatedAt:"2024-01-16T16:00:00Z",pinned:!1,commentsCount:2},{id:"4",title:"進捗アップデート - Week 2",content:"第2週の進捗状況をお知らせします。ワイヤーフレーム作成が完了し、デザイン作業に移行しています。",type:"update",author:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},createdAt:"2024-01-22T11:00:00Z",updatedAt:"2024-01-22T11:00:00Z",pinned:!1,commentsCount:5}]),u=h.filter(e=>{let s=e.title.toLowerCase().includes(r.toLowerCase())||e.content.toLowerCase().includes(r.toLowerCase()),t="all"===n||e.type===n;return s&&t}),j=u.filter(e=>e.pinned),p=u.filter(e=>!e.pinned),g=[n].filter(e=>"all"!==e).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(ed,{projectName:t,isCreateModalOpen:d,onOpenCreateModal:()=>o(!0),onCloseCreateModal:()=>o(!1),newPost:x,onNewPostChange:m,onCreatePost:()=>{console.log("Creating wiki post:",x),o(!1),m({title:"",content:"",type:"announcement"})}}),(0,a.jsx)(eh,{searchQuery:r,onSearchChange:i,typeFilter:n,onTypeFilterChange:c,activeFiltersCount:g,onClearFilters:()=>c("all")}),(0,a.jsx)(U.U,{typeFilter:n,activeFiltersCount:g}),j.length>0&&(0,a.jsx)(eg,{posts:j,projectId:s,showPinnedSection:!0}),p.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[j.length>0&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"投稿一覧"}),(0,a.jsx)(eg,{posts:p,projectId:s})]}),0===u.length&&(0,a.jsx)(q.p,{icon:N.A,title:"投稿がありません",description:"プロジェクトの情報共有を始めましょう。お知らせやドキュメントを投稿してください。",actionLabel:"最初の投稿を作成",onAction:()=>o(!0),variant:"wiki"})]})}var eb=t(27213),eN=t(9803),ef=t(30227),ew=t(99890),ey=t(29869),eA=t(1482),eD=t(5196),eC=t(85213),ek=t(95488),eS=t(15968),eT=t(54653),eI=t(13052),eB=t(9343),eP=t(91788),eE=t(92657),eZ=t(44940);function eF(e){let{projectId:s,projectName:t}=e,[o,x]=(0,l.useState)([{id:"1",name:"プロジェクト概要.pdf",size:2048576,type:"pdf",uploadedBy:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},uploadedAt:new Date("2024-02-15T10:00:00Z"),downloadCount:12,isPublic:!0,parentId:void 0},{id:"2",name:"デザインガイドライン.docx",size:1048576,type:"docx",uploadedBy:{id:"2",name:"佐藤花子",avatar:"/placeholder.svg?height=32&width=32&text=佐"},uploadedAt:new Date("2024-02-14T15:30:00Z"),downloadCount:8,isPublic:!0,parentId:void 0},{id:"3",name:"ロゴデザイン.ai",size:5242880,type:"ai",uploadedBy:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},uploadedAt:new Date("2024-02-13T09:15:00Z"),downloadCount:5,isPublic:!1,parentId:void 0},{id:"4",name:"プロトタイプ画像.png",size:3145728,type:"png",uploadedBy:{id:"3",name:"鈴木一郎",avatar:"/placeholder.svg?height=32&width=32&text=鈴"},uploadedAt:new Date("2024-02-12T14:20:00Z"),downloadCount:15,isPublic:!0,parentId:void 0},{id:"5",name:"デザインファイル",uploadedBy:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},uploadedAt:new Date("2024-02-10T10:00:00Z"),isPublic:!0,isFolder:!0,parentId:void 0}]),[m,h]=(0,l.useState)(""),[j,v]=(0,l.useState)("list"),[b,f]=(0,l.useState)(!1),[y,A]=(0,l.useState)(0),[C,k]=(0,l.useState)(!1),[S,T]=(0,l.useState)(null),[I,B]=(0,l.useState)(""),[P,E]=(0,l.useState)(!1),[Z,F]=(0,l.useState)(""),[z,_]=(0,l.useState)("date"),[L,$]=(0,l.useState)("desc"),[M,J]=(0,l.useState)("all"),[W,O]=(0,l.useState)(null),[G,R]=(0,l.useState)([]),[H,X]=(0,l.useState)(!1),[q,K]=(0,l.useState)(null),V=(0,l.useRef)(null),Q=e=>"isFolder"in e,Y=e=>{if(Q(e))return(0,a.jsx)(w.A,{className:"w-5 h-5 text-amber-500"});switch(e.type){case"pdf":return(0,a.jsx)(N.A,{className:"w-5 h-5 text-red-500"});case"docx":case"doc":return(0,a.jsx)(N.A,{className:"w-5 h-5 text-blue-500"});case"png":case"jpg":case"jpeg":case"gif":return(0,a.jsx)(eb.A,{className:"w-5 h-5 text-green-500"});case"mp4":case"avi":case"mov":return(0,a.jsx)(eN.A,{className:"w-5 h-5 text-purple-500"});case"mp3":case"wav":return(0,a.jsx)(ef.A,{className:"w-5 h-5 text-orange-500"});case"zip":case"rar":return(0,a.jsx)(p.A,{className:"w-5 h-5 text-gray-500"});case"ai":case"psd":return(0,a.jsx)(ew.A,{className:"w-5 h-5 text-pink-500"});default:return(0,a.jsx)(ew.A,{className:"w-5 h-5 text-gray-500"})}},ee=e=>{if(!e||0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},es=e=>{e&&0!==e.length&&!b&&(f(!0),A(0),(()=>{let s=setInterval(()=>{A(t=>{if(t>=100){clearInterval(s),f(!1),A(0);let t=[];for(let s=0;s<e.length;s++){let a=e[s];t.push({id:Date.now().toString()+Math.random(),name:a.name,size:a.size,type:a.name.split(".").pop()||"unknown",uploadedBy:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},uploadedAt:new Date,downloadCount:0,isPublic:!0,parentId:W||void 0})}return x(e=>{let s=new Set(e.map(e=>e.name));return[...t.filter(e=>!s.has(e.name)),...e]}),100}return t+10})},200)})())},ea=e=>{x(s=>s.filter(s=>s.id!==e))},el=e=>{x(s=>s.map(s=>s.id===e.id?{...s,downloadCount:s.downloadCount+1}:s))},er=(e,s)=>{x(t=>t.map(t=>t.id===e?{...t,name:s}:t)),T(null),B("")},ei=()=>{if(!Z.trim())return;let e={id:Date.now().toString(),name:Z.trim(),uploadedBy:{id:"1",name:"田中太郎",avatar:"/placeholder.svg?height=32&width=32&text=田"},uploadedAt:new Date,isPublic:!0,parentId:W||void 0,isFolder:!0};x(s=>[e,...s]),F(""),E(!1)},ec=e=>{O(e.id),R(s=>[...s,e.id])},ed=e=>{K(e),X(!0)},ex=()=>{if(!W)return null;let e=o.find(e=>e.id===W&&Q(e));return null==e?void 0:e.name},em=o.filter(e=>{let s=e.name.toLowerCase().includes(m.toLowerCase()),t="all"===M||"folder"===M&&Q(e)||"folder"!==M&&!Q(e)&&e.type===M,a=null===W?void 0===e.parentId||null===e.parentId:e.parentId===W;return s&&t&&a}).sort((e,s)=>{let t=Q(e),a=Q(s);if(t&&!a)return -1;if(!t&&a)return 1;let l=0;switch(z){case"date":l=e.uploadedAt.getTime()-s.uploadedAt.getTime();break;case"name":l=e.name.localeCompare(s.name);break;case"size":l=t&&a?0:e.size-s.size}return"asc"===L?l:-l});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"ファイル共有"}),(0,a.jsx)("p",{className:"text-gray-600",children:"プロジェクトに関連するファイルを共有・管理できます"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(et.lG,{open:P,onOpenChange:E,children:(0,a.jsxs)(et.Cf,{children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsx)(et.L3,{children:"新しいフォルダを作成"}),(0,a.jsx)(et.rr,{children:W?"「".concat(ex(),"」フォルダ内に新しいフォルダを作成します。"):"プロジェクト内に新しいフォルダを作成します。"})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)(en.p,{placeholder:"フォルダ名を入力...",value:Z,onChange:e=>F(e.target.value),onKeyPress:e=>"Enter"===e.key&&ei()})}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>{E(!1),F("")},children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:ei,disabled:!Z.trim(),className:"bg-emerald-600 hover:bg-emerald-700",children:"作成"})]})]})}),(0,a.jsx)("input",{ref:V,type:"file",onChange:e=>{let s=e.target.files;s&&s.length>0&&es(s)},className:"hidden",multiple:!0})]})]}),b&&(0,a.jsx)(n.Zp,{className:"border-emerald-200 bg-emerald-50",children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(ey.A,{className:"w-5 h-5 text-emerald-600 animate-pulse"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-emerald-800 mb-1",children:[(0,a.jsx)("span",{children:"アップロード中..."}),(0,a.jsxs)("span",{children:[y,"%"]})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("div",{className:"h-2 bg-emerald-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-emerald-500 transition-all duration-300 ease-out",style:{width:"".concat(y,"%")}})})})]})]})})}),(0,a.jsx)(n.Zp,{className:"border border-slate-200 bg-white",children:(0,a.jsxs)(n.Wu,{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eo.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,a.jsx)(en.p,{placeholder:"ファイルを検索...",value:m,onChange:e=>h(e.target.value),className:"pl-10 border-slate-200 focus:border-emerald-500 focus:ring-emerald-500 bg-white"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 ".concat("all"!==M?"border-emerald-300":"border-slate-200"),children:[(0,a.jsx)(eA.A,{className:"w-4 h-4 mr-2"}),"ファイル形式","all"!==M&&(0,a.jsx)(i.E,{className:"ml-2 bg-emerald-100 text-emerald-800 border border-emerald-200",children:"folder"===M?"フォルダ":(M||"").toUpperCase()})]})}),(0,a.jsxs)(d.SQ,{align:"start",className:"w-48",children:[(0,a.jsxs)(d._2,{onClick:()=>J("all"),children:[(0,a.jsx)("span",{children:"すべて"}),"all"===M&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]}),(0,a.jsxs)(d._2,{onClick:()=>J("folder"),children:[(0,a.jsx)("span",{children:"フォルダ"}),"folder"===M&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]}),(()=>{let e=new Set;return o.forEach(s=>{if(!Q(s)){let t=s.type;t&&"unknown"!==t&&e.add(t)}}),Array.from(e)})().map(e=>(0,a.jsxs)(d._2,{onClick:()=>J(e),children:[(0,a.jsx)("span",{children:(e||"").toUpperCase()}),M===e&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]},e))]})]}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsxs)(r.$,{variant:"outline",className:"w-full sm:w-auto justify-start bg-white hover:bg-slate-50 text-slate-600 border-slate-200",children:[(0,a.jsx)(eC.A,{className:"w-4 h-4 mr-2"}),"並び替え"]})}),(0,a.jsxs)(d.SQ,{align:"start",className:"w-48",children:[(0,a.jsxs)(d._2,{onClick:()=>_("date"),children:[(0,a.jsx)("span",{children:"公開日"}),"date"===z&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]}),(0,a.jsxs)(d._2,{onClick:()=>_("name"),children:[(0,a.jsx)("span",{children:"名前"}),"name"===z&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]}),(0,a.jsxs)(d._2,{onClick:()=>_("size"),children:[(0,a.jsx)("span",{children:"サイズ"}),"size"===z&&(0,a.jsx)(eD.A,{className:"w-4 h-4"})]})]})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>$("asc"===L?"desc":"asc"),className:"border-slate-200 text-slate-600 hover:bg-slate-50 bg-white",children:"asc"===L?(0,a.jsx)(eC.A,{className:"w-4 h-4"}):(0,a.jsx)(ek.A,{className:"w-4 h-4"})}),(m||"all"!==M)&&(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>{h(""),J("all")},className:"w-full sm:w-auto border-red-200 text-red-600 hover:bg-red-50 bg-white",children:["フィルターをクリア (",+!!m+ +("all"!==M),")"]})]})]})}),(m||"all"!==M)&&(0,a.jsx)(U.U,{typeFilter:"all",activeFiltersCount:+!!m+ +("all"!==M),statusFilter:"all"!==M?M:void 0,priorityFilter:m?"search":void 0}),(0,a.jsx)(c.tU,{value:j,onValueChange:e=>v(e),className:"w-full",children:(0,a.jsxs)(c.j7,{className:"bg-gray-100 p-1 rounded-lg",children:[(0,a.jsxs)(c.Xi,{value:"list",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-3 py-2",children:[(0,a.jsx)(eS.A,{className:"w-4 h-4 mr-2"}),"リスト"]}),(0,a.jsxs)(c.Xi,{value:"grid",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-3 py-2",children:[(0,a.jsx)(eT.A,{className:"w-4 h-4 mr-2"}),"カード"]})]})}),(0,a.jsxs)(n.Zp,{className:"border-gray-200 bg-white",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,a.jsx)(n.ZB,{className:"text-lg font-semibold text-gray-900",children:W?ex():"ファイル一覧"})}),W&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-slate-600 mb-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-slate-500 hover:text-slate-700 cursor-pointer",onClick:()=>O(null),children:"ホーム"}),(()=>{let e=[],s=new Set;for(let t of G){if(s.has(t))continue;let a=o.find(e=>e.id===t&&Q(e));a&&(e.push({id:a.id,name:a.name}),s.add(t))}return e})().map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(eI.A,{className:"w-3 h-3 text-slate-400"}),(0,a.jsx)("span",{className:"text-slate-600 hover:text-slate-800 cursor-pointer",onClick:()=>{let s=G.indexOf(e.id);-1!==s&&(R(G.slice(0,s+1)),O(e.id))},children:e.name})]},e.id))]}),(0,a.jsxs)("div",{className:"text-sm text-slate-600 mb-2",children:[em.length,"個のアイテム"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,a.jsxs)(r.$,{onClick:()=>{var e;return null===(e=V.current)||void 0===e?void 0:e.click()},className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,a.jsx)(ey.A,{className:"w-4 h-4 mr-2"}),"ファイルアップロード"]}),(0,a.jsxs)(r.$,{onClick:()=>E(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:[(0,a.jsx)(eB.A,{className:"w-4 h-4 mr-2"}),W?"このフォルダ内に作成":"フォルダ作成"]})]})]})}),(0,a.jsxs)(n.Wu,{children:[0===em.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(ew.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ファイルがありません"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"最初のファイルをアップロードしてみましょう"})]}):"list"===j?(0,a.jsx)("div",{className:"space-y-2",children:em.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors ".concat(Q(e)?"cursor-pointer":""),onClick:()=>{Q(e)?ec(e):ed(e)},children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:Y(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[S===e.id?(0,a.jsx)(en.p,{value:I,onChange:e=>B(e.target.value),onKeyPress:s=>"Enter"===s.key&&er(e.id,I),onBlur:()=>er(e.id,I),className:"text-sm font-medium",autoFocus:!0}):(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),!e.isPublic&&(0,a.jsx)(i.E,{variant:"outline",className:"text-xs",children:"非公開"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[!Q(e)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:ee(e.size)}),(0,a.jsx)("span",{children:"•"})]}),(0,a.jsx)("span",{children:e.uploadedAt.toLocaleDateString("ja-JP")}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(D.eu,{className:"w-4 h-4",children:[(0,a.jsx)(D.BK,{src:e.uploadedBy.avatar}),(0,a.jsx)(D.q5,{className:"text-xs",children:e.uploadedBy.name.charAt(0)})]}),(0,a.jsx)("span",{children:e.uploadedBy.name})]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[!Q(e)&&(0,a.jsxs)(d._2,{onClick:()=>el(e),children:[(0,a.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"ダウンロード"]}),!Q(e)&&(0,a.jsxs)(d._2,{onClick:()=>ed(e),children:[(0,a.jsx)(eE.A,{className:"w-4 h-4 mr-2"}),"詳細表示"]}),(0,a.jsxs)(d._2,{onClick:()=>{T(e.id),B(e.name)},children:[(0,a.jsx)(eZ.A,{className:"w-4 h-4 mr-2"}),"リネーム"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{onClick:()=>ea(e.id),className:"text-red-600",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"削除"]})]})]})})]},e.id))}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:em.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors ".concat(Q(e)?"cursor-pointer":""),onClick:()=>{Q(e)?ec(e):ed(e)},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:Y(e)}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[!Q(e)&&(0,a.jsxs)(d._2,{onClick:()=>el(e),children:[(0,a.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"ダウンロード"]}),!Q(e)&&(0,a.jsxs)(d._2,{onClick:()=>ed(e),children:[(0,a.jsx)(eE.A,{className:"w-4 h-4 mr-2"}),"詳細表示"]}),(0,a.jsxs)(d._2,{onClick:()=>{T(e.id),B(e.name)},children:[(0,a.jsx)(eZ.A,{className:"w-4 h-4 mr-2"}),"リネーム"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{onClick:()=>ea(e.id),className:"text-red-600",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"削除"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[S===e.id?(0,a.jsx)(en.p,{value:I,onChange:e=>B(e.target.value),onKeyPress:s=>"Enter"===s.key&&er(e.id,I),onBlur:()=>er(e.id,I),className:"text-sm font-medium",autoFocus:!0}):(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),!Q(e)&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:ee(e.size)}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.uploadedBy.name}),!e.isPublic&&(0,a.jsx)(i.E,{variant:"outline",className:"text-xs",children:"非公開"})]})]},e.id))}),(0,a.jsx)("div",{className:"border border-dashed rounded-md p-4 sm:p-6 text-center transition-colors mt-4 ".concat(C?"border-emerald-400 bg-emerald-50":"border-gray-200 bg-gray-50 hover:border-gray-300"),onDragOver:e=>{e.preventDefault(),k(!0)},onDragLeave:e=>{e.preventDefault(),k(!1)},onDrop:e=>{e.preventDefault(),k(!1);let s=e.dataTransfer.files;s.length>0&&es(s)},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"mb-3",children:C?(0,a.jsx)(ey.A,{className:"w-8 h-8 text-emerald-600 animate-pulse"}):(0,a.jsx)(ey.A,{className:"w-8 h-8 text-gray-400"})}),(0,a.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-2",children:C?"ファイルをドロップしてください":"ファイルをドラッグ&ドロップ"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["または"," ",(0,a.jsx)("button",{onClick:()=>{var e;return null===(e=V.current)||void 0===e?void 0:e.click()},className:"text-emerald-600 hover:text-emerald-700 font-medium",children:"ファイルを選択"}),"してください"]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"PDF、画像、ドキュメント、その他のファイル形式をサポートしています"})]})})]})]}),(0,a.jsx)(et.lG,{open:H,onOpenChange:X,children:(0,a.jsxs)(et.Cf,{className:"max-w-md",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsxs)(et.L3,{className:"flex items-center gap-2",children:[q&&Y(q),"ファイル詳細"]}),(0,a.jsx)(et.rr,{children:"ファイルの詳細情報を確認できます"})]}),q&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:q.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"ファイル名"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:ee(q.size)}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"ファイルサイズ"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:q.type.toUpperCase()}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"ファイル形式"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[q.downloadCount,"回"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"ダウンロード回数"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:q.uploadedAt.toLocaleDateString("ja-JP")}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"アップロード日"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)(D.eu,{className:"w-6 h-6",children:[(0,a.jsx)(D.BK,{src:q.uploadedBy.avatar}),(0,a.jsx)(D.q5,{className:"text-xs",children:q.uploadedBy.name.charAt(0)})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:q.uploadedBy.name})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"アップロード者"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.E,{variant:q.isPublic?"default":"outline",children:q.isPublic?"公開":"非公開"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"公開設定"})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>X(!1),children:"閉じる"}),q&&(0,a.jsxs)(r.$,{onClick:()=>el(q),className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,a.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"ダウンロード"]})]})]})})]})}var ez=t(95784),e_=t(42355),eL=t(47863),e$=t(66474),eM=t(37223),eJ=t(48882),eW=t(3898),eO=t(22460);function eG(e){var s,t,i;let{projectId:c,projectName:d}=e,[o,x]=(0,l.useState)(new Date),[m,h]=(0,l.useState)(new Date),[u,j]=(0,l.useState)([...p.map(e=>({id:"task-".concat(e.id),title:e.title,description:e.description,startDate:new Date(e.dueDate),endDate:new Date(e.dueDate),color:"blue",isAllDay:!1,projectId:c,taskId:e.id,isTaskEvent:!0,eventType:"project",repeat:{type:"none",interval:1}})),{id:"1",title:"プロジェクトキックオフ",description:"プロジェクト開始の挨拶と目標共有",startDate:new Date(2025,7,15,9,0),endDate:new Date(2025,7,15,10,0),location:"会議室A",attendees:["プロジェクトメンバー全員"],tags:["キックオフ","会議"],color:"green",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"none",interval:1}},{id:"2",title:"デザインリビュー",description:"UI/UXデザインのレビュー会議",startDate:new Date(2025,7,18,14,0),endDate:new Date(2025,7,18,16,0),location:"オンライン",attendees:["デザインチーム","PM"],tags:["デザイン","レビュー"],color:"purple",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"none",interval:1}},{id:"3",title:"プロジェクト休暇",description:"メンテナンス作業のため",startDate:new Date(2025,7,20),endDate:new Date(2025,7,20),color:"red",isAllDay:!0,projectId:c,eventType:"project",repeat:{type:"none",interval:1}},{id:"4",title:"開発者会議",description:"技術的な課題の解決と方針決定",startDate:new Date(2025,7,22,10,0),endDate:new Date(2025,7,22,12,0),location:"開発室",attendees:["開発チーム"],tags:["開発","技術"],color:"blue",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"weekly",interval:1}},{id:"5",title:"プロジェクト完了記念日",description:"プロジェクト完了を祝う",startDate:new Date(2025,7,25),endDate:new Date(2025,7,25),location:"オフィス",color:"yellow",isAllDay:!0,projectId:c,eventType:"project",repeat:{type:"none",interval:1}},{id:"6",title:"プロジェクト開発フェーズ",description:"コア機能の実装期間",startDate:new Date(2025,7,19,9,0),endDate:new Date(2025,7,21,18,0),location:"開発室",attendees:["開発チーム"],tags:["開発","実装"],color:"blue",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"none",interval:1}},{id:"7",title:"プロジェクト休暇期間",description:"メンテナンスとリフレッシュ",startDate:new Date(2025,7,12),endDate:new Date(2025,7,14),color:"red",isAllDay:!0,projectId:c,eventType:"project",repeat:{type:"none",interval:1}}]),[p,g]=(0,l.useState)([]),[v,N]=(0,l.useState)(!1),[f,w]=(0,l.useState)(null),[y,A]=(0,l.useState)({title:"",description:"",startDate:new Date,endDate:new Date,location:"",attendees:[],tags:[],color:"blue",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"none",interval:1}}),[D,C]=(0,l.useState)(null),[k,S]=(0,l.useState)(!1),[T,I]=(0,l.useState)(!1),[B,P]=(0,l.useState)(null),[E,Z]=(0,l.useState)(!1),[F,z]=(0,l.useState)({personal:!0,projects:{}}),[_,L]=(0,l.useState)(""),[$,M]=(0,l.useState)([{id:"1",name:"プロジェクトA",color:"bg-blue-500"},{id:"2",name:"プロジェクトB",color:"bg-green-500"},{id:"3",name:"プロジェクトC",color:"bg-purple-500"},{id:"4",name:"Webサイト開発",color:"bg-red-500"},{id:"5",name:"モバイルアプリ開発",color:"bg-yellow-500"},{id:"6",name:"データベース設計",color:"bg-indigo-500"},{id:"7",name:"UI/UXデザイン",color:"bg-pink-500"},{id:"8",name:"テスト計画",color:"bg-orange-500"}]);(0,l.useEffect)(()=>{let e={};$.forEach(s=>{e[s.id]=!0}),z(s=>({...s,projects:e}))},[$]);let O=$.filter(e=>e.name.toLowerCase().includes(_.toLowerCase())),[R,H]=(0,l.useState)(!1),[X,U]=(0,l.useState)({interval:1,selectedDays:[],endType:"never",endDate:new Date,endCount:10});(0,l.useEffect)(()=>{let e=[{id:"1",title:"デザインガイドライン作成",description:"プロジェクトのデザインガイドラインを作成する",dueDate:new Date(2024,2,20),status:"in-progress",priority:"high"},{id:"2",title:"プロトタイプ作成",description:"主要機能のプロトタイプを作成する",dueDate:new Date(2024,2,25),status:"todo",priority:"medium"},{id:"3",title:"ユーザーテスト実施",description:"プロトタイプのユーザーテストを実施する",dueDate:new Date(2024,2,30),status:"todo",priority:"high"}];g(e);let s=e.map(e=>({id:"task-".concat(e.id),title:e.title,description:e.description,startDate:e.dueDate,endDate:e.dueDate,color:"high"===e.priority?"red":"medium"===e.priority?"yellow":"green",isAllDay:!0,projectId:c,taskId:e.id,isTaskEvent:!0,eventType:"project"}));j([{id:"1",title:"プロジェクト会議",description:"週次進捗確認会議",startDate:new Date(2024,2,15,10,0),endDate:new Date(2024,2,15,11,30),location:"会議室A",attendees:["田中太郎","佐藤花子","鈴木一郎"],tags:["会議","進捗確認"],color:"blue",isAllDay:!1,projectId:c,eventType:"project"},{id:"2",title:"デザインレビュー",description:"新機能のUIデザインについて",startDate:new Date(2024,2,18,14,0),endDate:new Date(2024,2,18,15,0),attendees:["田中太郎","佐藤花子"],tags:["デザイン","レビュー"],color:"green",isAllDay:!1,projectId:c,eventType:"project"},...s])},[c]);let q=[{value:"blue",label:"青",className:"bg-blue-500"},{value:"green",label:"緑",className:"bg-green-500"},{value:"red",label:"赤",className:"bg-red-500"},{value:"yellow",label:"黄",className:"bg-yellow-500"},{value:"purple",label:"紫",className:"bg-purple-500"},{value:"gray",label:"グレー",className:"bg-gray-500"}],K=e=>u.filter(s=>{let t=new Date(s.startDate),a=new Date(s.endDate),l=new Date(e),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(l.getFullYear(),l.getMonth(),l.getDate());return n>=r&&n<=i}),Q=e=>{h(e),A(s=>({...s,startDate:e,endDate:e})),N(!0)},Y=e=>{P(e),I(!0)},ee=e=>{switch(e){case"blue":default:return"bg-blue-500";case"green":return"bg-green-500";case"red":return"bg-red-500";case"yellow":return"bg-yellow-500";case"purple":return"bg-purple-500";case"gray":return"bg-gray-500"}},es=(e,s)=>{let t={blue:{bg:"bg-blue-500",text:"text-white",lightBg:"bg-blue-50",border:"border-blue-500",textColor:"text-blue-700"},green:{bg:"bg-green-500",text:"text-white",lightBg:"bg-green-50",border:"border-green-500",textColor:"text-green-700"},red:{bg:"bg-red-500",text:"text-white",lightBg:"bg-red-50",border:"border-red-500",textColor:"text-red-700"},yellow:{bg:"bg-yellow-500",text:"text-white",lightBg:"bg-yellow-50",border:"border-yellow-500",textColor:"text-yellow-700"},purple:{bg:"bg-purple-500",text:"text-white",lightBg:"bg-purple-50",border:"border-purple-500",textColor:"text-purple-700"},gray:{bg:"bg-gray-500",text:"text-white",lightBg:"bg-gray-50",border:"border-gray-500",textColor:"text-gray-700"}}[e.color],a=new Date(e.startDate),l=new Date(e.endDate),r=new Date(s),i=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(l.getFullYear(),l.getMonth(),l.getDate()),c=new Date(r.getFullYear(),r.getMonth(),r.getDate()),d=i.getTime()!==n.getTime(),o=c.getTime()===i.getTime(),x=c.getTime()===n.getTime();if(e.isAllDay){let e="".concat(t.bg," ").concat(t.text," text-xs px-2 py-1 rounded-sm truncate font-medium");return d&&(o||(e+=" rounded-l-none"),x||(e+=" rounded-r-none")),e}if(!d)return"".concat(t.lightBg," ").concat(t.border," ").concat(t.textColor," text-xs px-2 py-1 rounded-md border shadow-sm truncate font-medium");{let e="".concat(t.lightBg," ").concat(t.border," ").concat(t.textColor," text-xs px-2 py-1 border truncate font-medium");return o||(e+=" rounded-l-none border-l-0"),x||(e+=" rounded-r-none border-r-0"),e}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"プロジェクトカレンダー"}),(0,a.jsxs)("p",{className:"text-gray-600",children:[d,"の予定とタスクを管理"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)(r.$,{onClick:()=>N(!0),className:"bg-emerald-600 hover:bg-emerald-700",children:[(0,a.jsx)(G.A,{className:"w-4 h-4 mr-2"}),"予定を追加"]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x(new Date(o.getFullYear()-1,o.getMonth(),1)),className:"hidden sm:flex",children:"<<"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x((0,eM.a)(o,1)),children:(0,a.jsx)(e_.A,{className:"w-4 h-4"})}),(0,a.jsx)("h2",{className:"text-lg sm:text-xl font-semibold min-w-[120px] text-center",children:(0,J.GP)(o,"yyyy年M月",{locale:W.ja})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x((0,eJ.P)(o,1)),children:(0,a.jsx)(eI.A,{className:"w-4 h-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x(new Date(o.getFullYear()+1,o.getMonth(),1)),className:"hidden sm:flex",children:">>"})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>x(new Date),className:"text-xs sm:text-sm",children:"今日"})]})}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsxs)("div",{className:"mb-4 p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"表示する予定"}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>Z(!E),className:"h-7 px-3 text-xs hover:bg-gray-100",children:E?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eL.A,{className:"w-3 h-3 mr-1"}),"閉じる"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e$.A,{className:"w-3 h-3 mr-1"}),"開く"]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-md",children:[(0,a.jsx)("input",{type:"checkbox",id:"personal-filter",checked:F.personal,onChange:e=>z(s=>({...s,personal:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)(ec.J,{htmlFor:"personal-filter",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"個人予定"})]}),E&&(0,a.jsxs)("div",{className:"space-y-2 border-t pt-3",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"プロジェクト"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(en.p,{placeholder:"プロジェクトを検索",value:_,onChange:e=>L(e.target.value),className:"flex-1"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{let e=O.map(e=>e.id);if(e.every(e=>F.projects[e])){let s={...F.projects};e.forEach(e=>{delete s[e]}),z(e=>({...e,projects:s}))}else{let s={...F.projects};e.forEach(e=>{s[e]=!0}),z(e=>({...e,projects:s}))}},className:"h-7 px-3 text-xs hover:bg-gray-100",children:O.every(e=>F.projects[e.id])?"全て解除":"全て選択"})]}),(0,a.jsx)("div",{className:"max-h-40 overflow-y-auto",children:O.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-md transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",id:"project-".concat(e.id),checked:F.projects[e.id]||!1,onChange:s=>z(t=>({...t,projects:{...t.projects,[e.id]:s.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color)}),(0,a.jsx)(ec.J,{htmlFor:"project-".concat(e.id),className:"text-sm text-gray-700 cursor-pointer flex-1",children:e.name})]},e.id))})]}),!E&&O.length>0&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded-md",children:[O.filter(e=>F.projects[e.id]).length,"個のプロジェクトが表示中"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-0 border border-gray-200 rounded-lg overflow-hidden",children:[["日","月","火","水","木","金","土"].map(e=>(0,a.jsx)("div",{className:"bg-gray-50 p-3 text-center text-sm font-medium text-gray-700 border-b border-gray-200",children:e},e)),(()=>{let e=o.getFullYear(),s=o.getMonth(),t=new Date(e,s,1),l=new Date(e,s+1,0),r=t.getDay(),i=l.getDate(),n=[],c=new Date(e,s-1,0).getDate();for(let t=r-1;t>=0;t--){let l=c-t,r=new Date(e,s-1,l),i=K(r);n.push((0,a.jsxs)("div",{className:"h-20 sm:h-24 lg:h-28 border-r border-b border-gray-200 p-1 sm:p-2 bg-gray-50",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-1 text-gray-400",children:l}),(0,a.jsxs)("div",{className:"space-y-0.5 sm:space-y-1",children:[i.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"".concat(es(e,r)," opacity-60 flex items-center gap-1"),title:e.title,children:[e.isTaskEvent&&(0,a.jsx)(b.A,{className:"w-2 h-2"}),e.title]},e.id)),i.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 text-center",children:["+",i.length-2,"件"]})]})]},"prev-".concat(l)))}for(let t=1;t<=i;t++){let l=new Date(e,s,t),r=K(l),i=m&&(0,eW.r)(l,m),c=(0,eO.c)(l);n.push((0,a.jsxs)("div",{className:"h-20 sm:h-24 lg:h-28 border-r border-b border-gray-200 p-1 sm:p-2 cursor-pointer hover:bg-gray-50 transition-colors ".concat(c?"bg-emerald-50 border-emerald-200":""," ").concat(i?"bg-blue-50 border-blue-300":""),onClick:()=>Q(l),children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-1 ".concat(c?"text-emerald-700 font-bold":i?"text-blue-700":"text-gray-900"),children:t}),(0,a.jsxs)("div",{className:"space-y-0.5 sm:space-y-1",children:[r.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"".concat(es(e,l)," cursor-pointer hover:opacity-80 transition-opacity flex items-center gap-1"),onClick:s=>{s.stopPropagation(),Y(e)},title:e.title,children:[e.isTaskEvent&&(0,a.jsx)(b.A,{className:"w-2 h-2"}),e.title]},e.id)),r.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["+",r.length-2,"件"]})]})]},t))}let d=42-n.length;for(let t=1;t<=d;t++){let l=new Date(e,s+1,t),r=K(l);n.push((0,a.jsxs)("div",{className:"h-20 sm:h-24 lg:h-28 border-r border-b border-gray-200 p-1 sm:p-2 bg-gray-50",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm font-medium mb-1 text-gray-400",children:t}),(0,a.jsxs)("div",{className:"space-y-0.5 sm:space-y-1",children:[r.slice(0,2).map(e=>(0,a.jsxs)("div",{className:"".concat(es(e,l)," opacity-60 flex items-center gap-1"),title:e.title,children:[e.isTaskEvent&&(0,a.jsx)(b.A,{className:"w-2 h-2"}),e.title]},e.id)),r.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 text-center",children:["+",r.length-2,"件"]})]})]},"next-".concat(t)))}return n})()]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{className:"text-sm",children:"色の凡例"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:q.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded ".concat(e.className)}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:e.label})]},e.value))})})]})]})}),(0,a.jsx)(et.lG,{open:v,onOpenChange:N,children:(0,a.jsxs)(et.Cf,{className:"max-w-md",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsx)(et.L3,{children:"予定を追加"}),(0,a.jsxs)(et.rr,{children:[d,"の新しい予定を作成します"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"title",children:"タイトル"}),(0,a.jsx)(en.p,{id:"title",value:y.title,onChange:e=>A(s=>({...s,title:e.target.value})),placeholder:"予定のタイトル"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"color",children:"色"}),(0,a.jsxs)(ez.l6,{value:y.color,onValueChange:e=>A(s=>({...s,color:e})),children:[(0,a.jsx)(ez.bq,{children:(0,a.jsx)(ez.yv,{})}),(0,a.jsx)(ez.gC,{children:q.map(e=>(0,a.jsx)(ez.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat(e.className)}),e.label]})},e.value))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"description",children:"説明"}),(0,a.jsx)(V.T,{id:"description",value:y.description,onChange:e=>A(s=>({...s,description:e.target.value})),placeholder:"予定の詳細説明",rows:3})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"startDate",children:"開始日時"}),(0,a.jsx)(en.p,{id:"startDate",type:"datetime-local",value:(0,J.GP)(y.startDate||new Date,"yyyy-MM-dd'T'HH:mm"),onChange:e=>A(s=>({...s,startDate:new Date(e.target.value)}))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"endDate",children:"終了日時"}),(0,a.jsx)(en.p,{id:"endDate",type:"datetime-local",value:(0,J.GP)(y.endDate||new Date,"yyyy-MM-dd'T'HH:mm"),onChange:e=>A(s=>({...s,endDate:new Date(e.target.value)}))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"location",children:"場所"}),(0,a.jsx)(en.p,{id:"location",value:y.location,onChange:e=>A(s=>({...s,location:e.target.value})),placeholder:"会議室やオンラインURLなど"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"eventType",children:"イベントタイプ"}),(0,a.jsxs)(ez.l6,{value:y.eventType,onValueChange:e=>A(s=>({...s,eventType:e})),children:[(0,a.jsx)(ez.bq,{children:(0,a.jsx)(ez.yv,{})}),(0,a.jsxs)(ez.gC,{children:[(0,a.jsx)(ez.eb,{value:"personal",children:"個人予定"}),(0,a.jsx)(ez.eb,{value:"project",children:"プロジェクト予定"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"isAllDay",checked:y.isAllDay,onChange:e=>A(s=>({...s,isAllDay:e.target.checked})),className:"rounded"}),(0,a.jsx)(ec.J,{htmlFor:"isAllDay",children:"終日"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"repeat",children:"繰り返し"}),(0,a.jsxs)(ez.l6,{value:null===(s=y.repeat)||void 0===s?void 0:s.type,onValueChange:e=>A(s=>({...s,repeat:{...s.repeat,type:e,interval:1}})),children:[(0,a.jsx)(ez.bq,{children:(0,a.jsx)(ez.yv,{})}),(0,a.jsxs)(ez.gC,{children:[(0,a.jsx)(ez.eb,{value:"none",children:"繰り返しなし"}),(0,a.jsx)(ez.eb,{value:"daily",children:"毎日"}),(0,a.jsx)(ez.eb,{value:"weekly",children:"毎週"}),(0,a.jsx)(ez.eb,{value:"monthly",children:"毎月"}),(0,a.jsx)(ez.eb,{value:"yearly",children:"毎年"})]})]})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>N(!1),children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:()=>{if(!y.title||!y.startDate||!y.endDate)return;let e={id:Date.now().toString(),title:y.title,description:y.description,startDate:new Date(y.startDate),endDate:new Date(y.endDate),location:y.location,attendees:y.attendees||[],tags:y.tags||[],color:y.color||"blue",isAllDay:y.isAllDay||!1,projectId:c,taskId:y.taskId,repeat:y.repeat,eventType:"project"};j(s=>[...s,e]),C(e),S(!0),N(!1),A({title:"",description:"",startDate:new Date,endDate:new Date,location:"",attendees:[],tags:[],color:"blue",isAllDay:!1,projectId:c,eventType:"project",repeat:{type:"none",interval:1}})},className:"bg-emerald-600 hover:bg-emerald-700",children:"作成"})]})]})}),(0,a.jsx)(et.lG,{open:!!f,onOpenChange:()=>w(null),children:(0,a.jsxs)(et.Cf,{className:"max-w-md",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsx)(et.L3,{children:"予定を編集"}),(0,a.jsx)(et.rr,{children:"予定の詳細を編集します"})]}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-title",children:"タイトル"}),(0,a.jsx)(en.p,{id:"edit-title",value:f.title,onChange:e=>w(s=>s?{...s,title:e.target.value}:null),placeholder:"予定のタイトル"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-description",children:"説明"}),(0,a.jsx)(V.T,{id:"edit-description",value:f.description,onChange:e=>w(s=>s?{...s,description:e.target.value}:null),placeholder:"予定の詳細"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-startDate",children:"開始日時"}),(0,a.jsx)(en.p,{id:"edit-startDate",type:"datetime-local",value:(0,J.GP)(f.startDate,"yyyy-MM-dd'T'HH:mm"),onChange:e=>w(s=>s?{...s,startDate:new Date(e.target.value)}:null)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-endDate",children:"終了日時"}),(0,a.jsx)(en.p,{id:"edit-endDate",type:"datetime-local",value:(0,J.GP)(f.endDate,"yyyy-MM-dd'T'HH:mm"),onChange:e=>w(s=>s?{...s,endDate:new Date(e.target.value)}:null)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-location",children:"場所"}),(0,a.jsx)(en.p,{id:"edit-location",value:f.location,onChange:e=>w(s=>s?{...s,location:e.target.value}:null),placeholder:"会議室A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{htmlFor:"edit-color",children:"色"}),(0,a.jsxs)(ez.l6,{value:f.color,onValueChange:e=>w(s=>s?{...s,color:e}:null),children:[(0,a.jsx)(ez.bq,{children:(0,a.jsx)(ez.yv,{})}),(0,a.jsx)(ez.gC,{children:q.map(e=>(0,a.jsx)(ez.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat(e.className)}),e.label]})},e.value))})]})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>w(null),children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:()=>{f&&f.title&&f.startDate&&f.endDate&&(j(e=>e.map(e=>e.id===f.id?f:e)),w(null))},className:"bg-emerald-600 hover:bg-emerald-700",children:"更新"})]})]})]})}),(0,a.jsx)(et.lG,{open:k,onOpenChange:S,children:(0,a.jsxs)(et.Cf,{className:"max-w-md",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsxs)(et.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat(D?ee(D.color):"")}),"予定が作成されました"]}),(0,a.jsxs)(et.rr,{children:[d,"の新しい予定が正常に登録されました"]})]}),D&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:D.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"タイトル"})]}),D.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-900",children:D.description}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"説明"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(0,J.GP)(D.startDate,"M月d日 HH:mm",{locale:W.ja})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"開始日時"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(0,J.GP)(D.endDate,"M月d日 HH:mm",{locale:W.ja})}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"終了日時"})]})]}),D.location&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:D.location}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"場所"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat(ee(D.color))}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===(t=q.find(e=>e.value===D.color))||void 0===t?void 0:t.label}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"色"})]})]}),(0,a.jsx)(et.Es,{children:(0,a.jsx)(r.$,{onClick:()=>S(!1),className:"bg-emerald-600 hover:bg-emerald-700",children:"確認"})})]})}),(0,a.jsx)(et.lG,{open:T,onOpenChange:I,children:(0,a.jsxs)(et.Cf,{className:"max-w-md",children:[(0,a.jsx)(et.c7,{children:(0,a.jsxs)(et.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded ".concat(null===(i=q.find(e=>e.value===(null==B?void 0:B.color)))||void 0===i?void 0:i.bgColor)}),null==B?void 0:B.title]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(null==B?void 0:B.description)&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"説明"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:B.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"開始"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:(null==B?void 0:B.isAllDay)?(0,J.GP)(B.startDate,"yyyy年M月d日",{locale:W.ja}):(0,J.GP)((null==B?void 0:B.startDate)||new Date,"yyyy年M月d日 HH:mm",{locale:W.ja})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"終了"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:(null==B?void 0:B.isAllDay)?(0,J.GP)(B.endDate,"yyyy年M月d日",{locale:W.ja}):(0,J.GP)((null==B?void 0:B.endDate)||new Date,"yyyy年M月d日 HH:mm",{locale:W.ja})})]})]}),(null==B?void 0:B.location)&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"場所"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:B.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"タイプ"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:(null==B?void 0:B.eventType)==="personal"?"個人予定":"プロジェクト予定"})]}),(null==B?void 0:B.isTaskEvent)&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"タスク"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(b.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("p",{className:"text-sm text-gray-800",children:"タスクから自動生成"})]})]}),(null==B?void 0:B.isAllDay)&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"終日"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 mt-1",children:"はい"})]}),(null==B?void 0:B.repeat)&&"none"!==B.repeat.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)(ec.J,{className:"text-sm font-medium text-gray-600",children:"繰り返し"}),(0,a.jsxs)("p",{className:"text-sm text-gray-800 mt-1",children:["daily"===B.repeat.type&&"毎日","weekly"===B.repeat.type&&"毎週","monthly"===B.repeat.type&&"毎月","yearly"===B.repeat.type&&"毎年"]})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>I(!1),children:"閉じる"}),!(null==B?void 0:B.isTaskEvent)&&(0,a.jsx)(r.$,{onClick:()=>{B&&(w(B),I(!1))},className:"bg-emerald-600 hover:bg-emerald-700",children:"編集"})]})]})})]})}var eR=t(12318);function eH(e){let{projectName:s,isInviteOpen:t,onOpenInvite:l,onCloseInvite:i,inviteEmail:n,inviteRole:c,onInviteEmailChange:d,onInviteRoleChange:o,onSendInvite:x}=e;return(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-2",children:(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"メンバー一覧"})}),(0,a.jsx)("p",{className:"text-gray-600 text-base",children:"プロジェクトのメンバーと役割を管理します"})]}),(0,a.jsxs)(et.lG,{open:t,onOpenChange:e=>e?l():i(),children:[(0,a.jsx)(et.zM,{asChild:!0,children:(0,a.jsxs)(r.$,{className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 text-base font-medium",children:[(0,a.jsx)(eR.A,{className:"w-5 h-5 mr-2"}),"メンバー招待"]})}),(0,a.jsxs)(et.Cf,{className:"sm:max-w-[500px]",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsx)(et.L3,{className:"text-xl font-semibold text-gray-900",children:"メンバーを招待"}),(0,a.jsx)(et.rr,{className:"text-gray-600",children:"新しいメンバーをプロジェクトに招待します。招待メールが送信されます。"})]}),(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ec.J,{htmlFor:"email",className:"text-base font-medium text-gray-700",children:"メールアドレス"}),(0,a.jsx)(en.p,{id:"email",type:"email",placeholder:"member@example.com",value:n,onChange:e=>d(e.target.value),className:"border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 text-base"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ec.J,{htmlFor:"role",className:"text-base font-medium text-gray-700",children:"役割"}),(0,a.jsxs)("select",{id:"role",value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-md focus:border-emerald-500 focus:outline-none text-base",children:[(0,a.jsx)("option",{value:"member",children:"メンバー"}),(0,a.jsx)("option",{value:"subleader",children:"サブリーダー"}),(0,a.jsx)("option",{value:"leader",children:"リーダー"}),(0,a.jsx)("option",{value:"admin",children:"管理者"})]})]})]}),(0,a.jsxs)(et.Es,{children:[(0,a.jsx)(r.$,{type:"button",variant:"outline",onClick:i,className:"border-gray-200 text-gray-700 hover:bg-gray-50 px-6 py-3",children:"キャンセル"}),(0,a.jsx)(r.$,{type:"button",onClick:x,disabled:!n.trim(),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3",children:"招待を送信"})]})]})]})]})}var eX=t(55607),eU=t(14186),eq=t(28883),eK=t(19420),eV=t(4516),eQ=t(34869),eY=t(59099),e0=t(18175),e2=t(72894);function e1(e){var s;let{member:t,isOpen:r,onClose:d}=e,[o,m]=(0,l.useState)("overview"),h=(e=>{let s=[{name:"草の芽",color:"from-green-500 to-emerald-500"},{name:"若葉",color:"from-emerald-500 to-teal-500"},{name:"新芽",color:"from-teal-500 to-cyan-500"},{name:"成長",color:"from-cyan-500 to-blue-500"},{name:"開花",color:"from-blue-500 to-indigo-500"},{name:"実り",color:"from-indigo-500 to-purple-500"},{name:"豊作",color:"from-purple-500 to-pink-500"},{name:"収穫",color:"from-pink-500 to-red-500"},{name:"熟成",color:"from-red-500 to-orange-500"},{name:"伝説",color:"from-orange-500 to-yellow-500"}];return s[Math.min(e-1,s.length-1)]})(t.level||1),u=(t.totalExperience||0)%100,j=100-u;return(0,a.jsx)(et.lG,{open:r,onOpenChange:d,children:(0,a.jsxs)(et.Cf,{className:"sm:max-w-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(et.c7,{children:(0,a.jsxs)(et.L3,{className:"text-lg leading-none font-semibold flex items-center gap-3",children:[(0,a.jsxs)(D.eu,{className:"h-12 w-12",children:[(0,a.jsx)(D.BK,{src:t.avatar,alt:t.name}),(0,a.jsx)(D.q5,{children:t.name.charAt(0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-xl font-bold",children:t.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["レベル ",t.level||1]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[t.points||0,"pt"]})]})]})]})}),(0,a.jsxs)(c.tU,{value:o,onValueChange:m,className:"flex flex-col gap-2 mt-6",children:[(0,a.jsx)("div",{className:"bg-slate-100 p-1 rounded-lg",children:(0,a.jsxs)(c.j7,{className:"grid grid-cols-2 sm:grid-cols-4 w-full h-auto bg-transparent",children:[(0,a.jsx)(c.Xi,{value:"overview",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"概要"}),(0,a.jsx)(c.Xi,{value:"activity",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"活動"}),(0,a.jsx)(c.Xi,{value:"profile",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"プロフィール"}),(0,a.jsx)(c.Xi,{value:"projects",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm text-xs sm:text-sm",children:"プロジェクト"})]})}),(0,a.jsxs)(c.av,{value:"overview",className:"space-y-6",children:[(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-indigo-50 to-purple-50",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br ".concat(h.color," flex items-center justify-center text-white font-bold text-2xl shadow-lg"),children:t.level||1}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"LEVEL"})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(i.E,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-3 py-1",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-1"}),h.name]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[u,"/100 EXP"]})]}),(0,a.jsx)(C.k,{value:u,className:"h-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["総経験値: ",t.totalExperience||0]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["次のレベルまで: ",j]})]})]})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(z.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-700",children:t.points||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-green-800 mb-1",children:"総ポイント"}),(0,a.jsx)("div",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full inline-block",children:"+12% 今月"})]})}),(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-700",children:t.completedTasks||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"完了タスク"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full inline-block",children:"+8% 今月"})]})}),(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-purple-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(Z.A,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-purple-700",children:t.joinedProjects||0})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-purple-800 mb-1",children:"参加プロジェクト"}),(0,a.jsx)("div",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded-full inline-block",children:"+3% 今月"})]})}),(0,a.jsx)(n.Zp,{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200 shadow-sm hover:shadow-md transition-shadow",children:(0,a.jsxs)(n.Wu,{className:"p-4 text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-orange-600"})}),(0,a.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-orange-700",children:(null===(s=t.averageRating)||void 0===s?void 0:s.toFixed(1))||"0.0"})]}),(0,a.jsx)("div",{className:"text-sm font-medium text-orange-800 mb-1",children:"平均評価"}),(0,a.jsx)("div",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded-full inline-block",children:"+5% 今月"})]})})]}),(0,a.jsxs)(n.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(eX.A,{className:"h-5 w-5 text-orange-500"}),"ログイン状況"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-teal-500 flex items-center justify-center text-white text-2xl shadow-lg",children:"\uD83D\uDCC8"}),(0,a.jsxs)("div",{className:"text-sm font-bold mt-2 text-slate-700",children:[t.consecutiveLoginDays||0,"日連続"]})]}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"連続ログイン:"}),(0,a.jsxs)("span",{className:"font-medium text-slate-900",children:[t.consecutiveLoginDays||0,"日"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"総ログイン回数:"}),(0,a.jsxs)("span",{className:"font-medium text-slate-900",children:[t.totalLoginCount||0,"回"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"最終ログイン:"}),(0,a.jsx)("span",{className:"font-medium text-slate-900",children:t.lastLoginDate||"不明"})]})]})]})})]})]}),(0,a.jsx)(c.av,{value:"activity",className:"space-y-6",children:(0,a.jsxs)(n.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(eU.A,{className:"h-5 w-5 text-blue-500"}),"最近の活動"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"タスク完了"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"「Webサイトリニューアル」のタスクを完了"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"2時間前"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(M.A,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"レベルアップ"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"レベル4からレベル5にアップ"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"1日前"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-violet-50 border border-purple-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsx)(Z.A,{className:"h-5 w-5 text-purple-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-900",children:"プロジェクト参加"}),(0,a.jsx)("div",{className:"text-xs text-slate-600 mt-1",children:"「Webサイトリニューアル」プロジェクトに参加"})]}),(0,a.jsx)("div",{className:"text-xs text-slate-500 whitespace-nowrap",children:"3日前"})]})]})})]})}),(0,a.jsxs)(c.av,{value:"profile",className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-5 w-5 text-indigo-500"}),"基本情報"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eq.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"メールアドレス"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.email})]})]}),t.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eK.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"電話番号"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.phone})]})]}),t.location&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eV.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"所在地"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.location})]})]}),t.website&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[(0,a.jsx)(eQ.A,{className:"h-4 w-4 text-slate-600 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-slate-900",children:"ウェブサイト"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 truncate",children:t.website})]})]})]}),t.bio&&(0,a.jsxs)("div",{className:"pt-6 border-t border-slate-200",children:[(0,a.jsx)("div",{className:"text-sm font-medium mb-3 text-slate-900",children:"自己紹介"}),(0,a.jsx)("div",{className:"text-sm text-slate-600 leading-relaxed break-words",children:t.bio})]})]})]}),(t.github||t.twitter||t.linkedin)&&(0,a.jsxs)(n.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(eQ.A,{className:"h-5 w-5 text-green-500"}),"ソーシャルリンク"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[t.github&&(0,a.jsxs)("a",{href:t.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors border border-slate-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(eY.A,{className:"h-4 w-4 text-slate-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700 truncate",children:"GitHub"})]}),t.twitter&&(0,a.jsxs)("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors border border-blue-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(e0.A,{className:"h-4 w-4 text-blue-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 truncate",children:"Twitter"})]}),t.linkedin&&(0,a.jsxs)("a",{href:t.linkedin,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors border border-blue-200 min-w-0 flex-1 sm:flex-none",children:[(0,a.jsx)(e2.A,{className:"h-4 w-4 text-blue-700 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-700 truncate",children:"LinkedIn"})]})]})})]})]}),(0,a.jsx)(c.av,{value:"projects",className:"space-y-6",children:(0,a.jsxs)(n.Zp,{className:"bg-white border-slate-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,a.jsx)(Z.A,{className:"h-5 w-5 text-purple-500"}),"参加プロジェクト"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 border border-emerald-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:"Webサイトリニューアル"}),(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"メンバー • 2024/1/10参加"})]})]}),(0,a.jsx)(i.E,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"メンバー"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg hover:shadow-sm transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-slate-900",children:"デザインシステム構築"}),(0,a.jsx)("div",{className:"text-sm text-slate-600",children:"リーダー • 2024/1/25参加"})]})]}),(0,a.jsx)(i.E,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:"リーダー"})]})]})})]})})]})]})})}var e5=t(88524),e4=t(13717),e3=t(53904),e6=t(54861),e8=t(1243);function e9(e){let{members:s}=e,[t,n]=(0,l.useState)("name"),[c,o]=(0,l.useState)("asc"),[x,m]=(0,l.useState)(!1),[h,j]=(0,l.useState)(null),[p,v]=(0,l.useState)(!1),N=e=>{t===e?o("asc"===c?"desc":"asc"):(n(e),o("asc"))},f=[...s].sort((e,s)=>{let a,l;switch(t){case"name":default:a=e.name,l=s.name;break;case"role":a=e.role,l=s.role;break;case"joinedAt":a=new Date(e.joinedAt||"1970-01-01"),l=new Date(s.joinedAt||"1970-01-01")}return a<l?"asc"===c?-1:1:a>l?"asc"===c?1:-1:0}),w=f.filter(e=>"active"===e.status),y=f.filter(e=>"invited"===e.status),A=f.filter(e=>"declined"===e.status),C=e=>{switch(e){case"管理者":return"bg-red-50 text-red-700 border-red-200";case"リーダー":return"bg-orange-50 text-orange-700 border-orange-200";case"サブリーダー":return"bg-yellow-50 text-yellow-700 border-yellow-200";default:return"bg-blue-50 text-blue-700 border-blue-200"}},[k,S]=(0,l.useState)(null),[T,I]=(0,l.useState)(null),B=e=>{console.log("招待を再送:",e),S(null)},P=e=>{console.log("招待をキャンセル:",e),S(null)},E=e=>{j(e),v(!0)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(b.A,{className:"w-6 h-6 text-emerald-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"承認済みメンバー"}),(0,a.jsxs)(i.E,{variant:"secondary",className:"bg-emerald-100 text-emerald-800 px-3 py-1",children:[w.length,"人"]})]}),w.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(e5.XI,{children:[(0,a.jsx)(e5.A0,{children:(0,a.jsxs)(e5.Hj,{children:[(0,a.jsx)(e5.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("name"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["メンバー","name"===t&&("asc"===c?(0,a.jsx)(eL.A,{className:"w-4 h-4"}):(0,a.jsx)(e$.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(e5.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("role"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["役割","role"===t&&("asc"===c?(0,a.jsx)(eL.A,{className:"w-4 h-4"}):(0,a.jsx)(e$.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(e5.nd,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>N("joinedAt"),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["参加日","joinedAt"===t&&("asc"===c?(0,a.jsx)(eL.A,{className:"w-4 h-4"}):(0,a.jsx)(e$.A,{className:"w-4 h-4"}))]})}),(0,a.jsx)(e5.nd,{children:"最終アクティブ"}),(0,a.jsx)(e5.nd,{className:"w-[50px]"})]})}),(0,a.jsx)(e5.BF,{children:w.map(e=>(0,a.jsxs)(e5.Hj,{children:[(0,a.jsx)(e5.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-slate-50 p-1 rounded transition-colors",onClick:()=>E(e),children:[(0,a.jsxs)(D.eu,{className:"h-8 w-8",children:[(0,a.jsx)(D.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(D.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)(e5.nA,{children:(0,a.jsx)(i.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(e5.nA,{children:e.joinedAt?new Date(e.joinedAt).toLocaleDateString("ja-JP"):"未参加"}),(0,a.jsx)(e5.nA,{children:e.lastActive||"未アクセス"}),(0,a.jsx)(e5.nA,{children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsxs)(d._2,{children:[(0,a.jsx)(e4.A,{className:"w-4 h-4 mr-2"}),"役割を変更"]}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(eq.A,{className:"w-4 h-4 mr-2"}),"メッセージ送信"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{className:"text-red-600",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"メンバー削除"]})]})]})})]},e.id))})]})}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"承認済みメンバーはいません"})]}),y.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(eU.A,{className:"w-6 h-6 text-amber-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"招待中メンバー"}),(0,a.jsxs)(i.E,{variant:"secondary",className:"bg-amber-100 text-amber-800 px-3 py-1",children:[y.length,"人"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(e5.XI,{children:[(0,a.jsx)(e5.A0,{children:(0,a.jsxs)(e5.Hj,{children:[(0,a.jsx)(e5.nd,{children:"メンバー"}),(0,a.jsx)(e5.nd,{children:"役割"}),(0,a.jsx)(e5.nd,{children:"招待日"}),(0,a.jsx)(e5.nd,{className:"w-[120px]",children:"アクション"})]})}),(0,a.jsx)(e5.BF,{children:y.map(e=>(0,a.jsxs)(e5.Hj,{className:"bg-amber-50",children:[(0,a.jsx)(e5.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(D.eu,{className:"h-8 w-8",children:[(0,a.jsx)(D.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(D.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-700",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,a.jsx)(e5.nA,{children:(0,a.jsx)(i.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(e5.nA,{children:e.invitedAt?new Date(e.invitedAt).toLocaleDateString("ja-JP"):"不明"}),(0,a.jsx)(e5.nA,{children:(0,a.jsx)("span",{className:"text-sm text-slate-500",children:e.invitedAt?new Date(e.invitedAt).toLocaleDateString("ja-JP"):"不明"})}),(0,a.jsx)(e5.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>S("resend-".concat(e.id)),className:"h-7 px-2 text-xs border-slate-200 hover:bg-slate-50",children:[(0,a.jsx)(e3.A,{className:"w-3 h-3 mr-1"}),"再送"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>S("cancel-".concat(e.id)),className:"h-7 px-2 text-xs border-red-200 text-red-600 hover:bg-red-50",children:[(0,a.jsx)(e6.A,{className:"w-3 h-3 mr-1"}),"取り消し"]})]})})]},e.id))})]})})]}),A.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(e6.A,{className:"w-6 h-6 text-red-600"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"辞退済みメンバー"}),(0,a.jsxs)(i.E,{variant:"secondary",className:"bg-red-100 text-red-800 px-3 py-1",children:[A.length,"人"]})]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>m(!x),className:"border-gray-200 text-gray-700 hover:bg-gray-50",children:x?"非表示":"表示"})]}),x&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(e5.XI,{children:[(0,a.jsx)(e5.A0,{children:(0,a.jsxs)(e5.Hj,{children:[(0,a.jsx)(e5.nd,{children:"メンバー"}),(0,a.jsx)(e5.nd,{children:"役割"}),(0,a.jsx)(e5.nd,{children:"辞退日"})]})}),(0,a.jsx)(e5.BF,{children:A.map(e=>(0,a.jsxs)(e5.Hj,{className:"bg-red-50 opacity-75",children:[(0,a.jsx)(e5.nA,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(D.eu,{className:"h-8 w-8",children:[(0,a.jsx)(D.BK,{src:e.avatar||"/placeholder.svg",alt:e.name}),(0,a.jsx)(D.q5,{children:e.name[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-600",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.email})]})]})}),(0,a.jsx)(e5.nA,{children:(0,a.jsx)(i.E,{variant:"outline",className:C(e.role),children:e.role})}),(0,a.jsx)(e5.nA,{children:e.declinedAt?new Date(e.declinedAt).toLocaleDateString("ja-JP"):"不明"}),(0,a.jsx)(e5.nA,{children:(0,a.jsx)("span",{className:"text-sm text-slate-400",children:e.declinedAt?new Date(e.declinedAt).toLocaleDateString("ja-JP"):"不明"})})]},e.id))})]})})]}),(0,a.jsx)(et.lG,{open:!!k,onOpenChange:()=>S(null),children:(0,a.jsxs)(et.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(et.c7,{children:[(0,a.jsxs)(et.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(e8.A,{className:"w-5 h-5 text-amber-600"}),(null==k?void 0:k.startsWith("resend-"))?"招待を再送":"招待を取り消し"]}),(0,a.jsx)(et.rr,{children:(null==k?void 0:k.startsWith("resend-"))?"この招待を再送しますか？新しい招待メールが送信されます。":"この招待を取り消しますか？この操作は取り消せません。"})]}),(0,a.jsxs)(et.Es,{className:"gap-2",children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>S(null),className:"border-slate-200",children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:()=>{(null==k?void 0:k.startsWith("resend-"))?B(k.replace("resend-","")):(null==k?void 0:k.startsWith("cancel-"))&&P(k.replace("cancel-",""))},className:(null==k?void 0:k.startsWith("cancel-"))?"bg-red-600 hover:bg-red-700":"bg-emerald-600 hover:bg-emerald-700",children:(null==k?void 0:k.startsWith("resend-"))?"再送する":"取り消す"})]})]})}),h&&(0,a.jsx)(e1,{member:{...h,level:5,points:1450,totalExperience:450,completedTasks:87,joinedProjects:1,averageRating:4.5,consecutiveLoginDays:5,totalLoginCount:23,lastLoginDate:"2025/8/14",bio:"フルスタック開発者として5年の経験があります。React、TypeScript、Node.jsを得意としています。",location:"東京都",website:"https://example.com",github:"https://github.com/example",twitter:"https://twitter.com/example",linkedin:"https://linkedin.com/in/example"},isOpen:p,onClose:()=>{v(!1),j(null)}})]})}function e7(e){let{projectId:s}=e,[t,y]=(0,l.useState)("dashboard"),[D,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(""),[T,I]=(0,l.useState)("member"),B="Webサイトリニューアル",P="active",E="high";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(A(),{href:"/projects",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"プロジェクト一覧"]})})}),(0,a.jsx)(n.Zp,{className:"border border-gray-200 bg-white",children:(0,a.jsx)(n.aR,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-emerald-100 rounded-xl",children:(0,a.jsx)("div",{className:"w-8 h-8 text-emerald-600 font-bold text-xl flex items-center justify-center",children:"W"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.ZB,{className:"text-2xl font-semibold text-gray-900 mb-2",children:B}),(0,a.jsx)("p",{className:"text-gray-600 text-base",children:"Themesbrand"})]}),(0,a.jsx)("div",{className:"p-2 bg-amber-100 rounded-full",children:(0,a.jsx)(x.A,{className:"w-5 h-5 text-amber-500 fill-current"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-6 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["作成日: ",new Date("2024-01-10").toLocaleDateString("ja-JP")]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["期限: ",new Date("2024-03-15").toLocaleDateString("ja-JP")]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(i.E,{className:"bg-amber-100 text-amber-800 border-amber-200",children:"新規"}),(0,a.jsx)(i.E,{className:(e=>{switch(e){case"active":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";case"on-hold":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-slate-100 text-slate-800 border-slate-200"}})(P),variant:"outline",children:(e=>{switch(e){case"active":return"進行中";case"completed":return"完了";case"on-hold":return"保留";case"planning":return"計画中";default:return"不明"}})(P)}),(0,a.jsxs)("div",{className:"py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"high":return"text-red-600";case"medium":return"text-amber-600";case"low":return"text-emerald-600";default:return"text-slate-600"}})(E)),children:["優先度: ",(e=>{switch(e){case"high":return"高";case"medium":return"中";case"low":return"低";default:return"不明"}})(E)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"共有"]}),(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(d.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",className:"border-gray-200 text-gray-700 hover:bg-gray-50 bg-transparent",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})}),(0,a.jsxs)(d.SQ,{align:"end",children:[(0,a.jsx)(d._2,{asChild:!0,children:(0,a.jsxs)(A(),{href:"/projects/".concat(s,"/edit"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"プロジェクト設定"]})}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"お気に入りから削除"]}),(0,a.jsx)(d.mB,{}),(0,a.jsxs)(d._2,{children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"アーカイブ"]}),(0,a.jsxs)(d._2,{className:"text-red-600",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"削除"]})]})]})]})]})})})]}),(0,a.jsxs)(c.tU,{value:t,onValueChange:y,className:"w-full",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(c.j7,{className:"flex w-max min-w-full bg-gray-100 p-1 rounded-lg",children:[(0,a.jsxs)(c.Xi,{value:"dashboard",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 mr-2"}),"ダッシュボード"]}),(0,a.jsxs)(c.Xi,{value:"tasks",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(b.A,{className:"w-5 h-5 mr-2"}),"タスク一覧"]}),(0,a.jsxs)(c.Xi,{value:"wiki",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(N.A,{className:"w-5 h-5 mr-2"}),"Wiki・お知らせ"]}),(0,a.jsxs)(c.Xi,{value:"members",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(f.A,{className:"w-5 h-5 mr-2"}),"メンバー"]}),(0,a.jsxs)(c.Xi,{value:"files",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(w.A,{className:"w-5 h-5 mr-2"}),"ファイル"]}),(0,a.jsxs)(c.Xi,{value:"calendar",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900 text-sm font-medium whitespace-nowrap flex-shrink-0 px-4 py-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 mr-2"}),"カレンダー"]})]})}),(0,a.jsx)(c.av,{value:"dashboard",className:"mt-4",children:(0,a.jsx)(O,{projectId:s,projectName:B})}),(0,a.jsx)(c.av,{value:"tasks",className:"mt-4",children:(0,a.jsx)(ei,{projectId:s,projectName:B})}),(0,a.jsx)(c.av,{value:"members",className:"mt-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(eH,{projectName:B,isInviteOpen:D,onOpenInvite:()=>C(!0),onCloseInvite:()=>C(!1),inviteEmail:k,inviteRole:T,onInviteEmailChange:S,onInviteRoleChange:I,onSendInvite:()=>{console.log("Invite member:",{email:k,role:T}),S(""),I("member"),C(!1)}}),(0,a.jsx)(n.Zp,{className:"border-gray-200 bg-white shadow-sm",children:(0,a.jsx)(n.Wu,{className:"p-6",children:(0,a.jsx)(e9,{members:[{id:"1",name:"田中太郎",email:"tanaka@example.com",avatar:"/placeholder.svg?height=32&width=32&text=田",role:"管理者",joinedAt:"2024-01-10",lastActive:"2時間前",status:"active"},{id:"2",name:"佐藤花子",email:"sato@example.com",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"リーダー",joinedAt:"2024-01-12",lastActive:"1時間前",status:"active"},{id:"3",name:"鈴木一郎",email:"suzuki@example.com",avatar:"/placeholder.svg?height=32&width=32&text=鈴",role:"サブリーダー",joinedAt:"2024-01-15",lastActive:"30分前",status:"active"},{id:"4",name:"山田次郎",email:"yamada@example.com",avatar:"/placeholder.svg?height=32&width=32&text=山",role:"メンバー",joinedAt:"2024-01-18",lastActive:"5分前",status:"active"},{id:"5",name:"高橋美咲",email:"takahashi@example.com",avatar:"/placeholder.svg?height=32&width=32&text=高",role:"メンバー",joinedAt:null,lastActive:null,status:"invited",inviteCode:"WEB2024",invitedAt:"2024-02-15T10:00:00Z"},{id:"6",name:"渡辺誠",email:"watanabe@example.com",avatar:"/placeholder.svg?height=32&width=32&text=渡",role:"リーダー",joinedAt:null,lastActive:null,status:"invited",inviteCode:"WEB2024",invitedAt:"2024-02-14T15:30:00Z"},{id:"7",name:"佐々木健",email:"sasaki@example.com",avatar:"/placeholder.svg?height=32&width=32&text=佐",role:"メンバー",joinedAt:null,lastActive:null,status:"declined",inviteCode:"WEB2024",invitedAt:"2024-02-10T14:00:00Z",declinedAt:"2024-02-12T16:00:00Z"}]})})})]})}),(0,a.jsx)(c.av,{value:"wiki",className:"mt-4",children:(0,a.jsx)(ev,{projectId:s,projectName:B})}),(0,a.jsx)(c.av,{value:"files",className:"mt-4",children:(0,a.jsx)(eF,{projectId:s,projectName:B})}),(0,a.jsx)(c.av,{value:"calendar",className:"mt-4",children:(0,a.jsx)(eG,{projectId:s,projectName:B})})]})]})}},79897:(e,s,t)=>{Promise.resolve().then(t.bind(t,78058))},82714:(e,s,t)=>{"use strict";t.d(s,{J:()=>i});var a=t(95155);t(12115);var l=t(40968),r=t(53999);function i(e){let{className:s,...t}=e;return(0,a.jsx)(l.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},88524:(e,s,t)=>{"use strict";t.d(s,{A0:()=>i,BF:()=>n,Hj:()=>c,XI:()=>r,nA:()=>o,nd:()=>d});var a=t(95155);t(12115);var l=t(53999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",s),...t})})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...t})}},95139:(e,s,t)=>{"use strict";t.d(s,{S:()=>n});var a=t(95155);t(12115);var l=t(76981),r=t(5196),i=t(53999);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,a.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,a.jsx)(r.A,{className:"size-3.5"})})})}},95784:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>h,gC:()=>m,l6:()=>d,yv:()=>o});var a=t(95155);t(12115);var l=t(31992),r=t(66474),i=t(5196),n=t(47863),c=t(53999);function d(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(l.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:i,...n}=e;return(0,a.jsxs)(l.l9,{"data-slot":"select-trigger","data-size":t,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[i,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:r="popper",...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(j,{})]})})}function h(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(l.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(l.p4,{children:t})]})}function u(e){let{className:s,...t}=e;return(0,a.jsx)(l.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(n.A,{className:"size-4"})})}function j(e){let{className:s,...t}=e;return(0,a.jsx)(l.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},99474:(e,s,t)=>{"use strict";t.d(s,{T:()=>r});var a=t(95155);t(12115);var l=t(53999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,l.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...t})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9352,5905,8250,5152,6874,8698,5512,3646,6544,2575,5855,181,8613,7728,4820,6708,8441,1684,7358],()=>s(79897)),_N_E=e.O()}]);